!function e(t,o,n){function i(s,a){if(!o[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var c=o[s]={exports:{}};t[s][0].call(c.exports,function(e){var o=t[s][1][e];return i(o?o:e)},c,c.exports,e,t,o,n)}return o[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(e,t,o){!function(t){"use strict";function o(e){e.preventDefault(),t(".photo-editing").slideUp(300),t(".photo-removing").slideDown(300)}function n(e){e.preventDefault(),t(".photo-removing").slideUp(300),t(".photo-editing").slideDown(300)}function i(e){e.preventDefault();var o=t(this).closest(".social__item");o.siblings().find(".social__form").hide(),o.find(".social__form").show()}function r(e){e.preventDefault(),t(this).closest(".social__form").hide()}var s=e("./modules/preloader.js"),a=e("./modules/helpers.js"),l=(e("./modules/popup.js"),e("./modules/modal.js")),d=e("./modules/animations.js"),c=e("./modules/gmap.js"),u=e("./modules/ajax.js");a.getScrollbarWidth();if(t("#map-test-container").length){var f="map-test-container",p=59.8939942,m=30.4368229,h=17;google.maps.event.addDomListener(window,"load",c.init(f,p,m,h))}d.fadePageOn("a.preload-link","#preloader",300),t.fn.animated=d.animateCss,t(".animated-test-container").animated("slideInRight"),t(".js-add-album").length>0&&l.init("#add-album-modal",".js-add-album",".js-close-modal"),t(".js-add-photos").length>0&&l.init("#add-photos-modal",".js-add-photos",".js-close-modal"),t(".js-edit-photo").length>0&&l.init("#edit-photo-modal",".js-edit-photo",".js-close-modal"),t(".js-edit-user").length>0&&l.init("#edit-user-modal",".js-edit-user",".js-close-modal"),t(".js-edit-user-header").length>0&&l.init("#edit-user-header",".js-edit-user-header",".js-close-header"),t(".js-edit-album-header").length>0&&l.init("#edit-album-header",".js-edit-album-header",".js-close-header"),t(".js-show-photo-removing").length>0&&t(".js-show-photo-removing").on("click",o),t(".js-hide-photo-removing").length>0&&t(".js-hide-photo-removing").on("click",n),t(".js-open-slider").length>0&&l.init("#slider",".js-open-slider",".js-close-slider"),t(".js-open-social-form").length>0&&t(".js-open-social-form").on("click",i),t(".js-close-form").length>0&&t(".js-close-form").on("click",r),t("#flip-card").click(function(){t("body").addClass("card_flipped")}),t("#unflip-card").click(function(e){e.preventDefault(),t("body").removeClass("card_flipped")}),t("#show-recovery").click(function(e){e.preventDefault(),t("body").addClass("show_recovery")}),t("#hide-recovery").click(function(e){e.preventDefault(),t("body").removeClass("show_recovery")}),s(),u.init()}(jQuery)},{"./modules/ajax.js":2,"./modules/animations.js":3,"./modules/gmap.js":4,"./modules/helpers.js":5,"./modules/modal.js":6,"./modules/popup.js":7,"./modules/preloader.js":8}],2:[function(e,t,o){var n=function(){function e(){$("#edit-user-header").on("submit",function(e){e.preventDefault();var t=new FormData($(e.target)[0]);$.ajax({method:"POST",url:"/user/savedata",data:t,processData:!1,contentType:!1}).done(function(o){console.log(o),"success"==o.status&&($(".main-page").css({backgroundImage:"url("+o.background+")"}),$("#user-avatar").attr("src",o.avatar),$(".user-info__name").text(t.get("name")),$(".user-info__desc").text(t.get("description")),$("#social__link_vk").attr("href",t.get("vk")),$("#social__link_fb").attr("href",t.get("facebook")),$("#social__link_tw").attr("href",t.get("twitter")),$("#social__link_gg").attr("href",t.get("google")),$("#social__link_email").attr("href","mailto:"+t.get("email"))),$(e.target).removeClass("show").addClass("hide")})})}return{init:e}}();t.exports={init:n.init}},{}],3:[function(e,t,o){function n(e,t,o){$(document).on("click",e,function(e){var n=$(this).attr("href");if("#"!=n[0])return e.preventDefault(),$(t).fadeIn(o,function(){return document.location=null!=n?n:"/"})})}var i=function(e){$(this).each(function(){var t=$(this);t.css({opacity:0}).addClass("animated").waypoint(function(o){"down"===o&&t.addClass(e).css({opacity:1})},{offset:"90%"})})};t.exports={animateCss:i,fadePageOn:n}},{}],4:[function(e,t,o){function n(e,t,o,n){var r={center:new google.maps.LatLng(t,o),zoom:n,zoomControl:!1,disableDoubleClickZoom:!1,mapTypeControl:!1,scaleControl:!1,panControl:!1,streetViewControl:!1,draggable:!0,overviewMapControl:!1,overviewMapControlOptions:{opened:!1},mapTypeId:google.maps.MapTypeId.ROADMAP,styles:[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#455a64"},{visibility:"on"}]}]},s=document.getElementById(e),a=new google.maps.Map(s,r),l=[["hm_","undefined","undefined","undefined","undefined",61.77816170000001,34.36403960000007,"https://mapbuildr.com/assets/img/markers/ellipse-green.png"]];for(i=0;i<l.length;i++)"undefined"==l[i][1]?description="":description=l[i][1],"undefined"==l[i][2]?telephone="":telephone=l[i][2],"undefined"==l[i][3]?email="":email=l[i][3],"undefined"==l[i][4]?web="":web=l[i][4],"undefined"==l[i][7]?markericon="":markericon=l[i][7],marker=new google.maps.Marker({icon:markericon,position:new google.maps.LatLng(l[i][5],l[i][6]),map:a,title:l[i][0],desc:description,tel:telephone,email:email,web:web}),link=""}t.exports={init:n}},{}],5:[function(e,t,o){var n=function(){var e={"max-height":"100px",overflow:"scroll",position:"absolute"},t=$("<div id='scroll_bar_check_A'></div>").css(e),o=$("<div id='scroll_bar_check_B'></div>"),n=$("<img src='/assets/img/force-scroll.png'/>"),i=0;return t.append(n).append(o),$("body").append(t),i=t.width()-o.width(),t.remove(),i},i=function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);var o=e.indexOf("Trident/");if(o>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var i=e.indexOf("Edge/");return i>0&&parseInt(e.substring(i+5,e.indexOf(".",i)),10)};t.exports={getScrollbarWidth:n,ieVersion:i}},{}],6:[function(e,t,o){function n(e,t,o){var n=$(e),i=$(t),r=n.find(o);i.on("click",function(e){e.preventDefault(),n.removeClass("hide").addClass("show")}),r.on("click",function(e){e.preventDefault(),n.addClass("hide").removeClass("show")})}t.exports={init:n}},{}],7:[function(e,t,o){function n(e,t,o){s=$(e),a=s.find(t),o=s.find(o),o.on("click",i)}function i(){s.addClass("hide").removeClass("show"),l&&clearTimeout(l)}function r(e,t){e&&a.html(e),s.removeClass("hide").addClass("show"),t&&(l=setTimeout(function(){s.addClass("hide").removeClass("show")},t))}var s,a,l;t.exports={init:n,showPopup:r}},{}],8:[function(e,t,o){var n=$("#preloader"),i=$("#preloader__percentage"),r=["background","backgroundImage","listStyleImage","borderImage","borderCornerImage","cursor"],s=["srcset"],a=/url\(\s*(['"]?)(.*?)\1\s*\)/g,l=[],d=0,c=0,u=$("#preloader__img .bar__outer"),f=$("#preloader__img .bar__center"),p=$("#preloader__img .bar__inner"),m=Math.PI*(2*u.attr("r")),h=Math.PI*(2*f.attr("r")),g=Math.PI*(2*p.attr("r"));t.exports=function(){function e(){var e=Math.ceil((c+1)/d*100);if(c+=1,e=e>100?100:e,u.css({strokeDashoffset:(100-e)/100*m}),e>50&&f.css({strokeDashoffset:(100-e)/100*h}),100==e&&p.css({strokeDashoffset:(100-e)/100*g}),i.html(e),c===d)return t()}function t(){i.css({animation:"none"}),n.delay(700).fadeOut(700,function(){i.remove()})}function o(t){for(var o=0;o<t;o++){var n=new Image;n.onload=e,n.onerror=e,l[o].srcset&&(n.srcset=l[o].srcset),n.src=l[o].src}}$("*").each(function(){var e=$(this);e.is("img")&&e.attr("src")&&l.push({src:e.attr("src"),element:e[0]}),$.each(r,function(t,o){var n,i=e.css(o);return!i||(n=a.exec(i),void(n&&l.push({src:n[2],element:e[0]})))}),$.each(s,function(t,o){var n=e.attr(o);return!n||void l.push({src:e.attr("src"),srcset:e.attr("srcset"),element:e[0]})})}),d=l.length,0===d?(i.html(100),t()):o(d)}},{}]},{},[1]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJlIiwidCIsIm4iLCJyIiwicyIsIm8iLCJ1IiwiYSIsInJlcXVpcmUiLCJpIiwiZiIsIkVycm9yIiwiY29kZSIsImwiLCJleHBvcnRzIiwiY2FsbCIsImxlbmd0aCIsIjEiLCJtb2R1bGUiLCIkIiwic2hvd1Bob3RvUmVtb3ZpbmdCbG9jayIsInByZXZlbnREZWZhdWx0Iiwic2xpZGVVcCIsInNsaWRlRG93biIsImhpZGVQaG90b1JlbW92aW5nQmxvY2siLCJzaG93U29jaWFsRm9ybSIsInNvY2lhbEl0ZW0iLCJ0aGlzIiwiY2xvc2VzdCIsInNpYmxpbmdzIiwiZmluZCIsImhpZGUiLCJzaG93IiwiaGlkZVNvY2lhbEZvcm0iLCJwcmVsb2FkZXIiLCJoZWxwZXJzIiwibW9kYWwiLCJhbmltYXRpb25zIiwibWFwIiwic2V0QWpheFJlc3BvbmNlIiwiZ2V0U2Nyb2xsYmFyV2lkdGgiLCJjb250YWluZXJfaWQiLCJjZW50ZXJfbGF0IiwiY2VudGVyX2xuZyIsInpvb20iLCJnb29nbGUiLCJtYXBzIiwiZXZlbnQiLCJhZGREb21MaXN0ZW5lciIsIndpbmRvdyIsImluaXQiLCJmYWRlUGFnZU9uIiwiZm4iLCJhbmltYXRlZCIsImFuaW1hdGVDc3MiLCJvbiIsImNsaWNrIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImpRdWVyeSIsIi4vbW9kdWxlcy9hamF4LmpzIiwiLi9tb2R1bGVzL2FuaW1hdGlvbnMuanMiLCIuL21vZHVsZXMvZ21hcC5qcyIsIi4vbW9kdWxlcy9oZWxwZXJzLmpzIiwiLi9tb2R1bGVzL21vZGFsLmpzIiwiLi9tb2R1bGVzL3BvcHVwLmpzIiwiLi9tb2R1bGVzL3ByZWxvYWRlci5qcyIsIjIiLCJzZXRBamF4UmVzcG9uY2VzIiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsInRhcmdldCIsImFqYXgiLCJtZXRob2QiLCJ1cmwiLCJkYXRhIiwicHJvY2Vzc0RhdGEiLCJjb250ZW50VHlwZSIsImRvbmUiLCJtc2ciLCJjb25zb2xlIiwibG9nIiwic3RhdHVzIiwiY3NzIiwiYmFja2dyb3VuZEltYWdlIiwiYmFja2dyb3VuZCIsImF0dHIiLCJhdmF0YXIiLCJ0ZXh0IiwiZ2V0IiwiMyIsImxpbmtfc2VsZWN0b3IiLCJvdmVybGF5X3NlbGVjdG9yIiwidGltZSIsImRvY3VtZW50IiwiaHJlZiIsImZhZGVJbiIsImxvY2F0aW9uIiwiaW5fZWZmZWN0IiwiZWFjaCIsImVsZW0iLCJvcGFjaXR5Iiwid2F5cG9pbnQiLCJkaXIiLCJvZmZzZXQiLCI0IiwibWFwX2lkIiwibGF0IiwibG5nIiwibWFwT3B0aW9ucyIsImNlbnRlciIsIkxhdExuZyIsInpvb21Db250cm9sIiwiZGlzYWJsZURvdWJsZUNsaWNrWm9vbSIsIm1hcFR5cGVDb250cm9sIiwic2NhbGVDb250cm9sIiwicGFuQ29udHJvbCIsInN0cmVldFZpZXdDb250cm9sIiwiZHJhZ2dhYmxlIiwib3ZlcnZpZXdNYXBDb250cm9sIiwib3ZlcnZpZXdNYXBDb250cm9sT3B0aW9ucyIsIm9wZW5lZCIsIm1hcFR5cGVJZCIsIk1hcFR5cGVJZCIsIlJPQURNQVAiLCJzdHlsZXMiLCJmZWF0dXJlVHlwZSIsImVsZW1lbnRUeXBlIiwic3R5bGVycyIsImNvbG9yIiwic2F0dXJhdGlvbiIsImxpZ2h0bmVzcyIsInZpc2liaWxpdHkiLCJtYXBFbGVtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJNYXAiLCJsb2NhdGlvbnMiLCJkZXNjcmlwdGlvbiIsInRlbGVwaG9uZSIsImVtYWlsIiwid2ViIiwibWFya2VyaWNvbiIsIm1hcmtlciIsIk1hcmtlciIsImljb24iLCJwb3NpdGlvbiIsInRpdGxlIiwiZGVzYyIsInRlbCIsImxpbmsiLCI1Iiwic3R5bGUiLCJtYXgtaGVpZ2h0Iiwib3ZlcmZsb3ciLCJ3cmFwcGVyIiwiaW5uZXIiLCJzdHJldGNoZXIiLCJzY3JvbGxCYXJXaWR0aCIsImFwcGVuZCIsIndpZHRoIiwicmVtb3ZlIiwiaWVWZXJzaW9uIiwidWEiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJtc2llIiwiaW5kZXhPZiIsInBhcnNlSW50Iiwic3Vic3RyaW5nIiwidHJpZGVudCIsInJ2IiwiZWRnZSIsIjYiLCJjb250YWluZXIiLCJvcGVuQnRuIiwiY2xvc2VCdG4iLCJvcGVuIiwiY2xvc2UiLCI3IiwicG9wdXAiLCJjb250ZW50IiwiY2xvc2VQb3B1cCIsImNsb3NlX3RpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJzaG93UG9wdXAiLCJodG1sIiwic2V0VGltZW91dCIsIjgiLCJwcmVsb2FkZXJfY29udGFpbmVyIiwicHJlbG9hZGVyX3BlcmNlbnRhZ2UiLCJoYXNJbWFnZVByb3BlcnRpZXMiLCJoYXNJbWFnZUF0dHJpYnV0ZXMiLCJtYXRjaF91cmwiLCJhbGxfaW1hZ2VzIiwidG90YWwiLCJjb3VudCIsImNpcmNsZV9vIiwiY2lyY2xlX2MiLCJjaXJjbGVfaSIsImxlbmd0aF9vIiwiTWF0aCIsIlBJIiwibGVuZ3RoX2MiLCJsZW5ndGhfaSIsImltZ19sb2FkZWQiLCJwZXJjZW50YWdlIiwiY2VpbCIsInN0cm9rZURhc2hvZmZzZXQiLCJkb25lX2xvYWRpbmciLCJhbmltYXRpb24iLCJkZWxheSIsImZhZGVPdXQiLCJpbWFnZXNfbG9vcCIsInRlc3RfaW1hZ2UiLCJJbWFnZSIsIm9ubG9hZCIsIm9uZXJyb3IiLCJzcmNzZXQiLCJzcmMiLCJlbGVtZW50IiwiaXMiLCJwdXNoIiwicHJvcGVydHkiLCJtYXRjaCIsInByb3BlcnR5VmFsdWUiLCJleGVjIiwiYXR0cmlidXRlIiwiYXR0cmlidXRlVmFsdWUiXSwibWFwcGluZ3MiOiJDQUFBLFFBQVVBLEdBQUVDLEVBQUVDLEVBQUVDLEdBQUcsUUFBU0MsR0FBRUMsRUFBRUMsR0FBRyxJQUFJSixFQUFFRyxHQUFHLENBQUMsSUFBSUosRUFBRUksR0FBRyxDQUFDLEdBQUlFLEdBQWtCLGtCQUFUQyxVQUFxQkEsT0FBUSxLQUFJRixHQUFHQyxFQUFFLE1BQU9BLEdBQUVGLEdBQUUsRUFBSSxJQUFHSSxFQUFFLE1BQU9BLEdBQUVKLEdB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LEVBQVd4TCxHQUFHZ04sU0FDakJKLEVBQVdJLE9BQVN4QixFQUFXeEwsR0FBR2dOLFFBR25DSixFQUFXSyxJQUFNekIsRUFBV3hMLEdBQUdpTixLQUtqQ3ZNLEVBQUUsS0FBS2dGLEtBQUssV0FDWCxHQUFJd0gsR0FBVXhNLEVBQUVRLEtBRVpnTSxHQUFRQyxHQUFHLFFBQVVELEVBQVFySSxLQUFLLFFBQ3JDMkcsRUFBVzRCLE1BQ1ZILElBQUtDLEVBQVFySSxLQUFLLE9BQ2xCcUksUUFBU0EsRUFBUSxLQUluQnhNLEVBQUVnRixLQUFLMkYsRUFBb0IsU0FBVXJMLEVBQUdxTixHQUN2QyxHQUNJQyxHQURBQyxFQUFnQkwsRUFBUXhJLElBQUkySSxFQUdoQyxRQUFLRSxJQUlMRCxFQUFRL0IsRUFBVWlDLEtBQUtELFFBRW5CRCxHQUNIOUIsRUFBVzRCLE1BQ1ZILElBQUtLLEVBQU0sR0FDWEosUUFBU0EsRUFBUSxTQUtwQnhNLEVBQUVnRixLQUFLNEYsRUFBb0IsU0FBVXRMLEVBQUd5TixHQUN2QyxHQUFJQyxHQUFpQlIsRUFBUXJJLEtBQUs0SSxFQUVsQyxRQUFLQyxPQUlMbEMsR0FBVzRCLE1BQ1ZILElBQUtDLEVBQVFySSxLQUFLLE9BQ2xCbUksT0FBUUUsRUFBUXJJLEtBQUssVUFDckJxSSxRQUFTQSxFQUFRLFNBS3BCekIsRUFBUUQsRUFBV2pMLE9BR0wsSUFBVmtMLEdBQ0hMLEVBQXFCSixLQUFLLEtBQzFCdUIsS0FFQUksRUFBWWxCLGNBR0giLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkoezE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uKCQpIHtcclxuXHRcInVzZSBzdHJpY3RcIjtcclxuXHJcblx0dmFyIHByZWxvYWRlciA9IHJlcXVpcmUoXCIuL21vZHVsZXMvcHJlbG9hZGVyLmpzXCIpLFxyXG5cdFx0aGVscGVycyA9IHJlcXVpcmUoXCIuL21vZHVsZXMvaGVscGVycy5qc1wiKSxcclxuXHRcdC8vIGZvcm1zID0gcmVxdWlyZShcIi4vbW9kdWxlcy9mb3Jtcy5qc1wiKSxcclxuXHRcdHBvcHVwID0gcmVxdWlyZShcIi4vbW9kdWxlcy9wb3B1cC5qc1wiKSxcclxuXHRcdG1vZGFsID0gcmVxdWlyZShcIi4vbW9kdWxlcy9tb2RhbC5qc1wiKSxcclxuXHRcdGFuaW1hdGlvbnMgPSByZXF1aXJlKFwiLi9tb2R1bGVzL2FuaW1hdGlvbnMuanNcIiksXHJcblx0XHRtYXAgPSByZXF1aXJlKFwiLi9tb2R1bGVzL2dtYXAuanNcIiksXHJcblx0XHRzZXRBamF4UmVzcG9uY2UgPSByZXF1aXJlKFwiLi9tb2R1bGVzL2FqYXguanNcIik7XHJcblx0XHQvLyB0aW55TWNlTDEwbiA9IHJlcXVpcmUoXCIuL21vZHVsZXMvdGlueW1jZV9sMTBuLmpzXCIpO1xyXG5cclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHQvLyBBZGFwdGl2ZSBicmVha3BvaW50c1xyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdHZhciBzY3JvbGxiYXJfd2lkdGggPSBoZWxwZXJzLmdldFNjcm9sbGJhcldpZHRoKCksXHJcblx0XHRzY3JlZW5fc2l6ZXMgPSB7XHJcblx0XHRcdG1vYmlsZSA6IDQ4MCAtIHNjcm9sbGJhcl93aWR0aCxcclxuXHRcdFx0dGFibGV0IDogNzY4IC0gc2Nyb2xsYmFyX3dpZHRoLFxyXG5cdFx0XHRsaW1pdCA6IDIwMDAgLSBzY3JvbGxiYXJfd2lkdGhcclxuXHRcdH07XHJcblxyXG5cclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHQvLyBQb3B1cCBleGFtcGxlXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0Ly8gcG9wdXAuaW5pdChcIiNobS1wb3B1cFwiLCBcIi5obS1wb3B1cF9fdGV4dFwiLCBcIi5obS1wb3B1cF9fY2xvc2VcIik7XHJcblx0Ly8gcG9wdXAuc2hvd1BvcHVwKFwiU2NyZWVuIGJyZWFrcG9pbnRzOjxici8+TW9iaWxlOiBcIiArIHNjcmVlbl9zaXplcy5tb2JpbGUgKyBcIjxici8+VGFibGV0OiBcIiArIHNjcmVlbl9zaXplcy50YWJsZXQsIDIwMDApO1xyXG5cclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHQvLyBHb29nbGUgbWFwIGluaXQgZXhhbXBsZVxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdGlmKCQoXCIjbWFwLXRlc3QtY29udGFpbmVyXCIpLmxlbmd0aCl7XHJcblx0XHR2YXIgY29udGFpbmVyX2lkID0gXCJtYXAtdGVzdC1jb250YWluZXJcIixcclxuXHRcdFx0Y2VudGVyX2xhdCA9IDU5Ljg5Mzk5NDIsXHJcblx0XHRcdGNlbnRlcl9sbmcgPSAzMC40MzY4MjI5LFxyXG5cdFx0XHR6b29tID0gMTc7XHJcblxyXG5cdFx0Z29vZ2xlLm1hcHMuZXZlbnQuYWRkRG9tTGlzdGVuZXIod2luZG93LCBcImxvYWRcIiwgbWFwLmluaXQoY29udGFpbmVyX2lkLCBjZW50ZXJfbGF0LCBjZW50ZXJfbG5nLCB6b29tKSk7XHJcblx0fVxyXG5cclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHQvLyBBbmltYXRpb25zIGV4YW1wbGVcclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHRhbmltYXRpb25zLmZhZGVQYWdlT24oXCJhLnByZWxvYWQtbGlua1wiLCBcIiNwcmVsb2FkZXJcIiwgMzAwKTtcclxuXHJcblx0JC5mbi5hbmltYXRlZCA9IGFuaW1hdGlvbnMuYW5pbWF0ZUNzcztcclxuXHQvLyBFeGFtcGxlXHJcblx0JChcIi5hbmltYXRlZC10ZXN0LWNvbnRhaW5lclwiKS5hbmltYXRlZChcInNsaWRlSW5SaWdodFwiKTtcclxuXHJcblx0XHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0Ly8gVGlueSBNQ0UgZXhhbXBsZVxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdC8vIHRpbnltY2UuaW5pdCh7XHJcblx0Ly8gXHRzZWxlY3RvcjogXCIudGlueW1jZS1maWVsZFwiLFxyXG5cdC8vIFx0cGx1Z2luczogXCJsaW5rLCBpbWFnZVwiLFxyXG5cdC8vIFx0bWluX2hlaWdodDogMjAwLFxyXG5cdC8vIFx0bWVudWJhcjogZmFsc2UsXHJcblx0Ly8gXHR0b29sYmFyMTogXCJ1bmRvIHJlZG8gfCBib2xkIGl0YWxpYyB8IGxpbmsgaW1hZ2VcIixcclxuXHQvLyBcdHRvb2xiYXIyOiBcImFsaWdubGVmdCBhbGlnbmNlbnRlciBhbGlnbnJpZ2h0XCJcclxuXHQvLyB9KTtcclxuXHJcblxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdC8vIEluaXQgQWRkIEFsYnVtIE1vZGFsXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0aWYgKCQoXCIuanMtYWRkLWFsYnVtXCIpLmxlbmd0aCA+IDApIHtcclxuXHRcdG1vZGFsLmluaXQoXCIjYWRkLWFsYnVtLW1vZGFsXCIsIFwiLmpzLWFkZC1hbGJ1bVwiLCBcIi5qcy1jbG9zZS1tb2RhbFwiKTtcclxuXHR9XHJcblxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdC8vIEluaXQgQWRkIFBob3RvcyBNb2RhbFxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdGlmICgkKFwiLmpzLWFkZC1waG90b3NcIikubGVuZ3RoID4gMCkge1xyXG5cdFx0bW9kYWwuaW5pdChcIiNhZGQtcGhvdG9zLW1vZGFsXCIsIFwiLmpzLWFkZC1waG90b3NcIiwgXCIuanMtY2xvc2UtbW9kYWxcIik7XHJcblx0fVxyXG5cclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHQvLyBJbml0IEVkaXQgUGhvdG8gTW9kYWxcclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHRpZiAoJChcIi5qcy1lZGl0LXBob3RvXCIpLmxlbmd0aCA+IDApIHtcclxuXHRcdG1vZGFsLmluaXQoXCIjZWRpdC1waG90by1tb2RhbFwiLCBcIi5qcy1lZGl0LXBob3RvXCIsIFwiLmpzLWNsb3NlLW1vZGFsXCIpO1xyXG5cdH1cclxuXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0Ly8gSW5pdCBFZGl0IFVzZXIgTW9kYWxcclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHRpZiAoJChcIi5qcy1lZGl0LXVzZXJcIikubGVuZ3RoID4gMCkge1xyXG5cdFx0bW9kYWwuaW5pdChcIiNlZGl0LXVzZXItbW9kYWxcIiwgXCIuanMtZWRpdC11c2VyXCIsIFwiLmpzLWNsb3NlLW1vZGFsXCIpO1xyXG5cdH1cclxuXHJcblxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdC8vIEluaXQgRWRpdCBVc2VyIE1vZGFsIChpbiBIZWFkZXIpXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0aWYgKCQoXCIuanMtZWRpdC11c2VyLWhlYWRlclwiKS5sZW5ndGggPiAwKSB7XHJcblx0XHRtb2RhbC5pbml0KFwiI2VkaXQtdXNlci1oZWFkZXJcIiwgXCIuanMtZWRpdC11c2VyLWhlYWRlclwiLCBcIi5qcy1jbG9zZS1oZWFkZXJcIik7XHJcblx0fVxyXG5cclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHQvLyBJbml0IEVkaXQgQWxidW0gTW9kYWwgKGluIEhlYWRlcilcclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHRpZiAoJChcIi5qcy1lZGl0LWFsYnVtLWhlYWRlclwiKS5sZW5ndGggPiAwKSB7XHJcblx0XHRtb2RhbC5pbml0KFwiI2VkaXQtYWxidW0taGVhZGVyXCIsIFwiLmpzLWVkaXQtYWxidW0taGVhZGVyXCIsIFwiLmpzLWNsb3NlLWhlYWRlclwiKTtcclxuXHR9XHJcblxyXG5cclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHQvLyBFZGl0IFVzZXIgTW9kYWwgLSBEZWxldGUgUGhvdG9cclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHRmdW5jdGlvbiBzaG93UGhvdG9SZW1vdmluZ0Jsb2NrKGUpIHtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdCQoXCIucGhvdG8tZWRpdGluZ1wiKS5zbGlkZVVwKDMwMCk7XHJcblx0XHQkKFwiLnBob3RvLXJlbW92aW5nXCIpLnNsaWRlRG93bigzMDApO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gaGlkZVBob3RvUmVtb3ZpbmdCbG9jayhlKSB7XHJcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHQkKFwiLnBob3RvLXJlbW92aW5nXCIpLnNsaWRlVXAoMzAwKTtcclxuXHRcdCQoXCIucGhvdG8tZWRpdGluZ1wiKS5zbGlkZURvd24oMzAwKTtcclxuXHR9XHJcblxyXG5cdGlmICgkKFwiLmpzLXNob3ctcGhvdG8tcmVtb3ZpbmdcIikubGVuZ3RoID4gMCkge1xyXG5cdFx0JChcIi5qcy1zaG93LXBob3RvLXJlbW92aW5nXCIpLm9uKFwiY2xpY2tcIiwgc2hvd1Bob3RvUmVtb3ZpbmdCbG9jayk7XHJcblx0fVxyXG5cclxuXHRpZiAoJChcIi5qcy1oaWRlLXBob3RvLXJlbW92aW5nXCIpLmxlbmd0aCA+IDApIHtcclxuXHRcdCQoXCIuanMtaGlkZS1waG90by1yZW1vdmluZ1wiKS5vbihcImNsaWNrXCIsIGhpZGVQaG90b1JlbW92aW5nQmxvY2spO1xyXG5cdH1cclxuXHJcblxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdC8vIEluaXQgRWRpdCBBbGJ1bSBNb2RhbCAoaW4gSGVhZGVyKVxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdGlmICgkKFwiLmpzLW9wZW4tc2xpZGVyXCIpLmxlbmd0aCA+IDApIHtcclxuXHRcdG1vZGFsLmluaXQoXCIjc2xpZGVyXCIsIFwiLmpzLW9wZW4tc2xpZGVyXCIsIFwiLmpzLWNsb3NlLXNsaWRlclwiKTtcclxuXHR9XHJcblxyXG5cclxuXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0Ly8gU2hvdyBTb2NpYWwgSXRlbXMgRm9ybXNcclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHRmdW5jdGlvbiBzaG93U29jaWFsRm9ybShlKSB7XHJcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHR2YXIgc29jaWFsSXRlbSA9ICAkKHRoaXMpLmNsb3Nlc3QoJy5zb2NpYWxfX2l0ZW0nKTtcclxuXHRcdHNvY2lhbEl0ZW0uc2libGluZ3MoKS5maW5kKCcuc29jaWFsX19mb3JtJykuaGlkZSgpO1xyXG5cdFx0c29jaWFsSXRlbS5maW5kKCcuc29jaWFsX19mb3JtJykuc2hvdygpO1xyXG5cdH1cclxuXHRmdW5jdGlvbiBoaWRlU29jaWFsRm9ybShlKSB7XHJcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHQkKHRoaXMpLmNsb3Nlc3QoJy5zb2NpYWxfX2Zvcm0nKS5oaWRlKCk7XHJcblx0fVxyXG5cclxuXHRpZiAoJChcIi5qcy1vcGVuLXNvY2lhbC1mb3JtXCIpLmxlbmd0aCA+IDApIHtcclxuXHRcdCQoXCIuanMtb3Blbi1zb2NpYWwtZm9ybVwiKS5vbihcImNsaWNrXCIsIHNob3dTb2NpYWxGb3JtKTtcclxuXHR9XHJcblx0aWYgKCQoXCIuanMtY2xvc2UtZm9ybVwiKS5sZW5ndGggPiAwKSB7XHJcblx0XHQkKFwiLmpzLWNsb3NlLWZvcm1cIikub24oXCJjbGlja1wiLCBoaWRlU29jaWFsRm9ybSk7XHJcblx0fVxyXG5cclxuXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0Ly8gTG9naW4gY2FyZCBmbGlwXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0JChcIiNmbGlwLWNhcmRcIikuY2xpY2soZnVuY3Rpb24oKSB7XHJcblx0XHQkKFwiYm9keVwiKS5hZGRDbGFzcyhcImNhcmRfZmxpcHBlZFwiKTtcclxuXHR9KTtcclxuXHJcblx0JChcIiN1bmZsaXAtY2FyZFwiKS5jbGljayhmdW5jdGlvbihlKSB7XHJcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHQkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcImNhcmRfZmxpcHBlZFwiKTtcclxuXHR9KTtcclxuXHJcblxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdC8vIExvZ2luIHNob3cgUmVjb3ZlcnkgcGFzc3dvcmQgQ2FyZFxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdCQoXCIjc2hvdy1yZWNvdmVyeVwiKS5jbGljayhmdW5jdGlvbihlKSB7XHJcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHQkKFwiYm9keVwiKS5hZGRDbGFzcyhcInNob3dfcmVjb3ZlcnlcIik7XHJcblx0fSk7XHJcblxyXG5cdCQoXCIjaGlkZS1yZWNvdmVyeVwiKS5jbGljayhmdW5jdGlvbihlKSB7XHJcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHQkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcInNob3dfcmVjb3ZlcnlcIik7XHJcblx0fSk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHQvLyB0aW55TWNlTDEwbigpO1xyXG5cclxuXHRwcmVsb2FkZXIoKTtcclxuXHJcblx0c2V0QWpheFJlc3BvbmNlLmluaXQoKTtcclxuXHJcbn0pKGpRdWVyeSk7XG59LHtcIi4vbW9kdWxlcy9hamF4LmpzXCI6MixcIi4vbW9kdWxlcy9hbmltYXRpb25zLmpzXCI6MyxcIi4vbW9kdWxlcy9nbWFwLmpzXCI6NCxcIi4vbW9kdWxlcy9oZWxwZXJzLmpzXCI6NSxcIi4vbW9kdWxlcy9tb2RhbC5qc1wiOjYsXCIuL21vZHVsZXMvcG9wdXAuanNcIjo3LFwiLi9tb2R1bGVzL3ByZWxvYWRlci5qc1wiOjh9XSwyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8qKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuKiAtLS0tLSDQo9GB0YLQsNC90L7QstC60LAgYWpheC3Qt9Cw0L/RgNC+0YHQvtCyIC0tLS0tLS0tXHJcbiogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cclxuXHJcbnZhciBzZXRBamF4UmVzcG9uY2VzID0gKGZ1bmN0aW9uKCkge1xyXG5cclxuICBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgJCgnI2VkaXQtdXNlci1oZWFkZXInKS5vbignc3VibWl0JywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoJChlLnRhcmdldClbMF0pO1xyXG5cclxuICAgICAgLy8gY29uc29sZS5sb2coZm9ybURhdGEpO1xyXG5cclxuICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgdXJsOiBcIi91c2VyL3NhdmVkYXRhXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IGZvcm1EYXRhLFxyXG4gICAgICAgICAgICBwcm9jZXNzRGF0YTogZmFsc2UsXHJcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBmYWxzZVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5kb25lKGZ1bmN0aW9uIChtc2cpIHtcclxuY29uc29sZS5sb2cobXNnKTtcclxuXHJcbiAgICAgICAgICAgIGlmKG1zZy5zdGF0dXMgPT0gJ3N1Y2Nlc3MnKSB7XHJcbiAgICAgICAgICAgICAgJCgnLm1haW4tcGFnZScpLmNzcyh7XHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IFwidXJsKFwiK21zZy5iYWNrZ3JvdW5kK1wiKVwiXHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgJCgnI3VzZXItYXZhdGFyJykuYXR0cignc3JjJywgbXNnLmF2YXRhcik7XHJcbiAgICAgICAgICAgICAgJCgnLnVzZXItaW5mb19fbmFtZScpLnRleHQoZm9ybURhdGEuZ2V0KCduYW1lJykpO1xyXG4gICAgICAgICAgICAgICQoJy51c2VyLWluZm9fX2Rlc2MnKS50ZXh0KGZvcm1EYXRhLmdldCgnZGVzY3JpcHRpb24nKSk7XHJcbiAgICAgICAgICAgICAgJCgnI3NvY2lhbF9fbGlua192aycpLmF0dHIoJ2hyZWYnLCBmb3JtRGF0YS5nZXQoJ3ZrJykpO1xyXG4gICAgICAgICAgICAgICQoJyNzb2NpYWxfX2xpbmtfZmInKS5hdHRyKCdocmVmJywgZm9ybURhdGEuZ2V0KCdmYWNlYm9vaycpKTtcclxuICAgICAgICAgICAgICAkKCcjc29jaWFsX19saW5rX3R3JykuYXR0cignaHJlZicsIGZvcm1EYXRhLmdldCgndHdpdHRlcicpKTtcclxuICAgICAgICAgICAgICAkKCcjc29jaWFsX19saW5rX2dnJykuYXR0cignaHJlZicsIGZvcm1EYXRhLmdldCgnZ29vZ2xlJykpO1xyXG4gICAgICAgICAgICAgICQoJyNzb2NpYWxfX2xpbmtfZW1haWwnKS5hdHRyKCdocmVmJywgXCJtYWlsdG86XCIrZm9ybURhdGEuZ2V0KCdlbWFpbCcpKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICQoZS50YXJnZXQpLnJlbW92ZUNsYXNzKCdzaG93JykuYWRkQ2xhc3MoJ2hpZGUnKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIFxyXG4gIHJldHVybiB7XHJcbiAgICBpbml0OiBpbml0XHJcbiAgfVxyXG59KCkpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgaW5pdDogc2V0QWpheFJlc3BvbmNlcy5pbml0XHJcbn07XG59LHt9XSwzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBBbmltYXRlIGVsZW1lbnRzIG9uIHNjcm9sbC4gQmFzZWQgb24gd2F5cG9pbnRzLmpzXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG52YXIgYW5pbWF0ZUNzcyA9IGZ1bmN0aW9uIChpbl9lZmZlY3QpIHtcclxuXHQkKHRoaXMpLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgZWxlbSA9ICQodGhpcyk7XHJcblx0XHRlbGVtLmNzcyh7b3BhY2l0eTowfSlcclxuXHRcdFx0LmFkZENsYXNzKFwiYW5pbWF0ZWRcIilcclxuXHRcdFx0LndheXBvaW50KGZ1bmN0aW9uKGRpcikge1xyXG5cdFx0XHRcdGlmIChkaXIgPT09IFwiZG93blwiKSB7XHJcblx0XHRcdFx0XHRlbGVtLmFkZENsYXNzKGluX2VmZmVjdCkuY3NzKHtvcGFjaXR5OjF9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRvZmZzZXQ6IFwiOTAlXCJcclxuXHRcdFx0fSk7XHJcblx0fSk7XHJcbn07XHJcblxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gU2hvdyBvd2VybGF5IGxheWVyIHdoZW4gc3BlY2lmaWVkIGxpbmsgaGFzIGJlZW4gY2xpY2tlZFxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5mdW5jdGlvbiBmYWRlUGFnZU9uIChsaW5rX3NlbGVjdG9yLCBvdmVybGF5X3NlbGVjdG9yLCB0aW1lKXtcclxuXHQkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsIGxpbmtfc2VsZWN0b3IsIGZ1bmN0aW9uKGUpIHtcclxuXHRcdHZhciBocmVmID0gJCh0aGlzKS5hdHRyKFwiaHJlZlwiKTtcclxuXHRcdGlmKGhyZWZbMF0hPVwiI1wiKXtcclxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRcdFx0cmV0dXJuICQob3ZlcmxheV9zZWxlY3RvcilcclxuXHRcdFx0XHQuZmFkZUluKHRpbWUsIGZ1bmN0aW9uKCl7XHJcblx0XHRcdFx0XHRyZXR1cm4gZG9jdW1lbnQubG9jYXRpb24gPSBocmVmICE9IG51bGwgPyBocmVmIDogXCIvXCI7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHR9KTtcclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG5cdGFuaW1hdGVDc3MgOiBhbmltYXRlQ3NzLFxyXG5cdGZhZGVQYWdlT24gOiBmYWRlUGFnZU9uXHJcbn07XG59LHt9XSw0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbnZhciBtYXA7XHJcblxyXG5mdW5jdGlvbiBpbml0KG1hcF9pZCwgbGF0LCBsbmcsIHpvb20pIHtcclxuXHR2YXIgbWFwT3B0aW9ucyA9IHtcclxuXHRcdGNlbnRlcjogbmV3IGdvb2dsZS5tYXBzLkxhdExuZyhsYXQsbG5nKSxcclxuXHRcdHpvb206IHpvb20sXHJcblx0XHR6b29tQ29udHJvbDogZmFsc2UsXHJcblx0XHRkaXNhYmxlRG91YmxlQ2xpY2tab29tOiBmYWxzZSxcclxuXHRcdG1hcFR5cGVDb250cm9sOiBmYWxzZSxcclxuXHRcdHNjYWxlQ29udHJvbDogZmFsc2UsXHJcblx0XHRwYW5Db250cm9sOiBmYWxzZSxcclxuXHRcdHN0cmVldFZpZXdDb250cm9sOiBmYWxzZSxcclxuXHRcdGRyYWdnYWJsZSA6IHRydWUsXHJcblx0XHRvdmVydmlld01hcENvbnRyb2w6IGZhbHNlLFxyXG5cdFx0b3ZlcnZpZXdNYXBDb250cm9sT3B0aW9uczoge1xyXG5cdFx0XHRvcGVuZWQ6IGZhbHNlLFxyXG5cdFx0fSxcclxuXHRcdG1hcFR5cGVJZDogZ29vZ2xlLm1hcHMuTWFwVHlwZUlkLlJPQURNQVAsXHJcblx0XHRzdHlsZXM6IFtcclxuXHRcdHtcclxuXHRcdFx0XCJmZWF0dXJlVHlwZVwiOiBcImFkbWluaXN0cmF0aXZlXCIsXHJcblx0XHRcdFwiZWxlbWVudFR5cGVcIjogXCJsYWJlbHMudGV4dC5maWxsXCIsXHJcblx0XHRcdFwic3R5bGVyc1wiOiBbXHJcblx0XHRcdHtcclxuXHRcdFx0XHRcImNvbG9yXCI6IFwiIzQ0NDQ0NFwiXHJcblx0XHRcdH1cclxuXHRcdFx0XVxyXG5cdFx0fSxcclxuXHRcdHtcclxuXHRcdFx0XCJmZWF0dXJlVHlwZVwiOiBcImxhbmRzY2FwZVwiLFxyXG5cdFx0XHRcImVsZW1lbnRUeXBlXCI6IFwiYWxsXCIsXHJcblx0XHRcdFwic3R5bGVyc1wiOiBbXHJcblx0XHRcdHtcclxuXHRcdFx0XHRcImNvbG9yXCI6IFwiI2YyZjJmMlwiXHJcblx0XHRcdH1cclxuXHRcdFx0XVxyXG5cdFx0fSxcclxuXHRcdHtcclxuXHRcdFx0XCJmZWF0dXJlVHlwZVwiOiBcInJvYWRcIixcclxuXHRcdFx0XCJlbGVtZW50VHlwZVwiOiBcImFsbFwiLFxyXG5cdFx0XHRcInN0eWxlcnNcIjogW1xyXG5cdFx0XHR7XHJcblx0XHRcdFx0XCJzYXR1cmF0aW9uXCI6IC0xMDBcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdFwibGlnaHRuZXNzXCI6IDQ1XHJcblx0XHRcdH1cclxuXHRcdFx0XVxyXG5cdFx0fSxcclxuXHRcdHtcclxuXHRcdFx0XCJmZWF0dXJlVHlwZVwiOiBcInJvYWQuaGlnaHdheVwiLFxyXG5cdFx0XHRcImVsZW1lbnRUeXBlXCI6IFwiYWxsXCIsXHJcblx0XHRcdFwic3R5bGVyc1wiOiBbXHJcblx0XHRcdHtcclxuXHRcdFx0XHRcInZpc2liaWxpdHlcIjogXCJzaW1wbGlmaWVkXCJcclxuXHRcdFx0fVxyXG5cdFx0XHRdXHJcblx0XHR9LFxyXG5cdFx0Ly8ge1xyXG5cdFx0Ly8gXHRcImZlYXR1cmVUeXBlXCI6IFwicm9hZC5hcnRlcmlhbFwiLFxyXG5cdFx0Ly8gXHRcImVsZW1lbnRUeXBlXCI6IFwibGFiZWxzLmljb25cIixcclxuXHRcdC8vIFx0XCJzdHlsZXJzXCI6IFtcclxuXHRcdC8vIFx0e1xyXG5cdFx0Ly8gXHRcdFwidmlzaWJpbGl0eVwiOiBcIm9mZlwiXHJcblx0XHQvLyBcdH1cclxuXHRcdC8vIFx0XVxyXG5cdFx0Ly8gfSxcclxuXHRcdHtcclxuXHRcdFx0XCJmZWF0dXJlVHlwZVwiOiBcInRyYW5zaXRcIixcclxuXHRcdFx0XCJlbGVtZW50VHlwZVwiOiBcImFsbFwiLFxyXG5cdFx0XHRcInN0eWxlcnNcIjogW1xyXG5cdFx0XHR7XHJcblx0XHRcdFx0XCJ2aXNpYmlsaXR5XCI6IFwib2ZmXCJcclxuXHRcdFx0fVxyXG5cdFx0XHRdXHJcblx0XHR9LFxyXG5cdFx0e1xyXG5cdFx0XHRcImZlYXR1cmVUeXBlXCI6IFwid2F0ZXJcIixcclxuXHRcdFx0XCJlbGVtZW50VHlwZVwiOiBcImFsbFwiLFxyXG5cdFx0XHRcInN0eWxlcnNcIjogW1xyXG5cdFx0XHR7XHJcblx0XHRcdFx0XCJjb2xvclwiOiBcIiM0NTVhNjRcIlxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0XCJ2aXNpYmlsaXR5XCI6IFwib25cIlxyXG5cdFx0XHR9XHJcblx0XHRcdF1cclxuXHRcdH1cclxuXHRcdF0sXHJcblx0fVxyXG5cdHZhciBtYXBFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobWFwX2lkKSxcclxuXHRtYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKG1hcEVsZW1lbnQsIG1hcE9wdGlvbnMpLFxyXG5cdGxvY2F0aW9ucyA9IFtcclxuXHRbJ2htXycsICd1bmRlZmluZWQnLCAndW5kZWZpbmVkJywgJ3VuZGVmaW5lZCcsICd1bmRlZmluZWQnLCA2MS43NzgxNjE3MDAwMDAwMSwgMzQuMzY0MDM5NjAwMDAwMDcsICdodHRwczovL21hcGJ1aWxkci5jb20vYXNzZXRzL2ltZy9tYXJrZXJzL2VsbGlwc2UtZ3JlZW4ucG5nJ11cclxuXHRdO1xyXG5cclxuXHRmb3IgKGkgPSAwOyBpIDwgbG9jYXRpb25zLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRpZiAobG9jYXRpb25zW2ldWzFdID09J3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0ZGVzY3JpcHRpb24gPScnO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0ZGVzY3JpcHRpb24gPSBsb2NhdGlvbnNbaV1bMV07XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGxvY2F0aW9uc1tpXVsyXSA9PSd1bmRlZmluZWQnKSB7XHJcblx0XHRcdHRlbGVwaG9uZSA9Jyc7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0ZWxlcGhvbmUgPSBsb2NhdGlvbnNbaV1bMl07XHJcblx0XHR9XHJcblx0XHRpZiAobG9jYXRpb25zW2ldWzNdID09J3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0ZW1haWwgPScnO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0ZW1haWwgPSBsb2NhdGlvbnNbaV1bM107XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGxvY2F0aW9uc1tpXVs0XSA9PSd1bmRlZmluZWQnKSB7XHJcblx0XHRcdHdlYiA9Jyc7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR3ZWIgPSBsb2NhdGlvbnNbaV1bNF07XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGxvY2F0aW9uc1tpXVs3XSA9PSd1bmRlZmluZWQnKSB7XHJcblx0XHRcdG1hcmtlcmljb24gPScnO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0bWFya2VyaWNvbiA9IGxvY2F0aW9uc1tpXVs3XTtcclxuXHRcdH1cclxuXHJcblx0XHRtYXJrZXIgPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtcclxuXHRcdFx0aWNvbjogbWFya2VyaWNvbixcclxuXHRcdFx0cG9zaXRpb246IG5ldyBnb29nbGUubWFwcy5MYXRMbmcobG9jYXRpb25zW2ldWzVdLCBsb2NhdGlvbnNbaV1bNl0pLFxyXG5cdFx0XHRtYXA6IG1hcCxcclxuXHRcdFx0dGl0bGU6IGxvY2F0aW9uc1tpXVswXSxcclxuXHRcdFx0ZGVzYzogZGVzY3JpcHRpb24sXHJcblx0XHRcdHRlbDogdGVsZXBob25lLFxyXG5cdFx0XHRlbWFpbDogZW1haWwsXHJcblx0XHRcdHdlYjogd2ViXHJcblx0XHR9KTtcclxuXHRcdGxpbmsgPSAnJztcclxuXHR9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID17XHJcblx0aW5pdCA6IGluaXRcclxufTtcbn0se31dLDU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIENoZWNrIGJyb3dzZXIgc2Nyb2xsYmFyIHdpZHRoXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG52YXIgZ2V0U2Nyb2xsYmFyV2lkdGggPSBmdW5jdGlvbiAoKXtcclxuXHR2YXIgc3R5bGUgPSB7XCJtYXgtaGVpZ2h0XCI6XCIxMDBweFwiLCBcIm92ZXJmbG93XCI6XCJzY3JvbGxcIiwgXCJwb3NpdGlvblwiOlwiYWJzb2x1dGVcIn0sXHJcblx0XHR3cmFwcGVyID0gJChcIjxkaXYgaWQ9J3Njcm9sbF9iYXJfY2hlY2tfQSc+PC9kaXY+XCIpLmNzcyhzdHlsZSksXHJcblx0XHRpbm5lciA9ICQoXCI8ZGl2IGlkPSdzY3JvbGxfYmFyX2NoZWNrX0InPjwvZGl2PlwiKSxcclxuXHRcdHN0cmV0Y2hlciA9ICQoXCI8aW1nIHNyYz0nL2Fzc2V0cy9pbWcvZm9yY2Utc2Nyb2xsLnBuZycvPlwiKSxcclxuXHRcdHNjcm9sbEJhcldpZHRoID0gMDtcclxuXHJcblx0d3JhcHBlci5hcHBlbmQoc3RyZXRjaGVyKS5hcHBlbmQoaW5uZXIpO1xyXG5cdCQoXCJib2R5XCIpLmFwcGVuZCh3cmFwcGVyKTtcclxuXHJcblx0c2Nyb2xsQmFyV2lkdGggPSB3cmFwcGVyLndpZHRoKCktaW5uZXIud2lkdGgoKTtcclxuXHR3cmFwcGVyLnJlbW92ZSgpO1xyXG5cclxuXHRyZXR1cm4gc2Nyb2xsQmFyV2lkdGg7XHJcbn07XHJcblxyXG5cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBDaGVjayBJRSB2ZXJzaW9uXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG52YXIgaWVWZXJzaW9uID0gZnVuY3Rpb24gKCkge1xyXG5cdHZhciB1YSA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50O1xyXG5cclxuXHR2YXIgbXNpZSA9IHVhLmluZGV4T2YoXCJNU0lFIFwiKTtcclxuXHRpZiAobXNpZSA+IDApIHtcclxuXHRcdC8vIElFIDEwIG9yIG9sZGVyID0+IHJldHVybiB2ZXJzaW9uIG51bWJlclxyXG5cdFx0cmV0dXJuIHBhcnNlSW50KHVhLnN1YnN0cmluZyhtc2llICsgNSwgdWEuaW5kZXhPZihcIi5cIiwgbXNpZSkpLCAxMCk7XHJcblx0fVxyXG5cclxuXHR2YXIgdHJpZGVudCA9IHVhLmluZGV4T2YoXCJUcmlkZW50L1wiKTtcclxuXHRpZiAodHJpZGVudCA+IDApIHtcclxuXHRcdC8vIElFIDExID0+IHJldHVybiB2ZXJzaW9uIG51bWJlclxyXG5cdFx0dmFyIHJ2ID0gdWEuaW5kZXhPZihcInJ2OlwiKTtcclxuXHRcdHJldHVybiBwYXJzZUludCh1YS5zdWJzdHJpbmcocnYgKyAzLCB1YS5pbmRleE9mKFwiLlwiLCBydikpLCAxMCk7XHJcblx0fVxyXG5cclxuXHR2YXIgZWRnZSA9IHVhLmluZGV4T2YoXCJFZGdlL1wiKTtcclxuXHRpZiAoZWRnZSA+IDApIHtcclxuXHRcdC8vIEVkZ2UgKElFIDEyKykgPT4gcmV0dXJuIHZlcnNpb24gbnVtYmVyXHJcblx0XHRyZXR1cm4gcGFyc2VJbnQodWEuc3Vic3RyaW5nKGVkZ2UgKyA1LCB1YS5pbmRleE9mKFwiLlwiLCBlZGdlKSksIDEwKTtcclxuXHR9XHJcblxyXG5cdC8vIG90aGVyIGJyb3dzZXJcclxuXHRyZXR1cm4gZmFsc2U7XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuXHRnZXRTY3JvbGxiYXJXaWR0aCA6IGdldFNjcm9sbGJhcldpZHRoLFxyXG5cdGllVmVyc2lvbiA6IGllVmVyc2lvblxyXG59XG59LHt9XSw2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbmZ1bmN0aW9uIGluaXQoY29udGFpbmVyLCBvcGVuQnRuLCBjbG9zZUJ0bil7XHJcblx0dmFyIG1vZGFsID0gJChjb250YWluZXIpO1xyXG5cdHZhciBvcGVuID0gJChvcGVuQnRuKTtcclxuXHR2YXIgY2xvc2UgPSBtb2RhbC5maW5kKGNsb3NlQnRuKTtcclxuXHJcblx0b3Blbi5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKXtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdG1vZGFsLnJlbW92ZUNsYXNzKFwiaGlkZVwiKS5hZGRDbGFzcyhcInNob3dcIik7XHJcblx0fSk7XHJcblxyXG5cdGNsb3NlLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpe1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0bW9kYWwuYWRkQ2xhc3MoXCJoaWRlXCIpLnJlbW92ZUNsYXNzKFwic2hvd1wiKTtcclxuXHR9KTtcclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG5cdGluaXQgOiBpbml0XHJcbn07XHJcblxyXG5cbn0se31dLDc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xudmFyIHBvcHVwLFxyXG5cdGNvbnRlbnQsXHJcblx0Y2xvc2UsXHJcblx0Y2xvc2VfdGltZW91dDtcclxuXHJcbmZ1bmN0aW9uIGluaXQoY29udGFpbmVyLCB0ZXh0LCBjbG9zZSl7XHJcblx0cG9wdXAgPSAkKGNvbnRhaW5lcik7XHJcblx0Y29udGVudCA9IHBvcHVwLmZpbmQodGV4dCk7XHJcblx0Y2xvc2UgPSBwb3B1cC5maW5kKGNsb3NlKTtcclxuXHRcclxuXHRjbG9zZS5vbihcImNsaWNrXCIsIGNsb3NlUG9wdXApO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gY2xvc2VQb3B1cCgpe1xyXG5cdHBvcHVwLmFkZENsYXNzKFwiaGlkZVwiKS5yZW1vdmVDbGFzcyhcInNob3dcIik7XHJcblx0aWYoY2xvc2VfdGltZW91dCl7XHJcblx0XHRjbGVhclRpbWVvdXQoY2xvc2VfdGltZW91dCk7XHJcblx0fTtcclxufTtcclxuXHJcblxyXG5mdW5jdGlvbiBzaG93UG9wdXAgKHRleHQsIHRpbWUpe1xyXG5cdGlmICh0ZXh0KSB7XHJcblx0XHRjb250ZW50Lmh0bWwodGV4dCk7XHJcblx0fVxyXG5cdHBvcHVwLnJlbW92ZUNsYXNzKFwiaGlkZVwiKS5hZGRDbGFzcyhcInNob3dcIik7XHJcblxyXG5cdGlmKHRpbWUpe1xyXG5cdFx0Y2xvc2VfdGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuXHRcdFx0cG9wdXAuYWRkQ2xhc3MoXCJoaWRlXCIpLnJlbW92ZUNsYXNzKFwic2hvd1wiKTtcclxuXHRcdH0sIHRpbWUpO1xyXG5cdH1cclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG5cdGluaXQgOiBpbml0LFxyXG5cdHNob3dQb3B1cCA6IHNob3dQb3B1cFxyXG59O1xyXG5cclxuXG59LHt9XSw4OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBQcmVsb2FkZXIgd2l0aCBwZXJjZW50YWdlIGJ5IGltYWdlIGNvdW50XHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG52YXJcdHByZWxvYWRlcl9jb250YWluZXIgPSAkKFwiI3ByZWxvYWRlclwiKSxcclxuXHRwcmVsb2FkZXJfcGVyY2VudGFnZSA9ICQoXCIjcHJlbG9hZGVyX19wZXJjZW50YWdlXCIpLFxyXG5cdGhhc0ltYWdlUHJvcGVydGllcyA9IFtcImJhY2tncm91bmRcIiwgXCJiYWNrZ3JvdW5kSW1hZ2VcIiwgXCJsaXN0U3R5bGVJbWFnZVwiLCBcImJvcmRlckltYWdlXCIsIFwiYm9yZGVyQ29ybmVySW1hZ2VcIiwgXCJjdXJzb3JcIl0sXHJcblx0aGFzSW1hZ2VBdHRyaWJ1dGVzID0gW1wic3Jjc2V0XCJdLFxyXG5cdG1hdGNoX3VybCA9IC91cmxcXChcXHMqKFsnXCJdPykoLio/KVxcMVxccypcXCkvZyxcclxuXHRhbGxfaW1hZ2VzID0gW10sXHJcblx0dG90YWwgPSAwLFxyXG5cdGNvdW50ID0gMDtcclxuXHJcbi8vIEFuaW1hdGUgaW5jbHVkZWQgU1ZHIGNpcmNsZXMgcHJlbG9hZGVyXHJcbnZhciBjaXJjbGVfbyA9ICQoXCIjcHJlbG9hZGVyX19pbWcgLmJhcl9fb3V0ZXJcIiksXHJcblx0Y2lyY2xlX2MgPSAkKFwiI3ByZWxvYWRlcl9faW1nIC5iYXJfX2NlbnRlclwiKSxcclxuXHRjaXJjbGVfaSA9ICQoXCIjcHJlbG9hZGVyX19pbWcgLmJhcl9faW5uZXJcIiksXHJcblx0bGVuZ3RoX28gPSBNYXRoLlBJKihjaXJjbGVfby5hdHRyKFwiclwiKSAqIDIpLFxyXG5cdGxlbmd0aF9jID0gTWF0aC5QSSooY2lyY2xlX2MuYXR0cihcInJcIikgKiAyKSxcclxuXHRsZW5ndGhfaSA9IE1hdGguUEkqKGNpcmNsZV9pLmF0dHIoXCJyXCIpICogMik7XHJcblxyXG5cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcHJlbG9hZGVyKCkge1xyXG5cclxuXHRmdW5jdGlvbiBpbWdfbG9hZGVkKCl7XHJcblx0XHR2YXIgcGVyY2VudGFnZSA9IE1hdGguY2VpbCggKGNvdW50KzEpIC8gdG90YWwgKiAxMDAgKTtcclxuXHJcblx0XHRjb3VudCArPSAxO1xyXG5cdFx0cGVyY2VudGFnZSA9IHBlcmNlbnRhZ2UgPiAxMDAgPyAxMDAgOiBwZXJjZW50YWdlO1xyXG5cclxuXHRcdC8vIERyYXcgb2Zmc2V0c1xyXG5cdFx0Ly8gMXN0IGNpcmNsZVxyXG5cdFx0Y2lyY2xlX28uY3NzKHtzdHJva2VEYXNob2Zmc2V0OiAoKDEwMC1wZXJjZW50YWdlKS8xMDApKmxlbmd0aF9vIH0pO1xyXG5cclxuXHRcdC8vIHdoZW4gdG8gc3RhcnQgMm5kIGNpcmNsZVxyXG5cdFx0aWYocGVyY2VudGFnZSA+IDUwKSB7XHJcblx0XHRcdGNpcmNsZV9jLmNzcyh7c3Ryb2tlRGFzaG9mZnNldDogKCgxMDAtcGVyY2VudGFnZSkvMTAwKSpsZW5ndGhfYyB9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyB3aGVuIHRvIHN0YXJ0IDNyZCBjaXJjbGVcclxuXHRcdGlmKHBlcmNlbnRhZ2UgPT0gMTAwKSB7XHJcblx0XHRcdGNpcmNsZV9pLmNzcyh7c3Ryb2tlRGFzaG9mZnNldDogKCgxMDAtcGVyY2VudGFnZSkvMTAwKSpsZW5ndGhfaSB9KTtcclxuXHRcdH1cclxuXHJcblx0XHRwcmVsb2FkZXJfcGVyY2VudGFnZS5odG1sKHBlcmNlbnRhZ2UpO1xyXG5cclxuXHRcdGlmKGNvdW50ID09PSB0b3RhbCl7XHJcblx0XHRcdHJldHVybiBkb25lX2xvYWRpbmcoKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIGRvbmVfbG9hZGluZygpe1xyXG5cdFx0cHJlbG9hZGVyX3BlcmNlbnRhZ2UuY3NzKHtcImFuaW1hdGlvblwiOlwibm9uZVwifSk7XHJcblx0XHRwcmVsb2FkZXJfY29udGFpbmVyLmRlbGF5KDcwMCkuZmFkZU91dCg3MDAsIGZ1bmN0aW9uKCl7XHJcblx0XHRcdC8vIENhbGxiYWNrcywgZS5nLjpcclxuXHRcdFx0cHJlbG9hZGVyX3BlcmNlbnRhZ2UucmVtb3ZlKCk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIGltYWdlc19sb29wICh0b3RhbCkge1xyXG5cdFx0Zm9yKHZhciBpPTA7IGk8dG90YWw7IGkrKyl7XHJcblx0XHRcdHZhciB0ZXN0X2ltYWdlID0gbmV3IEltYWdlKCk7XHJcblxyXG5cdFx0XHR0ZXN0X2ltYWdlLm9ubG9hZCA9IGltZ19sb2FkZWQ7XHJcblx0XHRcdHRlc3RfaW1hZ2Uub25lcnJvciA9IGltZ19sb2FkZWQ7XHJcblxyXG5cdFx0XHRpZiAoYWxsX2ltYWdlc1tpXS5zcmNzZXQpIHtcclxuXHRcdFx0XHR0ZXN0X2ltYWdlLnNyY3NldCA9IGFsbF9pbWFnZXNbaV0uc3Jjc2V0O1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR0ZXN0X2ltYWdlLnNyYyA9IGFsbF9pbWFnZXNbaV0uc3JjO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gR2V0IGFsbCBpbWFnZXNcclxuXHQkKFwiKlwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBlbGVtZW50ID0gJCh0aGlzKTtcclxuXHJcblx0XHRpZiAoZWxlbWVudC5pcyhcImltZ1wiKSAmJiBlbGVtZW50LmF0dHIoXCJzcmNcIikpIHtcclxuXHRcdFx0YWxsX2ltYWdlcy5wdXNoKHtcclxuXHRcdFx0XHRzcmM6IGVsZW1lbnQuYXR0cihcInNyY1wiKSxcclxuXHRcdFx0XHRlbGVtZW50OiBlbGVtZW50WzBdXHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdCQuZWFjaChoYXNJbWFnZVByb3BlcnRpZXMsIGZ1bmN0aW9uIChpLCBwcm9wZXJ0eSkge1xyXG5cdFx0XHR2YXIgcHJvcGVydHlWYWx1ZSA9IGVsZW1lbnQuY3NzKHByb3BlcnR5KTtcclxuXHRcdFx0dmFyIG1hdGNoO1xyXG5cclxuXHRcdFx0aWYgKCFwcm9wZXJ0eVZhbHVlKSB7XHJcblx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdG1hdGNoID0gbWF0Y2hfdXJsLmV4ZWMocHJvcGVydHlWYWx1ZSk7XHJcblx0XHRcdFxyXG5cdFx0XHRpZiAobWF0Y2gpIHtcclxuXHRcdFx0XHRhbGxfaW1hZ2VzLnB1c2goe1xyXG5cdFx0XHRcdFx0c3JjOiBtYXRjaFsyXSxcclxuXHRcdFx0XHRcdGVsZW1lbnQ6IGVsZW1lbnRbMF1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0JC5lYWNoKGhhc0ltYWdlQXR0cmlidXRlcywgZnVuY3Rpb24gKGksIGF0dHJpYnV0ZSkge1xyXG5cdFx0XHR2YXIgYXR0cmlidXRlVmFsdWUgPSBlbGVtZW50LmF0dHIoYXR0cmlidXRlKTtcclxuXHJcblx0XHRcdGlmICghYXR0cmlidXRlVmFsdWUpIHtcclxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0YWxsX2ltYWdlcy5wdXNoKHtcclxuXHRcdFx0XHRzcmM6IGVsZW1lbnQuYXR0cihcInNyY1wiKSxcclxuXHRcdFx0XHRzcmNzZXQ6IGVsZW1lbnQuYXR0cihcInNyY3NldFwiKSxcclxuXHRcdFx0XHRlbGVtZW50OiBlbGVtZW50WzBdXHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0fSk7XHJcblxyXG5cdHRvdGFsID0gYWxsX2ltYWdlcy5sZW5ndGg7XHJcblxyXG5cdC8vIFN0YXJ0IHByZWxvYWRlciBvciBleGl0XHJcblx0aWYgKHRvdGFsID09PSAwKSB7XHJcblx0XHRwcmVsb2FkZXJfcGVyY2VudGFnZS5odG1sKDEwMCk7XHJcblx0XHRkb25lX2xvYWRpbmcoKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0aW1hZ2VzX2xvb3AodG90YWwpO1xyXG5cdH1cclxufTtcbn0se31dfSx7fSxbMV0pO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
