!function e(t,n,i){function r(o,s){if(!n[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);var d=new Error("Cannot find module '"+o+"'");throw d.code="MODULE_NOT_FOUND",d}var c=n[o]={exports:{}};t[o][0].call(c.exports,function(e){var n=t[o][1][e];return r(n?n:e)},c,c.exports,e,t,n,i)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(e,t,n){!function(t){"use strict";function n(e){e.preventDefault(),t(".photo-editing").slideUp(300),t(".photo-removing").slideDown(300)}function i(e){e.preventDefault(),t(".photo-removing").slideUp(300),t(".photo-editing").slideDown(300)}function r(e){e.preventDefault();var n=t(this).closest(".social-links__item");n.siblings().find(".social-links__form").hide(),n.find(".social-links__form").show()}function a(e){e.preventDefault(),t(this).closest(".social-links__form").hide()}var o=e("./modules/preloader.js"),s=e("./modules/modal.js"),l=e("./modules/slider.js"),d=e("./modules/animations.js"),c=e("./modules/ajax.js"),u=e("./modules/image_preview.js");if(t("#scene.axis").length&&t("#scene.axis").parallax({scalarX:3,scalarY:3,frictionX:.5,frictionY:.5}),t("#go-up").click(function(){t("html, body").stop().animate({scrollTop:0},700,"swing")}),d.fadePageOn("a.preload-link","#preloader",300),t.fn.animated=d.animateCss,t(".album-item").animated("fadeIn"),t(".js-add-album").length&&s.init("#add-album-modal",".js-add-album",".js-close-modal"),t(".js-add-photos").length&&s.init("#add-photos-modal",".js-add-photos",".js-close-modal"),t(".js-edit-photo").length&&s.init("#edit-photo-modal",".js-edit-photo",".js-close-modal"),t(".js-edit-user").length&&s.init("#edit-user-modal",".js-edit-user",".js-close-modal"),t(".js-edit-user-header").length&&s.init("#edit-user-header",".js-edit-user-header",".js-close-header"),t(".js-edit-album-header").length&&s.init("#edit-album-header",".js-edit-album-header",".js-close-header"),t(".js-show-photo-removing").length&&t(".js-show-photo-removing").on("click",n),t(".js-hide-photo-removing").length&&t(".js-hide-photo-removing").on("click",i),t(".js-open-slider").length>0&&l.init("#slider",".js-open-slider",".js-close-slider",".js-slider-next",".js-slider-prev"),t(".js-open-social-form").length&&t(".js-open-social-form").on("click",r),t(".js-close-form").length&&t(".js-close-form").on("click",a),t("#flip-card").click(function(){t("body").addClass("card_flipped")}),t("#unflip-card").click(function(e){e.preventDefault(),t("body").removeClass("card_flipped")}),t("#show-recovery").click(function(e){e.preventDefault(),t("body").addClass("show_recovery")}),t("#hide-recovery").click(function(e){e.preventDefault(),t("body").removeClass("show_recovery")}),t("div#dropzone").length){var f=2;t("div#dropzone").dropzone({url:"/",maxFilesize:f})}o(),c.init(),u.init()}(jQuery)},{"./modules/ajax.js":2,"./modules/animations.js":3,"./modules/image_preview.js":5,"./modules/modal.js":6,"./modules/preloader.js":7,"./modules/slider.js":8}],2:[function(e,t,n){var i=function(){function e(){$("#edit-user-header").on("submit",function(e){e.preventDefault();var t=new FormData($(e.target)[0]);$.ajax({method:"POST",url:"/user/savedata",data:t,processData:!1,contentType:!1}).done(function(n){"success"==n.status&&(void 0!==n.background&&$(".main-page").css({backgroundImage:"url("+n.background+")"}),void 0!==n.avatar&&$("#user-avatar").attr("src",n.avatar),$(".user-info__name").text(t.get("name")),$(".user-info__desc").text(t.get("description")),$("#social__link_vk").attr("href",t.get("vk")),$("#social__link_fb").attr("href",t.get("facebook")),$("#social__link_tw").attr("href",t.get("twitter")),$("#social__link_gg").attr("href",t.get("google")),$("#social__link_email").attr("href","mailto:"+t.get("email"))),$(e.target).removeClass("show").addClass("hide"),$("body").removeClass("has-overflow-hidden")})}),$("#form-add-album").on("submit",function(e){e.preventDefault();var t=new FormData($(e.target)[0]);console.log("add-album"),$.ajax({method:"POST",url:"/album/save",data:t,processData:!1,contentType:!1}).done(function(e){console.log(e)})})}return{init:e}}();t.exports={init:i.init}},{}],3:[function(e,t,n){function i(e,t,n){$(document).on("click",e,function(e){var i=$(this).attr("href");if("#"!=i[0])return e.preventDefault(),$(t).fadeIn(n,function(){return document.location=null!=i?i:"/"})})}var r=function(e){$(this).each(function(){var t=$(this);t.css({opacity:0}).addClass("animated").waypoint(function(n){"down"===n&&t.addClass(e).css({opacity:1})},{offset:"90%"})})};t.exports={animateCss:r,fadePageOn:i}},{}],4:[function(e,t,n){var i=function(){var e={"max-height":"100px",overflow:"scroll",position:"absolute"},t=$("<div id='scroll_bar_check_A'></div>").css(e),n=$("<div id='scroll_bar_check_B'></div>"),i=$("<img src='/assets/img/force-scroll.png'/>"),r=0;return t.append(i).append(n),$("body").append(t),r=t.width()-n.width(),t.remove(),r},r=function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);var n=e.indexOf("Trident/");if(n>0){var i=e.indexOf("rv:");return parseInt(e.substring(i+3,e.indexOf(".",i)),10)}var r=e.indexOf("Edge/");return r>0&&parseInt(e.substring(r+5,e.indexOf(".",r)),10)};t.exports={getScrollbarWidth:i,ieVersion:r}},{}],5:[function(e,t,n){var i=function(){function e(){$("#input_avatar").on("change",function(){var e=this,t=$("#preview_avatar");if(e.files&&e.files[0]){var n=new FileReader;n.onload=function(e){t.attr("src",e.target.result)},n.readAsDataURL(e.files[0])}}),$("#input_background").on("change",function(){var e=this,t=$("#bg-edit-user");if(e.files&&e.files[0]){var n=new FileReader;n.onload=function(e){t.css({backgroundImage:"url("+e.target.result+")"})},n.readAsDataURL(e.files[0])}})}return{init:e}}();t.exports={init:i.init}},{}],6:[function(e,t,n){function i(e,t,n){var i=$(e),r=$(t),a=i.find(n),o=$("body");r.on("click",function(e){e.preventDefault(),i.removeClass("hide").addClass("show"),o.addClass("has-overflow-hidden")}),a.on("click",function(e){e.preventDefault(),i.addClass("hide").removeClass("show"),o.removeClass("has-overflow-hidden")})}t.exports={init:i}},{}],7:[function(e,t,n){var i=$("#preloader"),r=$("#preloader__percentage"),a=["background","backgroundImage","listStyleImage","borderImage","borderCornerImage","cursor"],o=["srcset"],s=/url\(\s*(['"]?)(.*?)\1\s*\)/g,l=[],d=0,c=0,u=$("#preloader__img .bar__outer"),f=$("#preloader__img .bar__center"),m=$("#preloader__img .bar__inner"),h=Math.PI*(2*u.attr("r")),v=Math.PI*(2*f.attr("r")),p=Math.PI*(2*m.attr("r"));t.exports=function(){function e(){var e=Math.ceil((c+1)/d*100);if(c+=1,e=e>100?100:e,u.css({strokeDashoffset:(100-e)/100*h}),e>50&&f.css({strokeDashoffset:(100-e)/100*v}),100==e&&m.css({strokeDashoffset:(100-e)/100*p}),r.html(e),c===d)return t()}function t(){r.css({animation:"none"}),i.delay(700).fadeOut(700,function(){r.remove()})}function n(t){for(var n=0;n<t;n++){var i=new Image;i.onload=e,i.onerror=e,l[n].srcset&&(i.srcset=l[n].srcset),i.src=l[n].src}}$("*").each(function(){var e=$(this);e.is("img")&&e.attr("src")&&l.push({src:e.attr("src"),element:e[0]}),$.each(a,function(t,n){var i,r=e.css(n);return!r||(i=s.exec(r),void(i&&l.push({src:i[2],element:e[0]})))}),$.each(o,function(t,n){var i=e.attr(n);return!i||void l.push({src:e.attr("src"),srcset:e.attr("srcset"),element:e[0]})})}),d=l.length,0===d?(r.html(100),t()):n(d)}},{}],8:[function(e,t,n){function i(e,t,n,i,r){l=$(e);var c=$(t),f=l.find(n),m=l.find(i),h=l.find(r),v=$("html");c.on("click",function(e){e.preventDefault(),d=$(this).closest(".album-item"),s(d),l.removeClass("hide").addClass("show"),v.addClass("has-overflow-hidden").css({"padding-right":u})}),f.on("click",function(e){e.preventDefault(),l.addClass("hide").removeClass("show"),v.removeClass("has-overflow-hidden").css({"padding-right":0})}),m.on("click",function(e){e.preventDefault(),a()}),h.on("click",function(e){e.preventDefault(),o()})}function r(){var e=l.find(".slider__photo"),t=l.find(".slider__img").height();e.animate({height:t},300)}function a(){var e=d.next(".album-item");e.length&&(s(e),d=e)}function o(){var e=d.prev(".album-item");e.length&&(s(e),d=e)}function s(e){var t=e.data("thumb");img_title=e.data("title"),img_likes=e.data("likes"),img_user_name=e.data("user_name"),img_user_avatar=e.data("user_avatar"),n=e.data("desc"),comments_holder=l.find(".comments__holder"),img_comments=e.find(".comments__item"),comments_holder.html(""),img_comments.each(function(e,t){comments_holder.append(t)});var n=e.data("desc");l.find(".slider__img").attr("src",t),l.find(".slider__title").html(img_title),l.find(".likes__count").html(img_likes),l.find(".slider__text").html(n),l.find(".slider__author-name").html(img_user_name),l.find(".slider__author-photo img").attr("src",img_user_avatar),r()}helpers=e("./helpers.js");var l,d,c,u=helpers.getScrollbarWidth(),f=100;$(window).resize(function(){clearTimeout(c),c=setTimeout(r,f)}),t.exports={init:i,showNext:a,showPrev:o}},{"./helpers.js":4}]},{},[1]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJlIiwidCIsIm4iLCJyIiwicyIsIm8iLCJ1IiwiYSIsInJlcXVpcmUiLCJpIiwiZiIsIkVycm9yIiwiY29kZSIsImwiLCJleHBvcnRzIiwiY2FsbCIsImxlbmd0aCIsIjEiLCJtb2R1bGUiLCIkIiwic2hvd1Bob3RvUmVtb3ZpbmdCbG9jayIsInByZXZlbnREZWZhdWx0Iiwic2xpZGVVcCIsInNsaWRlRG93biIsImhpZGVQaG90b1JlbW92aW5nQmxvY2siLCJzaG93U29jaWFsRm9ybSIsInNvY2lhbEl0ZW0iLCJ0aGlzIiwiY2xvc2VzdCIsInNpYmxpbmdzIiwiZmluZCIsImhpZGUiLCJzaG93IiwiaGlkZVNvY2lhbEZvcm0iLCJwcmVsb2FkZXIiLCJtb2RhbCIsInNsaWRlciIsImFuaW1hdGlvbnMiLCJzZXRBamF4UmVzcG9uY2UiLCJpbWFnZVByZXZpZXciLCJwYXJhbGxheCIsInNjYWxhclgiLCJzY2FsYXJZIiwiZnJpY3Rpb25YIiwiZnJpY3Rpb25ZIiwiY2xpY2siLCJzdG9wIiwiYW5pbWF0ZSIsInNjcm9sbFRvcCIsImZhZGVQYWdlT24iLCJmbiIsImFuaW1hdGVkIiwiYW5pbWF0ZUNzcyIsImluaXQiLCJvbiIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJtYXhGaWxlU2l6ZU1iIiwiZHJvcHpvbmUiLCJ1cmwiLCJtYXhGaWxlc2l6ZSIsImpRdWVyeSIsIi4vbW9kdWxlcy9hamF4LmpzIiwiLi9tb2R1bGVzL2FuaW1hdGlvbnMuanMiLCIuL21vZHVsZXMvaW1hZ2VfcHJldmlldy5qcyIsIi4vbW9kdWxlcy9tb2RhbC5qcyIsIi4vbW9kdWxlcy9wcmVsb2FkZXIuanMiLCIuL21vZHVsZXMvc2xpZGVyLmpzIiwiMiIsInNldEFqYXhSZXNwb25jZXMiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwidGFyZ2V0IiwiYWpheCIsIm1ldGhvZCIsImRhdGEiLCJwcm9jZXNzRGF0YSIsImNvbnRlbnRUeXBlIiwiZG9uZSIsIm1zZyIsInN0YXR1cyIsInVuZGVmaW5lZCIsImJhY2tncm91bmQiLCJjc3MiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJhdmF0YXIiLCJhdHRyIiwidGV4dCIsImdldCIsImNvbnNvbGUiLCJsb2ciLCIzIiwibGlua19zZWxlY3RvciIsIm92ZXJsYXlfc2VsZWN0b3IiLCJ0aW1lIiwiZG9jdW1lbnQiLCJocmVmIiwiZmFkZUluIiwibG9jYXRpb24iLCJpbl9lZmZlY3QiLCJlYWNoIiwiZWxlbSIsIm9wYWNpdHkiLCJ3YXlwb2ludCIsImRpciIsIm9mZnNldCIsIjQiLCJnZXRTY3JvbGxiYXJXaWR0aCIsInN0eWxlIiwibWF4LWhlaWdodCIsIm92ZXJmbG93IiwicG9zaXRpb24iLCJ3cmFwcGVyIiwiaW5uZXIiLCJzdHJldGNoZXIiLCJzY3JvbGxCYXJXaWR0aCIsImFwcGVuZCIsIndpZHRoIiwicmVtb3ZlIiwiaWVWZXJzaW9uIiwidWEiLCJ3aW5kb3ciLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJtc2llIiwiaW5kZXhPZiIsInBhcnNlSW50Iiwic3Vic3RyaW5nIiwidHJpZGVudCIsInJ2IiwiZWRnZSIsIjUiLCJpbnB1dCIsImZpbGVzIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsInJlc3VsdCIsInJlYWRBc0RhdGFVUkwiLCJiZyIsIjYiLCJjb250YWluZXIiLCJvcGVuQnRuIiwiY2xvc2VCdG4iLCJvcGVuIiwiY2xvc2UiLCJib2R5IiwiNyIsInByZWxvYWRlcl9jb250YWluZXIiLCJwcmVsb2FkZXJfcGVyY2VudGFnZSIsImhhc0ltYWdlUHJvcGVydGllcyIsImhhc0ltYWdlQXR0cmlidXRlcyIsIm1hdGNoX3VybCIsImFsbF9pbWFnZXMiLCJ0b3RhbCIsImNvdW50IiwiY2lyY2xlX28iLCJjaXJjbGVfYyIsImNpcmNsZV9pIiwibGVuZ3RoX28iLCJNYXRoIiwiUEkiLCJsZW5ndGhfYyIsImxlbmd0aF9pIiwiaW1nX2xvYWRlZCIsInBlcmNlbnRhZ2UiLCJjZWlsIiwic3Ryb2tlRGFzaG9mZnNldCIsImh0bWwiLCJkb25lX2xvYWRpbmciLCJhbmltYXRpb24iLCJkZWxheSIsImZhZGVPdXQiLCJpbWFnZXNfbG9vcCIsInRlc3RfaW1hZ2UiLCJJbWFnZSIsIm9uZXJyb3IiLCJzcmNzZXQiLCJzcmMiLCJlbGVtZW50IiwiaXMiLCJwdXNoIiwicHJvcGVydHkiLCJtYXRjaCIsInByb3BlcnR5VmFsdWUiLCJleGVjIiwiYXR0cmlidXRlIiwiYXR0cmlidXRlVmFsdWUiLCI4IiwibmV4dEJ0biIsInByZXZCdG4iLCJuZXh0IiwicHJldiIsImN1cnJlbnQiLCJzaG93U2xpZGUiLCJwYWRkaW5nLXJpZ2h0Iiwic2Nyb2xsYmFyX3dpZHRoIiwic2hvd05leHQiLCJzaG93UHJldiIsImFqdXN0SW1nSGVpZ2h0Iiwic2xpZGVyUGhvdG8iLCJzbGlkZUhlaWdodCIsImhlaWdodCIsIm5leHRTbGlkZSIsInByZXZTbGlkZSIsIl9pdGVtIiwiaW1nX3RodW1iIiwiaW1nX3RpdGxlIiwiaW1nX2xpa2VzIiwiaW1nX3VzZXJfbmFtZSIsImltZ191c2VyX2F2YXRhciIsImltZ19kZXNjIiwiY29tbWVudHNfaG9sZGVyIiwiaW1nX2NvbW1lbnRzIiwia2V5IiwidmFsdWUiLCJoZWxwZXJzIiwicmVzaXplVGltZW91dCIsInJlc2l6ZURlbHRhIiwicmVzaXplIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsIi4vaGVscGVycy5qcyJdLCJtYXBwaW5ncyI6IkNBQUEsUUFBVUEsR0FBRUMsRUFBRUMsRUFBRUMsR0FBRyxRQUFTQyxHQUFFQyxFQUFFQyxHQUFHLElBQUlKLEVBQUVHLEdBQUcsQ0FBQyxJQUFJSixFQUFFSSxHQUFHLENBQUMsR0FBSUUsR0FBa0Isa0JBQVRDLFVBQXFCQSxPQUFRLEtBQUlGLEdBQUdDLEVBQUUsTUFBT0EsR0FBRUYsR0FBRSxFQUFJLElBQUdJLEVBQUUsTUFBT0EsR0FBRUosR0FBRSxFQUFJLElBQUlLLEdBQUUsR0FBSUMsT0FBTSx1QkFBdUJOLEVBQUUsSUFBSyxNQUFNSyxHQUFF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LEVBQU9OLEtBQUsscUJBQzlCdUwsYUFBZVIsRUFBTS9LLEtBQUssbUJBRzNCc0wsZ0JBQWdCNUMsS0FBSyxJQUdyQjZDLGFBQWFqSCxLQUFLLFNBQVNrSCxFQUFLQyxHQUMvQkgsZ0JBQWdCaEcsT0FBT21HLElBSXhCLElBQUlKLEdBQVdOLEVBQU1sSSxLQUFLLE9BRTFCdkMsR0FBT04sS0FBSyxnQkFBZ0J3RCxLQUFLLE1BQU93SCxHQUN4QzFLLEVBQU9OLEtBQUssa0JBQWtCMEksS0FBS3VDLFdBQ25DM0ssRUFBT04sS0FBSyxpQkFBaUIwSSxLQUFLd0MsV0FDbEM1SyxFQUFPTixLQUFLLGlCQUFpQjBJLEtBQUsyQyxHQUNsQy9LLEVBQU9OLEtBQUssd0JBQXdCMEksS0FBS3lDLGVBQ3pDN0ssRUFBT04sS0FBSyw2QkFBNkJ3RCxLQUFLLE1BQU80SCxpQkFFckRYLElBckdEaUIsUUFBVWhOLEVBQVEsZUFFbEIsSUFDQzRCLEdBQ0E2SixFQUNBd0IsRUFIR3JCLEVBQWtCb0IsUUFBUTdHLG9CQUk3QitHLEVBQWMsR0FrR2Z2TSxHQUFFc0csUUFBUWtHLE9BQU8sV0FDaEJDLGFBQWFILEdBQ2JBLEVBQWdCSSxXQUFXdEIsRUFBZ0JtQixLQUc1Q3hNLEVBQU9KLFNBQ051QyxLQUFPQSxFQUNQZ0osU0FBVUEsRUFDVkMsU0FBVUEsS0FJUndCLGVBQWUsU0FBUyIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSh7MTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4oZnVuY3Rpb24oJCkge1xyXG5cdFwidXNlIHN0cmljdFwiO1xyXG5cclxuXHR2YXIgcHJlbG9hZGVyID0gcmVxdWlyZShcIi4vbW9kdWxlcy9wcmVsb2FkZXIuanNcIiksXHJcblx0XHQvLyBoZWxwZXJzID0gcmVxdWlyZShcIi4vbW9kdWxlcy9oZWxwZXJzLmpzXCIpLFxyXG5cdFx0bW9kYWwgPSByZXF1aXJlKFwiLi9tb2R1bGVzL21vZGFsLmpzXCIpLFxyXG5cdFx0c2xpZGVyID0gcmVxdWlyZShcIi4vbW9kdWxlcy9zbGlkZXIuanNcIiksXHJcblx0XHRhbmltYXRpb25zID0gcmVxdWlyZShcIi4vbW9kdWxlcy9hbmltYXRpb25zLmpzXCIpLFxyXG5cdFx0c2V0QWpheFJlc3BvbmNlID0gcmVxdWlyZShcIi4vbW9kdWxlcy9hamF4LmpzXCIpLFxyXG5cdFx0aW1hZ2VQcmV2aWV3ID0gcmVxdWlyZShcIi4vbW9kdWxlcy9pbWFnZV9wcmV2aWV3LmpzXCIpO1xyXG5cclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHQvLyBBZGFwdGl2ZSBicmVha3BvaW50c1xyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdC8vIHZhciBzY3JvbGxiYXJfd2lkdGggPSBoZWxwZXJzLmdldFNjcm9sbGJhcldpZHRoKCksXHJcblx0Ly8gXHRzY3JlZW5fc2l6ZXMgPSB7XHJcblx0Ly8gXHRcdG1vYmlsZSA6IDQ4MCAtIHNjcm9sbGJhcl93aWR0aCxcclxuXHQvLyBcdFx0dGFibGV0IDogNzY4IC0gc2Nyb2xsYmFyX3dpZHRoLFxyXG5cdC8vIFx0XHRsaW1pdCA6IDIwMDAgLSBzY3JvbGxiYXJfd2lkdGhcclxuXHQvLyBcdH07XHJcblxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdC8vIFBhcmFsbGF4XHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5cdC8vIE1haW4gcGFnZSBtb3VzZSBwYXJhbGxheFxyXG5cdGlmKCQoXCIjc2NlbmUuYXhpc1wiKS5sZW5ndGgpe1xyXG5cdFx0JChcIiNzY2VuZS5heGlzXCIpLnBhcmFsbGF4KHtcclxuXHRcdFx0c2NhbGFyWDogMyxcclxuXHRcdFx0c2NhbGFyWTogMyxcclxuXHRcdFx0ZnJpY3Rpb25YOiAwLjUsXHJcblx0XHRcdGZyaWN0aW9uWTogMC41XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHQvLyBGb290ZXIgc2Nyb2xsIGJ1dHRvblxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdCQoXCIjZ28tdXBcIikuY2xpY2soZnVuY3Rpb24oKXtcclxuXHRcdCQoXCJodG1sLCBib2R5XCIpLnN0b3AoKS5hbmltYXRlKHtcclxuXHRcdFx0c2Nyb2xsVG9wOiAwXHJcblx0XHR9LCA3MDAsIFwic3dpbmdcIik7XHJcblx0fSk7XHJcblxyXG5cclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHQvLyBBbmltYXRpb25zIGV4YW1wbGVcclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHRhbmltYXRpb25zLmZhZGVQYWdlT24oXCJhLnByZWxvYWQtbGlua1wiLCBcIiNwcmVsb2FkZXJcIiwgMzAwKTtcclxuXHJcblx0JC5mbi5hbmltYXRlZCA9IGFuaW1hdGlvbnMuYW5pbWF0ZUNzcztcclxuXHQkKFwiLmFsYnVtLWl0ZW1cIikuYW5pbWF0ZWQoXCJmYWRlSW5cIik7XHJcblxyXG5cclxuXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0Ly8gSW5pdCBBZGQgQWxidW0gTW9kYWxcclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHRpZiAoJChcIi5qcy1hZGQtYWxidW1cIikubGVuZ3RoKSB7XHJcblx0XHRtb2RhbC5pbml0KFwiI2FkZC1hbGJ1bS1tb2RhbFwiLCBcIi5qcy1hZGQtYWxidW1cIiwgXCIuanMtY2xvc2UtbW9kYWxcIik7XHJcblx0fVxyXG5cclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHQvLyBJbml0IEFkZCBQaG90b3MgTW9kYWxcclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHRpZiAoJChcIi5qcy1hZGQtcGhvdG9zXCIpLmxlbmd0aCkge1xyXG5cdFx0bW9kYWwuaW5pdChcIiNhZGQtcGhvdG9zLW1vZGFsXCIsIFwiLmpzLWFkZC1waG90b3NcIiwgXCIuanMtY2xvc2UtbW9kYWxcIik7XHJcblx0fVxyXG5cclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHQvLyBJbml0IEVkaXQgUGhvdG8gTW9kYWxcclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHRpZiAoJChcIi5qcy1lZGl0LXBob3RvXCIpLmxlbmd0aCkge1xyXG5cdFx0bW9kYWwuaW5pdChcIiNlZGl0LXBob3RvLW1vZGFsXCIsIFwiLmpzLWVkaXQtcGhvdG9cIiwgXCIuanMtY2xvc2UtbW9kYWxcIik7XHJcblx0fVxyXG5cclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHQvLyBJbml0IEVkaXQgVXNlciBNb2RhbFxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdGlmICgkKFwiLmpzLWVkaXQtdXNlclwiKS5sZW5ndGgpIHtcclxuXHRcdG1vZGFsLmluaXQoXCIjZWRpdC11c2VyLW1vZGFsXCIsIFwiLmpzLWVkaXQtdXNlclwiLCBcIi5qcy1jbG9zZS1tb2RhbFwiKTtcclxuXHR9XHJcblxyXG5cclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHQvLyBJbml0IEVkaXQgVXNlciBNb2RhbCAoaW4gSGVhZGVyKVxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdGlmICgkKFwiLmpzLWVkaXQtdXNlci1oZWFkZXJcIikubGVuZ3RoKSB7XHJcblx0XHRtb2RhbC5pbml0KFwiI2VkaXQtdXNlci1oZWFkZXJcIiwgXCIuanMtZWRpdC11c2VyLWhlYWRlclwiLCBcIi5qcy1jbG9zZS1oZWFkZXJcIik7XHJcblx0fVxyXG5cclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHQvLyBJbml0IEVkaXQgQWxidW0gTW9kYWwgKGluIEhlYWRlcilcclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHRpZiAoJChcIi5qcy1lZGl0LWFsYnVtLWhlYWRlclwiKS5sZW5ndGgpIHtcclxuXHRcdG1vZGFsLmluaXQoXCIjZWRpdC1hbGJ1bS1oZWFkZXJcIiwgXCIuanMtZWRpdC1hbGJ1bS1oZWFkZXJcIiwgXCIuanMtY2xvc2UtaGVhZGVyXCIpO1xyXG5cdH1cclxuXHJcblxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdC8vIEVkaXQgVXNlciBNb2RhbCAtIERlbGV0ZSBQaG90b1xyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdGZ1bmN0aW9uIHNob3dQaG90b1JlbW92aW5nQmxvY2soZSkge1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0JChcIi5waG90by1lZGl0aW5nXCIpLnNsaWRlVXAoMzAwKTtcclxuXHRcdCQoXCIucGhvdG8tcmVtb3ZpbmdcIikuc2xpZGVEb3duKDMwMCk7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBoaWRlUGhvdG9SZW1vdmluZ0Jsb2NrKGUpIHtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdCQoXCIucGhvdG8tcmVtb3ZpbmdcIikuc2xpZGVVcCgzMDApO1xyXG5cdFx0JChcIi5waG90by1lZGl0aW5nXCIpLnNsaWRlRG93bigzMDApO1xyXG5cdH1cclxuXHJcblx0aWYgKCQoXCIuanMtc2hvdy1waG90by1yZW1vdmluZ1wiKS5sZW5ndGgpIHtcclxuXHRcdCQoXCIuanMtc2hvdy1waG90by1yZW1vdmluZ1wiKS5vbihcImNsaWNrXCIsIHNob3dQaG90b1JlbW92aW5nQmxvY2spO1xyXG5cdH1cclxuXHJcblx0aWYgKCQoXCIuanMtaGlkZS1waG90by1yZW1vdmluZ1wiKS5sZW5ndGgpIHtcclxuXHRcdCQoXCIuanMtaGlkZS1waG90by1yZW1vdmluZ1wiKS5vbihcImNsaWNrXCIsIGhpZGVQaG90b1JlbW92aW5nQmxvY2spO1xyXG5cdH1cclxuXHJcblxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdC8vIEluaXQgRWRpdCBBbGJ1bSBNb2RhbCAoaW4gSGVhZGVyKVxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdGlmICgkKFwiLmpzLW9wZW4tc2xpZGVyXCIpLmxlbmd0aCA+IDApIHtcclxuXHRcdHNsaWRlci5pbml0KFwiI3NsaWRlclwiLCBcIi5qcy1vcGVuLXNsaWRlclwiLCBcIi5qcy1jbG9zZS1zbGlkZXJcIiwgXCIuanMtc2xpZGVyLW5leHRcIiwgXCIuanMtc2xpZGVyLXByZXZcIik7XHJcblx0fVxyXG5cclxuXHJcblxyXG5cclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHQvLyBTaG93IFNvY2lhbCBJdGVtcyBGb3Jtc1xyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdGZ1bmN0aW9uIHNob3dTb2NpYWxGb3JtKGUpIHtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdHZhciBzb2NpYWxJdGVtID0gICQodGhpcykuY2xvc2VzdChcIi5zb2NpYWwtbGlua3NfX2l0ZW1cIik7XHJcblx0XHRzb2NpYWxJdGVtLnNpYmxpbmdzKCkuZmluZChcIi5zb2NpYWwtbGlua3NfX2Zvcm1cIikuaGlkZSgpO1xyXG5cdFx0c29jaWFsSXRlbS5maW5kKFwiLnNvY2lhbC1saW5rc19fZm9ybVwiKS5zaG93KCk7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBoaWRlU29jaWFsRm9ybShlKSB7XHJcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHQkKHRoaXMpLmNsb3Nlc3QoXCIuc29jaWFsLWxpbmtzX19mb3JtXCIpLmhpZGUoKTtcclxuXHR9XHJcblxyXG5cdGlmICgkKFwiLmpzLW9wZW4tc29jaWFsLWZvcm1cIikubGVuZ3RoKSB7XHJcblx0XHQkKFwiLmpzLW9wZW4tc29jaWFsLWZvcm1cIikub24oXCJjbGlja1wiLCBzaG93U29jaWFsRm9ybSk7XHJcblx0fVxyXG5cdGlmICgkKFwiLmpzLWNsb3NlLWZvcm1cIikubGVuZ3RoKSB7XHJcblx0XHQkKFwiLmpzLWNsb3NlLWZvcm1cIikub24oXCJjbGlja1wiLCBoaWRlU29jaWFsRm9ybSk7XHJcblx0fVxyXG5cclxuXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0Ly8gTG9naW4gY2FyZCBmbGlwXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0JChcIiNmbGlwLWNhcmRcIikuY2xpY2soZnVuY3Rpb24oKSB7XHJcblx0XHQkKFwiYm9keVwiKS5hZGRDbGFzcyhcImNhcmRfZmxpcHBlZFwiKTtcclxuXHR9KTtcclxuXHJcblx0JChcIiN1bmZsaXAtY2FyZFwiKS5jbGljayhmdW5jdGlvbihlKSB7XHJcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHQkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcImNhcmRfZmxpcHBlZFwiKTtcclxuXHR9KTtcclxuXHJcblxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdC8vIExvZ2luIHNob3cgUmVjb3ZlcnkgcGFzc3dvcmQgQ2FyZFxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdCQoXCIjc2hvdy1yZWNvdmVyeVwiKS5jbGljayhmdW5jdGlvbihlKSB7XHJcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHQkKFwiYm9keVwiKS5hZGRDbGFzcyhcInNob3dfcmVjb3ZlcnlcIik7XHJcblx0fSk7XHJcblxyXG5cdCQoXCIjaGlkZS1yZWNvdmVyeVwiKS5jbGljayhmdW5jdGlvbihlKSB7XHJcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHQkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcInNob3dfcmVjb3ZlcnlcIik7XHJcblx0fSk7XHJcblxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdC8vIERyb3B6b25lIChBZGQgcGhvdG9zKVxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuXHRpZiAoJChcImRpdiNkcm9wem9uZVwiKS5sZW5ndGgpIHtcclxuXHJcblx0XHR2YXIgbWF4RmlsZVNpemVNYiA9IDI7XHJcblxyXG5cdFx0JChcImRpdiNkcm9wem9uZVwiKS5kcm9wem9uZSh7XHJcblx0XHRcdHVybDogXCIvXCIgLFxyXG5cdFx0XHRtYXhGaWxlc2l6ZTogbWF4RmlsZVNpemVNYlxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRwcmVsb2FkZXIoKTtcclxuXHJcblx0c2V0QWpheFJlc3BvbmNlLmluaXQoKTtcclxuXHRpbWFnZVByZXZpZXcuaW5pdCgpO1xyXG5cclxufSkoalF1ZXJ5KTtcbn0se1wiLi9tb2R1bGVzL2FqYXguanNcIjoyLFwiLi9tb2R1bGVzL2FuaW1hdGlvbnMuanNcIjozLFwiLi9tb2R1bGVzL2ltYWdlX3ByZXZpZXcuanNcIjo1LFwiLi9tb2R1bGVzL21vZGFsLmpzXCI6NixcIi4vbW9kdWxlcy9wcmVsb2FkZXIuanNcIjo3LFwiLi9tb2R1bGVzL3NsaWRlci5qc1wiOjh9XSwyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8qKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuKiAtLS0tLSDQo9GB0YLQsNC90L7QstC60LAgYWpheC3Qt9Cw0L/RgNC+0YHQvtCyIC0tLS0tLS0tXHJcbiogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cclxuXHJcbnZhciBzZXRBamF4UmVzcG9uY2VzID0gKGZ1bmN0aW9uKCkge1xyXG5cclxuICBmdW5jdGlvbiBpbml0KCkge1xyXG5cclxuICAgIC8vINCg0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40LUg0LTQsNC90L3Ri9GFINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xyXG4gICAgJCgnI2VkaXQtdXNlci1oZWFkZXInKS5vbignc3VibWl0JywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoJChlLnRhcmdldClbMF0pO1xyXG5cclxuICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgdXJsOiBcIi91c2VyL3NhdmVkYXRhXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IGZvcm1EYXRhLFxyXG4gICAgICAgICAgICBwcm9jZXNzRGF0YTogZmFsc2UsXHJcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBmYWxzZVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5kb25lKGZ1bmN0aW9uIChtc2cpIHtcclxuLy8gY29uc29sZS5sb2cobXNnKTtcclxuXHJcbiAgICAgICAgICAgIGlmKG1zZy5zdGF0dXMgPT0gJ3N1Y2Nlc3MnKSB7XHJcbiAgICAgICAgICAgICAgaWYobXNnLmJhY2tncm91bmQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgJCgnLm1haW4tcGFnZScpLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZTogXCJ1cmwoXCIrbXNnLmJhY2tncm91bmQrXCIpXCJcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBpZihtc2cuYXZhdGFyICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICQoJyN1c2VyLWF2YXRhcicpLmF0dHIoJ3NyYycsIG1zZy5hdmF0YXIpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAkKCcudXNlci1pbmZvX19uYW1lJykudGV4dChmb3JtRGF0YS5nZXQoJ25hbWUnKSk7XHJcbiAgICAgICAgICAgICAgJCgnLnVzZXItaW5mb19fZGVzYycpLnRleHQoZm9ybURhdGEuZ2V0KCdkZXNjcmlwdGlvbicpKTtcclxuICAgICAgICAgICAgICAkKCcjc29jaWFsX19saW5rX3ZrJykuYXR0cignaHJlZicsIGZvcm1EYXRhLmdldCgndmsnKSk7XHJcbiAgICAgICAgICAgICAgJCgnI3NvY2lhbF9fbGlua19mYicpLmF0dHIoJ2hyZWYnLCBmb3JtRGF0YS5nZXQoJ2ZhY2Vib29rJykpO1xyXG4gICAgICAgICAgICAgICQoJyNzb2NpYWxfX2xpbmtfdHcnKS5hdHRyKCdocmVmJywgZm9ybURhdGEuZ2V0KCd0d2l0dGVyJykpO1xyXG4gICAgICAgICAgICAgICQoJyNzb2NpYWxfX2xpbmtfZ2cnKS5hdHRyKCdocmVmJywgZm9ybURhdGEuZ2V0KCdnb29nbGUnKSk7XHJcbiAgICAgICAgICAgICAgJCgnI3NvY2lhbF9fbGlua19lbWFpbCcpLmF0dHIoJ2hyZWYnLCBcIm1haWx0bzpcIitmb3JtRGF0YS5nZXQoJ2VtYWlsJykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICQoZS50YXJnZXQpLnJlbW92ZUNsYXNzKCdzaG93JykuYWRkQ2xhc3MoJ2hpZGUnKTtcclxuICAgICAgICAgICAgJCgnYm9keScpLnJlbW92ZUNsYXNzKCdoYXMtb3ZlcmZsb3ctaGlkZGVuJyk7XHJcbiAgICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vINCU0L7QsdCw0LLQu9C10L3QuNC1INCw0LvRjNCx0L7QvNCwXHJcbiAgICAkKCcjZm9ybS1hZGQtYWxidW0nKS5vbignc3VibWl0JywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoJChlLnRhcmdldClbMF0pO1xyXG5jb25zb2xlLmxvZygnYWRkLWFsYnVtJyk7XHJcbiAgICAgICQuYWpheCh7XHJcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICB1cmw6IFwiL2FsYnVtL3NhdmVcIixcclxuICAgICAgICBkYXRhOiBmb3JtRGF0YSxcclxuICAgICAgICBwcm9jZXNzRGF0YTogZmFsc2UsXHJcbiAgICAgICAgY29udGVudFR5cGU6IGZhbHNlXHJcbiAgICAgIH0pXHJcbiAgICAgIC5kb25lKGZ1bmN0aW9uIChtc2cpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhtc2cpO1xyXG4gICAgICB9KVxyXG4gICAgfSlcclxuXHJcbiAgfVxyXG4gIFxyXG4gIHJldHVybiB7XHJcbiAgICBpbml0OiBpbml0XHJcbiAgfVxyXG59KCkpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgaW5pdDogc2V0QWpheFJlc3BvbmNlcy5pbml0XHJcbn07XG59LHt9XSwzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBBbmltYXRlIGVsZW1lbnRzIG9uIHNjcm9sbC4gQmFzZWQgb24gd2F5cG9pbnRzLmpzXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG52YXIgYW5pbWF0ZUNzcyA9IGZ1bmN0aW9uIChpbl9lZmZlY3QpIHtcclxuXHQkKHRoaXMpLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgZWxlbSA9ICQodGhpcyk7XHJcblx0XHRlbGVtLmNzcyh7b3BhY2l0eTowfSlcclxuXHRcdFx0LmFkZENsYXNzKFwiYW5pbWF0ZWRcIilcclxuXHRcdFx0LndheXBvaW50KGZ1bmN0aW9uKGRpcikge1xyXG5cdFx0XHRcdGlmIChkaXIgPT09IFwiZG93blwiKSB7XHJcblx0XHRcdFx0XHRlbGVtLmFkZENsYXNzKGluX2VmZmVjdCkuY3NzKHtvcGFjaXR5OjF9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRvZmZzZXQ6IFwiOTAlXCJcclxuXHRcdFx0fSk7XHJcblx0fSk7XHJcbn07XHJcblxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gU2hvdyBvd2VybGF5IGxheWVyIHdoZW4gc3BlY2lmaWVkIGxpbmsgaGFzIGJlZW4gY2xpY2tlZFxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5mdW5jdGlvbiBmYWRlUGFnZU9uIChsaW5rX3NlbGVjdG9yLCBvdmVybGF5X3NlbGVjdG9yLCB0aW1lKXtcclxuXHQkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsIGxpbmtfc2VsZWN0b3IsIGZ1bmN0aW9uKGUpIHtcclxuXHRcdHZhciBocmVmID0gJCh0aGlzKS5hdHRyKFwiaHJlZlwiKTtcclxuXHRcdGlmKGhyZWZbMF0hPVwiI1wiKXtcclxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRcdFx0cmV0dXJuICQob3ZlcmxheV9zZWxlY3RvcilcclxuXHRcdFx0XHQuZmFkZUluKHRpbWUsIGZ1bmN0aW9uKCl7XHJcblx0XHRcdFx0XHRyZXR1cm4gZG9jdW1lbnQubG9jYXRpb24gPSBocmVmICE9IG51bGwgPyBocmVmIDogXCIvXCI7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHR9KTtcclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG5cdGFuaW1hdGVDc3MgOiBhbmltYXRlQ3NzLFxyXG5cdGZhZGVQYWdlT24gOiBmYWRlUGFnZU9uXHJcbn07XG59LHt9XSw0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBDaGVjayBicm93c2VyIHNjcm9sbGJhciB3aWR0aFxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxudmFyIGdldFNjcm9sbGJhcldpZHRoID0gZnVuY3Rpb24gKCl7XHJcblx0dmFyIHN0eWxlID0ge1wibWF4LWhlaWdodFwiOlwiMTAwcHhcIiwgXCJvdmVyZmxvd1wiOlwic2Nyb2xsXCIsIFwicG9zaXRpb25cIjpcImFic29sdXRlXCJ9LFxyXG5cdFx0d3JhcHBlciA9ICQoXCI8ZGl2IGlkPSdzY3JvbGxfYmFyX2NoZWNrX0EnPjwvZGl2PlwiKS5jc3Moc3R5bGUpLFxyXG5cdFx0aW5uZXIgPSAkKFwiPGRpdiBpZD0nc2Nyb2xsX2Jhcl9jaGVja19CJz48L2Rpdj5cIiksXHJcblx0XHRzdHJldGNoZXIgPSAkKFwiPGltZyBzcmM9Jy9hc3NldHMvaW1nL2ZvcmNlLXNjcm9sbC5wbmcnLz5cIiksXHJcblx0XHRzY3JvbGxCYXJXaWR0aCA9IDA7XHJcblxyXG5cdHdyYXBwZXIuYXBwZW5kKHN0cmV0Y2hlcikuYXBwZW5kKGlubmVyKTtcclxuXHQkKFwiYm9keVwiKS5hcHBlbmQod3JhcHBlcik7XHJcblxyXG5cdHNjcm9sbEJhcldpZHRoID0gd3JhcHBlci53aWR0aCgpLWlubmVyLndpZHRoKCk7XHJcblx0d3JhcHBlci5yZW1vdmUoKTtcclxuXHJcblx0cmV0dXJuIHNjcm9sbEJhcldpZHRoO1xyXG59O1xyXG5cclxuXHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gQ2hlY2sgSUUgdmVyc2lvblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxudmFyIGllVmVyc2lvbiA9IGZ1bmN0aW9uICgpIHtcclxuXHR2YXIgdWEgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDtcclxuXHJcblx0dmFyIG1zaWUgPSB1YS5pbmRleE9mKFwiTVNJRSBcIik7XHJcblx0aWYgKG1zaWUgPiAwKSB7XHJcblx0XHQvLyBJRSAxMCBvciBvbGRlciA9PiByZXR1cm4gdmVyc2lvbiBudW1iZXJcclxuXHRcdHJldHVybiBwYXJzZUludCh1YS5zdWJzdHJpbmcobXNpZSArIDUsIHVhLmluZGV4T2YoXCIuXCIsIG1zaWUpKSwgMTApO1xyXG5cdH1cclxuXHJcblx0dmFyIHRyaWRlbnQgPSB1YS5pbmRleE9mKFwiVHJpZGVudC9cIik7XHJcblx0aWYgKHRyaWRlbnQgPiAwKSB7XHJcblx0XHQvLyBJRSAxMSA9PiByZXR1cm4gdmVyc2lvbiBudW1iZXJcclxuXHRcdHZhciBydiA9IHVhLmluZGV4T2YoXCJydjpcIik7XHJcblx0XHRyZXR1cm4gcGFyc2VJbnQodWEuc3Vic3RyaW5nKHJ2ICsgMywgdWEuaW5kZXhPZihcIi5cIiwgcnYpKSwgMTApO1xyXG5cdH1cclxuXHJcblx0dmFyIGVkZ2UgPSB1YS5pbmRleE9mKFwiRWRnZS9cIik7XHJcblx0aWYgKGVkZ2UgPiAwKSB7XHJcblx0XHQvLyBFZGdlIChJRSAxMispID0+IHJldHVybiB2ZXJzaW9uIG51bWJlclxyXG5cdFx0cmV0dXJuIHBhcnNlSW50KHVhLnN1YnN0cmluZyhlZGdlICsgNSwgdWEuaW5kZXhPZihcIi5cIiwgZWRnZSkpLCAxMCk7XHJcblx0fVxyXG5cclxuXHQvLyBvdGhlciBicm93c2VyXHJcblx0cmV0dXJuIGZhbHNlO1xyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcblx0Z2V0U2Nyb2xsYmFyV2lkdGggOiBnZXRTY3JvbGxiYXJXaWR0aCxcclxuXHRpZVZlcnNpb24gOiBpZVZlcnNpb25cclxufVxufSx7fV0sNTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vKiogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqIC0tLS0tINCf0L7QtNC60LvRjtGH0LXQvdC40LUg0L/RgNC10LTQv9GA0L7RgdC80L7RgtGA0LAg0YTQvtGC0L4g0Lgg0YTQvtC90LAgLS0tLS0tLS1cclxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xyXG5cclxudmFyIGltYWdlUHJldmlldyA9IChmdW5jdGlvbigpIHtcclxuXHJcbiAgZnVuY3Rpb24gaW5pdCgpIHtcclxuXHJcbiAgICAvLyBBdmF0YXIgcHJldmlld1xyXG4gICAgJCgnI2lucHV0X2F2YXRhcicpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbigpe1xyXG4gICAgICB2YXIgaW5wdXQgPSB0aGlzLFxyXG4gICAgICAgICAgYXZhdGFyID0gJCgnI3ByZXZpZXdfYXZhdGFyJyk7XHJcblxyXG4gICAgICBpZiAoaW5wdXQuZmlsZXMgJiYgaW5wdXQuZmlsZXNbMF0pIHtcclxuICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuXHJcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgYXZhdGFyLmF0dHIoXCJzcmNcIiwgZS50YXJnZXQucmVzdWx0KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChpbnB1dC5maWxlc1swXSk7XHJcblxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBCYWNrZ3JvdW5kIHByZXZpZXdcclxuICAgICQoJyNpbnB1dF9iYWNrZ3JvdW5kJykub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCl7XHJcbiAgICAgIHZhciBpbnB1dCA9IHRoaXMsXHJcbiAgICAgICAgICBiZyA9ICQoJyNiZy1lZGl0LXVzZXInKTtcclxuXHJcbiAgICAgIGlmIChpbnB1dC5maWxlcyAmJiBpbnB1dC5maWxlc1swXSkge1xyXG4gICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG5cclxuICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICBiZy5jc3Moe1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IFwidXJsKFwiKyBlLnRhcmdldC5yZXN1bHQgK1wiKVwiXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChpbnB1dC5maWxlc1swXSk7XHJcblxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBpbml0OiBpbml0XHJcbiAgfVxyXG59KCkpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgaW5pdDogaW1hZ2VQcmV2aWV3LmluaXRcclxufTtcbn0se31dLDY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuZnVuY3Rpb24gaW5pdChjb250YWluZXIsIG9wZW5CdG4sIGNsb3NlQnRuKXtcclxuXHR2YXIgbW9kYWwgPSAkKGNvbnRhaW5lcik7XHJcblx0dmFyIG9wZW4gPSAkKG9wZW5CdG4pO1xyXG5cdHZhciBjbG9zZSA9IG1vZGFsLmZpbmQoY2xvc2VCdG4pO1xyXG5cdHZhciBib2R5ID0gJCgnYm9keScpO1xyXG5cclxuXHRvcGVuLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpe1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0bW9kYWwucmVtb3ZlQ2xhc3MoXCJoaWRlXCIpLmFkZENsYXNzKFwic2hvd1wiKTtcclxuXHRcdGJvZHkuYWRkQ2xhc3MoXCJoYXMtb3ZlcmZsb3ctaGlkZGVuXCIpO1xyXG5cdH0pO1xyXG5cclxuXHRjbG9zZS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKXtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdG1vZGFsLmFkZENsYXNzKFwiaGlkZVwiKS5yZW1vdmVDbGFzcyhcInNob3dcIik7XHJcblx0XHRib2R5LnJlbW92ZUNsYXNzKCdoYXMtb3ZlcmZsb3ctaGlkZGVuJyk7XHJcblx0fSk7XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuXHRpbml0IDogaW5pdFxyXG59O1xyXG5cclxuXG59LHt9XSw3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBQcmVsb2FkZXIgd2l0aCBwZXJjZW50YWdlIGJ5IGltYWdlIGNvdW50XHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG52YXJcdHByZWxvYWRlcl9jb250YWluZXIgPSAkKFwiI3ByZWxvYWRlclwiKSxcclxuXHRwcmVsb2FkZXJfcGVyY2VudGFnZSA9ICQoXCIjcHJlbG9hZGVyX19wZXJjZW50YWdlXCIpLFxyXG5cdGhhc0ltYWdlUHJvcGVydGllcyA9IFtcImJhY2tncm91bmRcIiwgXCJiYWNrZ3JvdW5kSW1hZ2VcIiwgXCJsaXN0U3R5bGVJbWFnZVwiLCBcImJvcmRlckltYWdlXCIsIFwiYm9yZGVyQ29ybmVySW1hZ2VcIiwgXCJjdXJzb3JcIl0sXHJcblx0aGFzSW1hZ2VBdHRyaWJ1dGVzID0gW1wic3Jjc2V0XCJdLFxyXG5cdG1hdGNoX3VybCA9IC91cmxcXChcXHMqKFsnXCJdPykoLio/KVxcMVxccypcXCkvZyxcclxuXHRhbGxfaW1hZ2VzID0gW10sXHJcblx0dG90YWwgPSAwLFxyXG5cdGNvdW50ID0gMDtcclxuXHJcbi8vIEFuaW1hdGUgaW5jbHVkZWQgU1ZHIGNpcmNsZXMgcHJlbG9hZGVyXHJcbnZhciBjaXJjbGVfbyA9ICQoXCIjcHJlbG9hZGVyX19pbWcgLmJhcl9fb3V0ZXJcIiksXHJcblx0Y2lyY2xlX2MgPSAkKFwiI3ByZWxvYWRlcl9faW1nIC5iYXJfX2NlbnRlclwiKSxcclxuXHRjaXJjbGVfaSA9ICQoXCIjcHJlbG9hZGVyX19pbWcgLmJhcl9faW5uZXJcIiksXHJcblx0bGVuZ3RoX28gPSBNYXRoLlBJKihjaXJjbGVfby5hdHRyKFwiclwiKSAqIDIpLFxyXG5cdGxlbmd0aF9jID0gTWF0aC5QSSooY2lyY2xlX2MuYXR0cihcInJcIikgKiAyKSxcclxuXHRsZW5ndGhfaSA9IE1hdGguUEkqKGNpcmNsZV9pLmF0dHIoXCJyXCIpICogMik7XHJcblxyXG5cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcHJlbG9hZGVyKCkge1xyXG5cclxuXHRmdW5jdGlvbiBpbWdfbG9hZGVkKCl7XHJcblx0XHR2YXIgcGVyY2VudGFnZSA9IE1hdGguY2VpbCggKGNvdW50KzEpIC8gdG90YWwgKiAxMDAgKTtcclxuXHJcblx0XHRjb3VudCArPSAxO1xyXG5cdFx0cGVyY2VudGFnZSA9IHBlcmNlbnRhZ2UgPiAxMDAgPyAxMDAgOiBwZXJjZW50YWdlO1xyXG5cclxuXHRcdC8vIERyYXcgb2Zmc2V0c1xyXG5cdFx0Ly8gMXN0IGNpcmNsZVxyXG5cdFx0Y2lyY2xlX28uY3NzKHtzdHJva2VEYXNob2Zmc2V0OiAoKDEwMC1wZXJjZW50YWdlKS8xMDApKmxlbmd0aF9vIH0pO1xyXG5cclxuXHRcdC8vIHdoZW4gdG8gc3RhcnQgMm5kIGNpcmNsZVxyXG5cdFx0aWYocGVyY2VudGFnZSA+IDUwKSB7XHJcblx0XHRcdGNpcmNsZV9jLmNzcyh7c3Ryb2tlRGFzaG9mZnNldDogKCgxMDAtcGVyY2VudGFnZSkvMTAwKSpsZW5ndGhfYyB9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyB3aGVuIHRvIHN0YXJ0IDNyZCBjaXJjbGVcclxuXHRcdGlmKHBlcmNlbnRhZ2UgPT0gMTAwKSB7XHJcblx0XHRcdGNpcmNsZV9pLmNzcyh7c3Ryb2tlRGFzaG9mZnNldDogKCgxMDAtcGVyY2VudGFnZSkvMTAwKSpsZW5ndGhfaSB9KTtcclxuXHRcdH1cclxuXHJcblx0XHRwcmVsb2FkZXJfcGVyY2VudGFnZS5odG1sKHBlcmNlbnRhZ2UpO1xyXG5cclxuXHRcdGlmKGNvdW50ID09PSB0b3RhbCl7XHJcblx0XHRcdHJldHVybiBkb25lX2xvYWRpbmcoKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIGRvbmVfbG9hZGluZygpe1xyXG5cdFx0cHJlbG9hZGVyX3BlcmNlbnRhZ2UuY3NzKHtcImFuaW1hdGlvblwiOlwibm9uZVwifSk7XHJcblx0XHRwcmVsb2FkZXJfY29udGFpbmVyLmRlbGF5KDcwMCkuZmFkZU91dCg3MDAsIGZ1bmN0aW9uKCl7XHJcblx0XHRcdC8vIENhbGxiYWNrcywgZS5nLjpcclxuXHRcdFx0cHJlbG9hZGVyX3BlcmNlbnRhZ2UucmVtb3ZlKCk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIGltYWdlc19sb29wICh0b3RhbCkge1xyXG5cdFx0Zm9yKHZhciBpPTA7IGk8dG90YWw7IGkrKyl7XHJcblx0XHRcdHZhciB0ZXN0X2ltYWdlID0gbmV3IEltYWdlKCk7XHJcblxyXG5cdFx0XHR0ZXN0X2ltYWdlLm9ubG9hZCA9IGltZ19sb2FkZWQ7XHJcblx0XHRcdHRlc3RfaW1hZ2Uub25lcnJvciA9IGltZ19sb2FkZWQ7XHJcblxyXG5cdFx0XHRpZiAoYWxsX2ltYWdlc1tpXS5zcmNzZXQpIHtcclxuXHRcdFx0XHR0ZXN0X2ltYWdlLnNyY3NldCA9IGFsbF9pbWFnZXNbaV0uc3Jjc2V0O1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR0ZXN0X2ltYWdlLnNyYyA9IGFsbF9pbWFnZXNbaV0uc3JjO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gR2V0IGFsbCBpbWFnZXNcclxuXHQkKFwiKlwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBlbGVtZW50ID0gJCh0aGlzKTtcclxuXHJcblx0XHRpZiAoZWxlbWVudC5pcyhcImltZ1wiKSAmJiBlbGVtZW50LmF0dHIoXCJzcmNcIikpIHtcclxuXHRcdFx0YWxsX2ltYWdlcy5wdXNoKHtcclxuXHRcdFx0XHRzcmM6IGVsZW1lbnQuYXR0cihcInNyY1wiKSxcclxuXHRcdFx0XHRlbGVtZW50OiBlbGVtZW50WzBdXHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdCQuZWFjaChoYXNJbWFnZVByb3BlcnRpZXMsIGZ1bmN0aW9uIChpLCBwcm9wZXJ0eSkge1xyXG5cdFx0XHR2YXIgcHJvcGVydHlWYWx1ZSA9IGVsZW1lbnQuY3NzKHByb3BlcnR5KTtcclxuXHRcdFx0dmFyIG1hdGNoO1xyXG5cclxuXHRcdFx0aWYgKCFwcm9wZXJ0eVZhbHVlKSB7XHJcblx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdG1hdGNoID0gbWF0Y2hfdXJsLmV4ZWMocHJvcGVydHlWYWx1ZSk7XHJcblx0XHRcdFxyXG5cdFx0XHRpZiAobWF0Y2gpIHtcclxuXHRcdFx0XHRhbGxfaW1hZ2VzLnB1c2goe1xyXG5cdFx0XHRcdFx0c3JjOiBtYXRjaFsyXSxcclxuXHRcdFx0XHRcdGVsZW1lbnQ6IGVsZW1lbnRbMF1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0JC5lYWNoKGhhc0ltYWdlQXR0cmlidXRlcywgZnVuY3Rpb24gKGksIGF0dHJpYnV0ZSkge1xyXG5cdFx0XHR2YXIgYXR0cmlidXRlVmFsdWUgPSBlbGVtZW50LmF0dHIoYXR0cmlidXRlKTtcclxuXHJcblx0XHRcdGlmICghYXR0cmlidXRlVmFsdWUpIHtcclxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0YWxsX2ltYWdlcy5wdXNoKHtcclxuXHRcdFx0XHRzcmM6IGVsZW1lbnQuYXR0cihcInNyY1wiKSxcclxuXHRcdFx0XHRzcmNzZXQ6IGVsZW1lbnQuYXR0cihcInNyY3NldFwiKSxcclxuXHRcdFx0XHRlbGVtZW50OiBlbGVtZW50WzBdXHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0fSk7XHJcblxyXG5cdHRvdGFsID0gYWxsX2ltYWdlcy5sZW5ndGg7XHJcblxyXG5cdC8vIFN0YXJ0IHByZWxvYWRlciBvciBleGl0XHJcblx0aWYgKHRvdGFsID09PSAwKSB7XHJcblx0XHRwcmVsb2FkZXJfcGVyY2VudGFnZS5odG1sKDEwMCk7XHJcblx0XHRkb25lX2xvYWRpbmcoKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0aW1hZ2VzX2xvb3AodG90YWwpO1xyXG5cdH1cclxufTtcbn0se31dLDg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuaGVscGVycyA9IHJlcXVpcmUoXCIuL2hlbHBlcnMuanNcIik7XHJcblxyXG52YXIgc2Nyb2xsYmFyX3dpZHRoID0gaGVscGVycy5nZXRTY3JvbGxiYXJXaWR0aCgpLFxyXG5cdHNsaWRlcixcclxuXHRjdXJyZW50LFxyXG5cdHJlc2l6ZVRpbWVvdXQsXHJcblx0cmVzaXplRGVsdGEgPSAxMDA7XHJcblxyXG5mdW5jdGlvbiBpbml0KGNvbnRhaW5lciwgb3BlbkJ0biwgY2xvc2VCdG4sIG5leHRCdG4sIHByZXZCdG4pe1xyXG5cdHNsaWRlciA9ICQoY29udGFpbmVyKTtcclxuXHJcblx0dmFyIG9wZW4gPSAkKG9wZW5CdG4pLFxyXG5cdFx0Y2xvc2UgPSBzbGlkZXIuZmluZChjbG9zZUJ0biksXHJcblx0XHRuZXh0ID0gc2xpZGVyLmZpbmQobmV4dEJ0biksXHJcblx0XHRwcmV2ID0gc2xpZGVyLmZpbmQocHJldkJ0biksXHJcblx0XHRib2R5ID0gJCgnaHRtbCcpO1xyXG5cclxuXHRvcGVuLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpe1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRcdGN1cnJlbnQgPSAkKHRoaXMpLmNsb3Nlc3QoJy5hbGJ1bS1pdGVtJyk7XHJcblx0XHRzaG93U2xpZGUoY3VycmVudCk7XHJcblxyXG5cdFx0c2xpZGVyLnJlbW92ZUNsYXNzKFwiaGlkZVwiKS5hZGRDbGFzcyhcInNob3dcIik7XHJcblx0XHRib2R5LmFkZENsYXNzKCdoYXMtb3ZlcmZsb3ctaGlkZGVuJylcclxuXHRcdFx0LmNzcyh7XCJwYWRkaW5nLXJpZ2h0XCIgOiBzY3JvbGxiYXJfd2lkdGh9KTtcclxuXHR9KTtcclxuXHJcblx0Y2xvc2Uub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZSl7XHJcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRzbGlkZXIuYWRkQ2xhc3MoXCJoaWRlXCIpLnJlbW92ZUNsYXNzKFwic2hvd1wiKTtcclxuXHRcdGJvZHkucmVtb3ZlQ2xhc3MoJ2hhcy1vdmVyZmxvdy1oaWRkZW4nKVxyXG5cdFx0XHQuY3NzKHtcInBhZGRpbmctcmlnaHRcIiA6IDB9KTtcclxuXHR9KTtcclxuXHJcblx0bmV4dC5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKXtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdHNob3dOZXh0KCk7XHJcblx0fSk7XHJcblxyXG5cdHByZXYub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZSl7XHJcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRzaG93UHJldigpO1xyXG5cdH0pO1xyXG5cclxufTtcclxuXHJcbmZ1bmN0aW9uIGFqdXN0SW1nSGVpZ2h0KCl7XHJcblx0Ly8gSGVpZ2h0IGFuaW1hdGlvblxyXG5cdHZhciBzbGlkZXJQaG90byA9IHNsaWRlci5maW5kKCcuc2xpZGVyX19waG90bycpLFxyXG5cdFx0c2xpZGVIZWlnaHQgPSBzbGlkZXIuZmluZCgnLnNsaWRlcl9faW1nJykuaGVpZ2h0KCk7XHJcblxyXG5cdHNsaWRlclBob3RvLmFuaW1hdGUoe1xyXG5cdFx0J2hlaWdodCc6IHNsaWRlSGVpZ2h0XHJcblx0fSwgMzAwKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2hvd05leHQoKXtcclxuXHR2YXIgbmV4dFNsaWRlID0gY3VycmVudC5uZXh0KCcuYWxidW0taXRlbScpO1xyXG5cdGlmIChuZXh0U2xpZGUubGVuZ3RoKSB7XHJcblx0XHRzaG93U2xpZGUobmV4dFNsaWRlKTtcclxuXHRcdGN1cnJlbnQgPSBuZXh0U2xpZGU7XHJcblx0fVxyXG59O1xyXG5cclxuZnVuY3Rpb24gc2hvd1ByZXYoKXtcclxuXHR2YXIgcHJldlNsaWRlID0gY3VycmVudC5wcmV2KCcuYWxidW0taXRlbScpO1xyXG5cdGlmIChwcmV2U2xpZGUubGVuZ3RoKSB7XHJcblx0XHRzaG93U2xpZGUocHJldlNsaWRlKTtcclxuXHRcdGN1cnJlbnQgPSBwcmV2U2xpZGU7XHJcblx0fVxyXG59O1xyXG5cclxuZnVuY3Rpb24gc2hvd1NsaWRlKF9pdGVtKXtcclxuXHR2YXIgaW1nX3RodW1iID0gX2l0ZW0uZGF0YSgndGh1bWInKTtcclxuXHRcdGltZ190aXRsZSA9IF9pdGVtLmRhdGEoJ3RpdGxlJyksXHJcblx0XHRpbWdfbGlrZXMgPSBfaXRlbS5kYXRhKCdsaWtlcycpLFxyXG5cdFx0aW1nX3VzZXJfbmFtZSA9IF9pdGVtLmRhdGEoJ3VzZXJfbmFtZScpLFxyXG5cdFx0aW1nX3VzZXJfYXZhdGFyID0gX2l0ZW0uZGF0YSgndXNlcl9hdmF0YXInKSxcclxuXHRcdGltZ19kZXNjID0gX2l0ZW0uZGF0YSgnZGVzYycpLFxyXG5cdFx0Y29tbWVudHNfaG9sZGVyID0gc2xpZGVyLmZpbmQoJy5jb21tZW50c19faG9sZGVyJyksXHJcblx0XHRpbWdfY29tbWVudHMgPSBfaXRlbS5maW5kKCcuY29tbWVudHNfX2l0ZW0nKTtcclxuXHJcblx0Ly8g0J7Rh9C40YnQtdC90LjQtSDQsdC70L7QutCwINC00LvRjyDQutC+0LzQvNC10L3RgtCw0YDQuNC10LJcclxuXHRjb21tZW50c19ob2xkZXIuaHRtbCgnJyk7XHJcblxyXG5cdC8vINCU0L7QsdCw0LLQu9C10L3QuNC1INC60L7QvNC80LXQvdGC0LDRgNC40LXQslxyXG5cdGltZ19jb21tZW50cy5lYWNoKGZ1bmN0aW9uKGtleSwgdmFsdWUpe1xyXG5cdFx0Y29tbWVudHNfaG9sZGVyLmFwcGVuZCh2YWx1ZSk7XHJcblx0fSk7XHJcblxyXG5cclxuXHR2YXIgaW1nX2Rlc2MgPSBfaXRlbS5kYXRhKCdkZXNjJyk7XHJcblxyXG5cdHNsaWRlci5maW5kKCcuc2xpZGVyX19pbWcnKS5hdHRyKCdzcmMnLCBpbWdfdGh1bWIpO1xyXG5cdHNsaWRlci5maW5kKCcuc2xpZGVyX190aXRsZScpLmh0bWwoaW1nX3RpdGxlKTtcclxuXHRzbGlkZXIuZmluZCgnLmxpa2VzX19jb3VudCcpLmh0bWwoaW1nX2xpa2VzKTtcclxuXHRzbGlkZXIuZmluZCgnLnNsaWRlcl9fdGV4dCcpLmh0bWwoaW1nX2Rlc2MpO1xyXG5cdHNsaWRlci5maW5kKCcuc2xpZGVyX19hdXRob3ItbmFtZScpLmh0bWwoaW1nX3VzZXJfbmFtZSk7XHJcblx0c2xpZGVyLmZpbmQoJy5zbGlkZXJfX2F1dGhvci1waG90byBpbWcnKS5hdHRyKCdzcmMnLCBpbWdfdXNlcl9hdmF0YXIpO1xyXG5cclxuXHRhanVzdEltZ0hlaWdodCgpO1xyXG59XHJcblxyXG4kKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCl7XHJcblx0Y2xlYXJUaW1lb3V0KHJlc2l6ZVRpbWVvdXQpO1xyXG5cdHJlc2l6ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KGFqdXN0SW1nSGVpZ2h0LCByZXNpemVEZWx0YSk7XHJcbn0pO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcblx0aW5pdCA6IGluaXQsXHJcblx0c2hvd05leHQ6IHNob3dOZXh0LFxyXG5cdHNob3dQcmV2OiBzaG93UHJldlxyXG59O1xyXG5cclxuXG59LHtcIi4vaGVscGVycy5qc1wiOjR9XX0se30sWzFdKTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
