!function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);var d=new Error("Cannot find module '"+o+"'");throw d.code="MODULE_NOT_FOUND",d}var c=n[o]={exports:{}};t[o][0].call(c.exports,function(e){var n=t[o][1][e];return i(n?n:e)},c,c.exports,e,t,n,r)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){!function(t){"use strict";function n(e){e.preventDefault(),t(".photo-editing").slideUp(300),t(".photo-removing").slideDown(300)}function r(e){e.preventDefault(),t(".photo-removing").slideUp(300),t(".photo-editing").slideDown(300)}function i(e){e.preventDefault();var n=t(this).closest(".social__item");n.siblings().find(".social__form").hide(),n.find(".social__form").show()}function a(e){e.preventDefault(),t(this).closest(".social__form").hide()}var o=e("./modules/preloader.js"),s=e("./modules/modal.js"),l=e("./modules/slider.js"),d=e("./modules/animations.js"),c=e("./modules/ajax.js"),u=e("./modules/image_preview.js");if(t("#scene.axis").length&&t("#scene.axis").parallax({scalarX:3,scalarY:3,frictionX:.5,frictionY:.5}),d.fadePageOn("a.preload-link","#preloader",300),t.fn.animated=d.animateCss,t(".animated-test-container").animated("slideInRight"),t(".js-add-album").length&&s.init("#add-album-modal",".js-add-album",".js-close-modal"),t(".js-add-photos").length&&s.init("#add-photos-modal",".js-add-photos",".js-close-modal"),t(".js-edit-photo").length&&s.init("#edit-photo-modal",".js-edit-photo",".js-close-modal"),t(".js-edit-user").length&&s.init("#edit-user-modal",".js-edit-user",".js-close-modal"),t(".js-edit-user-header").length&&s.init("#edit-user-header",".js-edit-user-header",".js-close-header"),t(".js-edit-album-header").length&&s.init("#edit-album-header",".js-edit-album-header",".js-close-header"),t(".js-show-photo-removing").length&&t(".js-show-photo-removing").on("click",n),t(".js-hide-photo-removing").length&&t(".js-hide-photo-removing").on("click",r),t(".js-open-slider").length>0&&l.init("#slider",".js-open-slider",".js-close-slider",".js-slider-next",".js-slider-prev"),t(".js-open-social-form").length&&t(".js-open-social-form").on("click",i),t(".js-close-form").length&&t(".js-close-form").on("click",a),t("#flip-card").click(function(){t("body").addClass("card_flipped")}),t("#unflip-card").click(function(e){e.preventDefault(),t("body").removeClass("card_flipped")}),t("#show-recovery").click(function(e){e.preventDefault(),t("body").addClass("show_recovery")}),t("#hide-recovery").click(function(e){e.preventDefault(),t("body").removeClass("show_recovery")}),t("div#dropzone").length){var f=2;t("div#dropzone").dropzone({url:"/",maxFilesize:f})}o(),c.init(),u.init()}(jQuery)},{"./modules/ajax.js":2,"./modules/animations.js":3,"./modules/image_preview.js":5,"./modules/modal.js":6,"./modules/preloader.js":7,"./modules/slider.js":8}],2:[function(e,t,n){var r=function(){function e(){$("#edit-user-header").on("submit",function(e){e.preventDefault();var t=new FormData($(e.target)[0]);$.ajax({method:"POST",url:"/user/savedata",data:t,processData:!1,contentType:!1}).done(function(n){"success"==n.status&&(void 0!==n.background&&$(".main-page").css({backgroundImage:"url("+n.background+")"}),void 0!==n.avatar&&$("#user-avatar").attr("src",n.avatar),$(".user-info__name").text(t.get("name")),$(".user-info__desc").text(t.get("description")),$("#social__link_vk").attr("href",t.get("vk")),$("#social__link_fb").attr("href",t.get("facebook")),$("#social__link_tw").attr("href",t.get("twitter")),$("#social__link_gg").attr("href",t.get("google")),$("#social__link_email").attr("href","mailto:"+t.get("email"))),$(e.target).removeClass("show").addClass("hide"),$("body").removeClass("has-overflow-hidden")})}),$("#form-add-album").on("submit",function(e){e.preventDefault();var t=new FormData($(e.target)[0]);console.log("add-album"),$.ajax({method:"POST",url:"/album/save",data:t,processData:!1,contentType:!1}).done(function(e){console.log(e)})})}return{init:e}}();t.exports={init:r.init}},{}],3:[function(e,t,n){function r(e,t,n){$(document).on("click",e,function(e){var r=$(this).attr("href");if("#"!=r[0])return e.preventDefault(),$(t).fadeIn(n,function(){return document.location=null!=r?r:"/"})})}var i=function(e){$(this).each(function(){var t=$(this);t.css({opacity:0}).addClass("animated").waypoint(function(n){"down"===n&&t.addClass(e).css({opacity:1})},{offset:"90%"})})};t.exports={animateCss:i,fadePageOn:r}},{}],4:[function(e,t,n){var r=function(){var e={"max-height":"100px",overflow:"scroll",position:"absolute"},t=$("<div id='scroll_bar_check_A'></div>").css(e),n=$("<div id='scroll_bar_check_B'></div>"),r=$("<img src='/assets/img/force-scroll.png'/>"),i=0;return t.append(r).append(n),$("body").append(t),i=t.width()-n.width(),t.remove(),i},i=function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);var n=e.indexOf("Trident/");if(n>0){var r=e.indexOf("rv:");return parseInt(e.substring(r+3,e.indexOf(".",r)),10)}var i=e.indexOf("Edge/");return i>0&&parseInt(e.substring(i+5,e.indexOf(".",i)),10)};t.exports={getScrollbarWidth:r,ieVersion:i}},{}],5:[function(e,t,n){var r=function(){function e(){$("#input_avatar").on("change",function(){var e=this,t=$("#preview_avatar");if(e.files&&e.files[0]){var n=new FileReader;n.onload=function(e){t.attr("src",e.target.result)},n.readAsDataURL(e.files[0])}}),$("#input_background").on("change",function(){var e=this,t=$("#bg-edit-user");if(e.files&&e.files[0]){var n=new FileReader;n.onload=function(e){t.css({backgroundImage:"url("+e.target.result+")"})},n.readAsDataURL(e.files[0])}})}return{init:e}}();t.exports={init:r.init}},{}],6:[function(e,t,n){function r(e,t,n){var r=$(e),i=$(t),a=r.find(n),o=$("body");i.on("click",function(e){e.preventDefault(),r.removeClass("hide").addClass("show"),o.addClass("has-overflow-hidden")}),a.on("click",function(e){e.preventDefault(),r.addClass("hide").removeClass("show"),o.removeClass("has-overflow-hidden")})}t.exports={init:r}},{}],7:[function(e,t,n){var r=$("#preloader"),i=$("#preloader__percentage"),a=["background","backgroundImage","listStyleImage","borderImage","borderCornerImage","cursor"],o=["srcset"],s=/url\(\s*(['"]?)(.*?)\1\s*\)/g,l=[],d=0,c=0,u=$("#preloader__img .bar__outer"),f=$("#preloader__img .bar__center"),m=$("#preloader__img .bar__inner"),h=Math.PI*(2*u.attr("r")),v=Math.PI*(2*f.attr("r")),p=Math.PI*(2*m.attr("r"));t.exports=function(){function e(){var e=Math.ceil((c+1)/d*100);if(c+=1,e=e>100?100:e,u.css({strokeDashoffset:(100-e)/100*h}),e>50&&f.css({strokeDashoffset:(100-e)/100*v}),100==e&&m.css({strokeDashoffset:(100-e)/100*p}),i.html(e),c===d)return t()}function t(){i.css({animation:"none"}),r.delay(700).fadeOut(700,function(){i.remove()})}function n(t){for(var n=0;n<t;n++){var r=new Image;r.onload=e,r.onerror=e,l[n].srcset&&(r.srcset=l[n].srcset),r.src=l[n].src}}$("*").each(function(){var e=$(this);e.is("img")&&e.attr("src")&&l.push({src:e.attr("src"),element:e[0]}),$.each(a,function(t,n){var r,i=e.css(n);return!i||(r=s.exec(i),void(r&&l.push({src:r[2],element:e[0]})))}),$.each(o,function(t,n){var r=e.attr(n);return!r||void l.push({src:e.attr("src"),srcset:e.attr("srcset"),element:e[0]})})}),d=l.length,0===d?(i.html(100),t()):n(d)}},{}],8:[function(e,t,n){function r(e,t,n,r,i){l=$(e);var c=$(t),f=l.find(n),m=l.find(r),h=l.find(i),v=$("html");c.on("click",function(e){e.preventDefault(),d=$(this).closest(".album-item"),s(d),l.removeClass("hide").addClass("show"),v.addClass("has-overflow-hidden").css({"padding-right":u})}),f.on("click",function(e){e.preventDefault(),l.addClass("hide").removeClass("show"),v.removeClass("has-overflow-hidden").css({"padding-right":0})}),m.on("click",function(e){e.preventDefault(),a()}),h.on("click",function(e){e.preventDefault(),o()})}function i(){var e=l.find(".slider__photo"),t=l.find(".slider__img").height();e.animate({height:t},300)}function a(){var e=d.next(".album-item");e.length&&(s(e),d=e)}function o(){var e=d.prev(".album-item");e.length&&(s(e),d=e)}function s(e){var t=e.data("thumb");img_title=e.data("title"),img_likes=e.data("likes"),img_user_name=e.data("user_name"),img_user_avatar=e.data("user_avatar"),n=e.data("desc"),comments_holder=l.find(".comments__holder"),img_comments=e.find(".comments__item"),comments_holder.html(""),img_comments.each(function(e,t){comments_holder.append(t)});var n=e.data("desc");l.find(".slider__img").attr("src",t),l.find(".slider__title").html(img_title),l.find(".likes__count").html(img_likes),l.find(".slider__text").html(n),l.find(".slider__author-name").html(img_user_name),l.find(".slider__author-photo img").attr("src",img_user_avatar),i()}helpers=e("./helpers.js");var l,d,c,u=helpers.getScrollbarWidth(),f=100;$(window).resize(function(){clearTimeout(c),c=setTimeout(i,f)}),t.exports={init:r,showNext:a,showPrev:o}},{"./helpers.js":4}]},{},[1]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJlIiwidCIsIm4iLCJyIiwicyIsIm8iLCJ1IiwiYSIsInJlcXVpcmUiLCJpIiwiZiIsIkVycm9yIiwiY29kZSIsImwiLCJleHBvcnRzIiwiY2FsbCIsImxlbmd0aCIsIjEiLCJtb2R1bGUiLCIkIiwic2hvd1Bob3RvUmVtb3ZpbmdCbG9jayIsInByZXZlbnREZWZhdWx0Iiwic2xpZGVVcCIsInNsaWRlRG93biIsImhpZGVQaG90b1JlbW92aW5nQmxvY2siLCJzaG93U29jaWFsRm9ybSIsInNvY2lhbEl0ZW0iLCJ0aGlzIiwiY2xvc2VzdCIsInNpYmxpbmdzIiwiZmluZCIsImhpZGUiLCJzaG93IiwiaGlkZVNvY2lhbEZvcm0iLCJwcmVsb2FkZXIiLCJtb2RhbCIsInNsaWRlciIsImFuaW1hdGlvbnMiLCJzZXRBamF4UmVzcG9uY2UiLCJpbWFnZVByZXZpZXciLCJwYXJhbGxheCIsInNjYWxhclgiLCJzY2FsYXJZIiwiZnJpY3Rpb25YIiwiZnJpY3Rpb25ZIiwiZmFkZVBhZ2VPbiIsImZuIiwiYW5pbWF0ZWQiLCJhbmltYXRlQ3NzIiwiaW5pdCIsIm9uIiwiY2xpY2siLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwibWF4RmlsZVNpemVNYiIsImRyb3B6b25lIiwidXJsIiwibWF4RmlsZXNpemUiLCJqUXVlcnkiLCIuL21vZHVsZXMvYWpheC5qcyIsIi4vbW9kdWxlcy9hbmltYXRpb25zLmpzIiwiLi9tb2R1bGVzL2ltYWdlX3ByZXZpZXcuanMiLCIuL21vZHVsZXMvbW9kYWwuanMiLCIuL21vZHVsZXMvcHJlbG9hZGVyLmpzIiwiLi9tb2R1bGVzL3NsaWRlci5qcyIsIjIiLCJzZXRBamF4UmVzcG9uY2VzIiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsInRhcmdldCIsImFqYXgiLCJtZXRob2QiLCJkYXRhIiwicHJvY2Vzc0RhdGEiLCJjb250ZW50VHlwZSIsImRvbmUiLCJtc2ciLCJzdGF0dXMiLCJ1bmRlZmluZWQiLCJiYWNrZ3JvdW5kIiwiY3NzIiwiYmFja2dyb3VuZEltYWdlIiwiYXZhdGFyIiwiYXR0ciIsInRleHQiLCJnZXQiLCJjb25zb2xlIiwibG9nIiwiMyIsImxpbmtfc2VsZWN0b3IiLCJvdmVybGF5X3NlbGVjdG9yIiwidGltZSIsImRvY3VtZW50IiwiaHJlZiIsImZhZGVJbiIsImxvY2F0aW9uIiwiaW5fZWZmZWN0IiwiZWFjaCIsImVsZW0iLCJvcGFjaXR5Iiwid2F5cG9pbnQiLCJkaXIiLCJvZmZzZXQiLCI0IiwiZ2V0U2Nyb2xsYmFyV2lkdGgiLCJzdHlsZSIsIm1heC1oZWlnaHQiLCJvdmVyZmxvdyIsInBvc2l0aW9uIiwid3JhcHBlciIsImlubmVyIiwic3RyZXRjaGVyIiwic2Nyb2xsQmFyV2lkdGgiLCJhcHBlbmQiLCJ3aWR0aCIsInJlbW92ZSIsImllVmVyc2lvbiIsInVhIiwid2luZG93IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwibXNpZSIsImluZGV4T2YiLCJwYXJzZUludCIsInN1YnN0cmluZyIsInRyaWRlbnQiLCJydiIsImVkZ2UiLCI1IiwiaW5wdXQiLCJmaWxlcyIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCJyZXN1bHQiLCJyZWFkQXNEYXRhVVJMIiwiYmciLCI2IiwiY29udGFpbmVyIiwib3BlbkJ0biIsImNsb3NlQnRuIiwib3BlbiIsImNsb3NlIiwiYm9keSIsIjciLCJwcmVsb2FkZXJfY29udGFpbmVyIiwicHJlbG9hZGVyX3BlcmNlbnRhZ2UiLCJoYXNJbWFnZVByb3BlcnRpZXMiLCJoYXNJbWFnZUF0dHJpYnV0ZXMiLCJtYXRjaF91cmwiLCJhbGxfaW1hZ2VzIiwidG90YWwiLCJjb3VudCIsImNpcmNsZV9vIiwiY2lyY2xlX2MiLCJjaXJjbGVfaSIsImxlbmd0aF9vIiwiTWF0aCIsIlBJIiwibGVuZ3RoX2MiLCJsZW5ndGhfaSIsImltZ19sb2FkZWQiLCJwZXJjZW50YWdlIiwiY2VpbCIsInN0cm9rZURhc2hvZmZzZXQiLCJodG1sIiwiZG9uZV9sb2FkaW5nIiwiYW5pbWF0aW9uIiwiZGVsYXkiLCJmYWRlT3V0IiwiaW1hZ2VzX2xvb3AiLCJ0ZXN0X2ltYWdlIiwiSW1hZ2UiLCJvbmVycm9yIiwic3Jjc2V0Iiwic3JjIiwiZWxlbWVudCIsImlzIiwicHVzaCIsInByb3BlcnR5IiwibWF0Y2giLCJwcm9wZXJ0eVZhbHVlIiwiZXhlYyIsImF0dHJpYnV0ZSIsImF0dHJpYnV0ZVZhbHVlIiwiOCIsIm5leHRCdG4iLCJwcmV2QnRuIiwibmV4dCIsInByZXYiLCJjdXJyZW50Iiwic2hvd1NsaWRlIiwicGFkZGluZy1yaWdodCIsInNjcm9sbGJhcl93aWR0aCIsInNob3dOZXh0Iiwic2hvd1ByZXYiLCJhanVzdEltZ0hlaWdodCIsInNsaWRlclBob3RvIiwic2xpZGVIZWlnaHQiLCJoZWlnaHQiLCJhbmltYXRlIiwibmV4dFNsaWRlIiwicHJldlNsaWRlIiwiX2l0ZW0iLCJpbWdfdGh1bWIiLCJpbWdfdGl0bGUiLCJpbWdfbGlrZXMiLCJpbWdfdXNlcl9uYW1lIiwiaW1nX3VzZXJfYXZhdGFyIiwiaW1nX2Rlc2MiLCJjb21tZW50c19ob2xkZXIiLCJpbWdfY29tbWVudHMiLCJrZXkiLCJ2YWx1ZSIsImhlbHBlcnMiLCJyZXNpemVUaW1lb3V0IiwicmVzaXplRGVsdGEiLCJyZXNpemUiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiLi9oZWxwZXJzLmpzIl0sIm1hcHBpbmdzIjoiQ0FBQSxRQUFVQSxHQUFFQyxFQUFFQyxFQUFFQyxHQUFHLFFBQVNDLEdBQUVDLEVBQUVDLEdBQUcsSUFBSUosRUFBRUcsR0FBRyxDQUFDLElBQUlKLEVBQUVJLEdBQUcsQ0FBQyxHQUFJRSxHQUFrQixrQkFBVEMsVUFBcUJBLE9BQVEsS0FBSUYsR0FBR0MsRUFBRSxNQUFPQSxHQUFFRixHQUFFLEVBQUksSUFBR0ksRUFBRSxNQUFPQSxHQUFFSixHQUFFLEVBQUksSUFBSUssR0FBRSxHQUFJQyxPQUFNLHVCQUF1Qk4sRUFBRSxJQUFLLE1BQU1LLEdBQUVFLEtBQUssbUJBQW1CRixFQUFF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Qy9CSCxnQkFBZ0JqRyxPQUFPb0csSUFJeEIsSUFBSUosR0FBV04sRUFBTW5JLEtBQUssT0FFMUJwQyxHQUFPTixLQUFLLGdCQUFnQnFELEtBQUssTUFBT3lILEdBQ3hDeEssRUFBT04sS0FBSyxrQkFBa0J1SSxLQUFLd0MsV0FDbkN6SyxFQUFPTixLQUFLLGlCQUFpQnVJLEtBQUt5QyxXQUNsQzFLLEVBQU9OLEtBQUssaUJBQWlCdUksS0FBSzRDLEdBQ2xDN0ssRUFBT04sS0FBSyx3QkFBd0J1SSxLQUFLMEMsZUFDekMzSyxFQUFPTixLQUFLLDZCQUE2QnFELEtBQUssTUFBTzZILGlCQUVyRFosSUFyR0RrQixRQUFVOU0sRUFBUSxlQUVsQixJQUNDNEIsR0FDQTBKLEVBQ0F5QixFQUhHdEIsRUFBa0JxQixRQUFROUcsb0JBSTdCZ0gsRUFBYyxHQWtHZnJNLEdBQUVtRyxRQUFRbUcsT0FBTyxXQUNoQkMsYUFBYUgsR0FDYkEsRUFBZ0JJLFdBQVd2QixFQUFnQm9CLEtBRzVDdE0sRUFBT0osU0FDTm1DLEtBQU9BLEVBQ1BpSixTQUFVQSxFQUNWQyxTQUFVQSxLQUlSeUIsZUFBZSxTQUFTIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbigkKSB7XHJcblx0XCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5cdHZhciBwcmVsb2FkZXIgPSByZXF1aXJlKFwiLi9tb2R1bGVzL3ByZWxvYWRlci5qc1wiKSxcclxuXHRcdC8vIGhlbHBlcnMgPSByZXF1aXJlKFwiLi9tb2R1bGVzL2hlbHBlcnMuanNcIiksXHJcblx0XHRtb2RhbCA9IHJlcXVpcmUoXCIuL21vZHVsZXMvbW9kYWwuanNcIiksXHJcblx0XHRzbGlkZXIgPSByZXF1aXJlKFwiLi9tb2R1bGVzL3NsaWRlci5qc1wiKSxcclxuXHRcdGFuaW1hdGlvbnMgPSByZXF1aXJlKFwiLi9tb2R1bGVzL2FuaW1hdGlvbnMuanNcIiksXHJcblx0XHRzZXRBamF4UmVzcG9uY2UgPSByZXF1aXJlKFwiLi9tb2R1bGVzL2FqYXguanNcIiksXHJcblx0XHRpbWFnZVByZXZpZXcgPSByZXF1aXJlKFwiLi9tb2R1bGVzL2ltYWdlX3ByZXZpZXcuanNcIik7XHJcblxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdC8vIEFkYXB0aXZlIGJyZWFrcG9pbnRzXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0Ly8gdmFyIHNjcm9sbGJhcl93aWR0aCA9IGhlbHBlcnMuZ2V0U2Nyb2xsYmFyV2lkdGgoKSxcclxuXHQvLyBcdHNjcmVlbl9zaXplcyA9IHtcclxuXHQvLyBcdFx0bW9iaWxlIDogNDgwIC0gc2Nyb2xsYmFyX3dpZHRoLFxyXG5cdC8vIFx0XHR0YWJsZXQgOiA3NjggLSBzY3JvbGxiYXJfd2lkdGgsXHJcblx0Ly8gXHRcdGxpbWl0IDogMjAwMCAtIHNjcm9sbGJhcl93aWR0aFxyXG5cdC8vIFx0fTtcclxuXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0Ly8gUGFyYWxsYXhcclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcblx0Ly8gTWFpbiBwYWdlIG1vdXNlIHBhcmFsbGF4XHJcblx0aWYoJChcIiNzY2VuZS5heGlzXCIpLmxlbmd0aCl7XHJcblx0XHQkKFwiI3NjZW5lLmF4aXNcIikucGFyYWxsYXgoe1xyXG5cdFx0XHRzY2FsYXJYOiAzLFxyXG5cdFx0XHRzY2FsYXJZOiAzLFxyXG5cdFx0XHRmcmljdGlvblg6IDAuNSxcclxuXHRcdFx0ZnJpY3Rpb25ZOiAwLjVcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0Ly8gQW5pbWF0aW9ucyBleGFtcGxlXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0YW5pbWF0aW9ucy5mYWRlUGFnZU9uKFwiYS5wcmVsb2FkLWxpbmtcIiwgXCIjcHJlbG9hZGVyXCIsIDMwMCk7XHJcblxyXG5cdCQuZm4uYW5pbWF0ZWQgPSBhbmltYXRpb25zLmFuaW1hdGVDc3M7XHJcblx0Ly8gRXhhbXBsZVxyXG5cdCQoXCIuYW5pbWF0ZWQtdGVzdC1jb250YWluZXJcIikuYW5pbWF0ZWQoXCJzbGlkZUluUmlnaHRcIik7XHJcblxyXG5cclxuXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0Ly8gSW5pdCBBZGQgQWxidW0gTW9kYWxcclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHRpZiAoJChcIi5qcy1hZGQtYWxidW1cIikubGVuZ3RoKSB7XHJcblx0XHRtb2RhbC5pbml0KFwiI2FkZC1hbGJ1bS1tb2RhbFwiLCBcIi5qcy1hZGQtYWxidW1cIiwgXCIuanMtY2xvc2UtbW9kYWxcIik7XHJcblx0fVxyXG5cclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHQvLyBJbml0IEFkZCBQaG90b3MgTW9kYWxcclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHRpZiAoJChcIi5qcy1hZGQtcGhvdG9zXCIpLmxlbmd0aCkge1xyXG5cdFx0bW9kYWwuaW5pdChcIiNhZGQtcGhvdG9zLW1vZGFsXCIsIFwiLmpzLWFkZC1waG90b3NcIiwgXCIuanMtY2xvc2UtbW9kYWxcIik7XHJcblx0fVxyXG5cclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHQvLyBJbml0IEVkaXQgUGhvdG8gTW9kYWxcclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHRpZiAoJChcIi5qcy1lZGl0LXBob3RvXCIpLmxlbmd0aCkge1xyXG5cdFx0bW9kYWwuaW5pdChcIiNlZGl0LXBob3RvLW1vZGFsXCIsIFwiLmpzLWVkaXQtcGhvdG9cIiwgXCIuanMtY2xvc2UtbW9kYWxcIik7XHJcblx0fVxyXG5cclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHQvLyBJbml0IEVkaXQgVXNlciBNb2RhbFxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdGlmICgkKFwiLmpzLWVkaXQtdXNlclwiKS5sZW5ndGgpIHtcclxuXHRcdG1vZGFsLmluaXQoXCIjZWRpdC11c2VyLW1vZGFsXCIsIFwiLmpzLWVkaXQtdXNlclwiLCBcIi5qcy1jbG9zZS1tb2RhbFwiKTtcclxuXHR9XHJcblxyXG5cclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHQvLyBJbml0IEVkaXQgVXNlciBNb2RhbCAoaW4gSGVhZGVyKVxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdGlmICgkKFwiLmpzLWVkaXQtdXNlci1oZWFkZXJcIikubGVuZ3RoKSB7XHJcblx0XHRtb2RhbC5pbml0KFwiI2VkaXQtdXNlci1oZWFkZXJcIiwgXCIuanMtZWRpdC11c2VyLWhlYWRlclwiLCBcIi5qcy1jbG9zZS1oZWFkZXJcIik7XHJcblx0fVxyXG5cclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHQvLyBJbml0IEVkaXQgQWxidW0gTW9kYWwgKGluIEhlYWRlcilcclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHRpZiAoJChcIi5qcy1lZGl0LWFsYnVtLWhlYWRlclwiKS5sZW5ndGgpIHtcclxuXHRcdG1vZGFsLmluaXQoXCIjZWRpdC1hbGJ1bS1oZWFkZXJcIiwgXCIuanMtZWRpdC1hbGJ1bS1oZWFkZXJcIiwgXCIuanMtY2xvc2UtaGVhZGVyXCIpO1xyXG5cdH1cclxuXHJcblxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdC8vIEVkaXQgVXNlciBNb2RhbCAtIERlbGV0ZSBQaG90b1xyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdGZ1bmN0aW9uIHNob3dQaG90b1JlbW92aW5nQmxvY2soZSkge1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0JChcIi5waG90by1lZGl0aW5nXCIpLnNsaWRlVXAoMzAwKTtcclxuXHRcdCQoXCIucGhvdG8tcmVtb3ZpbmdcIikuc2xpZGVEb3duKDMwMCk7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBoaWRlUGhvdG9SZW1vdmluZ0Jsb2NrKGUpIHtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdCQoXCIucGhvdG8tcmVtb3ZpbmdcIikuc2xpZGVVcCgzMDApO1xyXG5cdFx0JChcIi5waG90by1lZGl0aW5nXCIpLnNsaWRlRG93bigzMDApO1xyXG5cdH1cclxuXHJcblx0aWYgKCQoXCIuanMtc2hvdy1waG90by1yZW1vdmluZ1wiKS5sZW5ndGgpIHtcclxuXHRcdCQoXCIuanMtc2hvdy1waG90by1yZW1vdmluZ1wiKS5vbihcImNsaWNrXCIsIHNob3dQaG90b1JlbW92aW5nQmxvY2spO1xyXG5cdH1cclxuXHJcblx0aWYgKCQoXCIuanMtaGlkZS1waG90by1yZW1vdmluZ1wiKS5sZW5ndGgpIHtcclxuXHRcdCQoXCIuanMtaGlkZS1waG90by1yZW1vdmluZ1wiKS5vbihcImNsaWNrXCIsIGhpZGVQaG90b1JlbW92aW5nQmxvY2spO1xyXG5cdH1cclxuXHJcblxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdC8vIEluaXQgRWRpdCBBbGJ1bSBNb2RhbCAoaW4gSGVhZGVyKVxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdGlmICgkKFwiLmpzLW9wZW4tc2xpZGVyXCIpLmxlbmd0aCA+IDApIHtcclxuXHRcdHNsaWRlci5pbml0KFwiI3NsaWRlclwiLCBcIi5qcy1vcGVuLXNsaWRlclwiLCBcIi5qcy1jbG9zZS1zbGlkZXJcIiwgXCIuanMtc2xpZGVyLW5leHRcIiwgXCIuanMtc2xpZGVyLXByZXZcIik7XHJcblx0fVxyXG5cclxuXHJcblxyXG5cclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHQvLyBTaG93IFNvY2lhbCBJdGVtcyBGb3Jtc1xyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdGZ1bmN0aW9uIHNob3dTb2NpYWxGb3JtKGUpIHtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdHZhciBzb2NpYWxJdGVtID0gICQodGhpcykuY2xvc2VzdChcIi5zb2NpYWxfX2l0ZW1cIik7XHJcblx0XHRzb2NpYWxJdGVtLnNpYmxpbmdzKCkuZmluZChcIi5zb2NpYWxfX2Zvcm1cIikuaGlkZSgpO1xyXG5cdFx0c29jaWFsSXRlbS5maW5kKFwiLnNvY2lhbF9fZm9ybVwiKS5zaG93KCk7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBoaWRlU29jaWFsRm9ybShlKSB7XHJcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHQkKHRoaXMpLmNsb3Nlc3QoXCIuc29jaWFsX19mb3JtXCIpLmhpZGUoKTtcclxuXHR9XHJcblxyXG5cdGlmICgkKFwiLmpzLW9wZW4tc29jaWFsLWZvcm1cIikubGVuZ3RoKSB7XHJcblx0XHQkKFwiLmpzLW9wZW4tc29jaWFsLWZvcm1cIikub24oXCJjbGlja1wiLCBzaG93U29jaWFsRm9ybSk7XHJcblx0fVxyXG5cdGlmICgkKFwiLmpzLWNsb3NlLWZvcm1cIikubGVuZ3RoKSB7XHJcblx0XHQkKFwiLmpzLWNsb3NlLWZvcm1cIikub24oXCJjbGlja1wiLCBoaWRlU29jaWFsRm9ybSk7XHJcblx0fVxyXG5cclxuXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0Ly8gTG9naW4gY2FyZCBmbGlwXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0JChcIiNmbGlwLWNhcmRcIikuY2xpY2soZnVuY3Rpb24oKSB7XHJcblx0XHQkKFwiYm9keVwiKS5hZGRDbGFzcyhcImNhcmRfZmxpcHBlZFwiKTtcclxuXHR9KTtcclxuXHJcblx0JChcIiN1bmZsaXAtY2FyZFwiKS5jbGljayhmdW5jdGlvbihlKSB7XHJcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHQkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcImNhcmRfZmxpcHBlZFwiKTtcclxuXHR9KTtcclxuXHJcblxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdC8vIExvZ2luIHNob3cgUmVjb3ZlcnkgcGFzc3dvcmQgQ2FyZFxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdCQoXCIjc2hvdy1yZWNvdmVyeVwiKS5jbGljayhmdW5jdGlvbihlKSB7XHJcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHQkKFwiYm9keVwiKS5hZGRDbGFzcyhcInNob3dfcmVjb3ZlcnlcIik7XHJcblx0fSk7XHJcblxyXG5cdCQoXCIjaGlkZS1yZWNvdmVyeVwiKS5jbGljayhmdW5jdGlvbihlKSB7XHJcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHQkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcInNob3dfcmVjb3ZlcnlcIik7XHJcblx0fSk7XHJcblxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdC8vIERyb3B6b25lIChBZGQgcGhvdG9zKVxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuXHRpZiAoJChcImRpdiNkcm9wem9uZVwiKS5sZW5ndGgpIHtcclxuXHJcblx0XHR2YXIgbWF4RmlsZVNpemVNYiA9IDI7XHJcblxyXG5cdFx0JChcImRpdiNkcm9wem9uZVwiKS5kcm9wem9uZSh7XHJcblx0XHRcdHVybDogXCIvXCIgLFxyXG5cdFx0XHRtYXhGaWxlc2l6ZTogbWF4RmlsZVNpemVNYlxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHJcblx0cHJlbG9hZGVyKCk7XHJcblxyXG5cdHNldEFqYXhSZXNwb25jZS5pbml0KCk7XHJcblx0aW1hZ2VQcmV2aWV3LmluaXQoKTtcclxuXHJcbn0pKGpRdWVyeSk7XG59LHtcIi4vbW9kdWxlcy9hamF4LmpzXCI6MixcIi4vbW9kdWxlcy9hbmltYXRpb25zLmpzXCI6MyxcIi4vbW9kdWxlcy9pbWFnZV9wcmV2aWV3LmpzXCI6NSxcIi4vbW9kdWxlcy9tb2RhbC5qc1wiOjYsXCIuL21vZHVsZXMvcHJlbG9hZGVyLmpzXCI6NyxcIi4vbW9kdWxlcy9zbGlkZXIuanNcIjo4fV0sMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vKiogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiogLS0tLS0g0KPRgdGC0LDQvdC+0LLQutCwIGFqYXgt0LfQsNC/0YDQvtGB0L7QsiAtLS0tLS0tLVxyXG4qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXHJcblxyXG52YXIgc2V0QWpheFJlc3BvbmNlcyA9IChmdW5jdGlvbigpIHtcclxuXHJcbiAgZnVuY3Rpb24gaW5pdCgpIHtcclxuXHJcbiAgICAvLyDQoNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNC1INC00LDQvdC90YvRhSDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cclxuICAgICQoJyNlZGl0LXVzZXItaGVhZGVyJykub24oJ3N1Ym1pdCcsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCQoZS50YXJnZXQpWzBdKTtcclxuXHJcbiAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIHVybDogXCIvdXNlci9zYXZlZGF0YVwiLFxyXG4gICAgICAgICAgICBkYXRhOiBmb3JtRGF0YSxcclxuICAgICAgICAgICAgcHJvY2Vzc0RhdGE6IGZhbHNlLFxyXG4gICAgICAgICAgICBjb250ZW50VHlwZTogZmFsc2VcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuZG9uZShmdW5jdGlvbiAobXNnKSB7XHJcbi8vIGNvbnNvbGUubG9nKG1zZyk7XHJcblxyXG4gICAgICAgICAgICBpZihtc2cuc3RhdHVzID09ICdzdWNjZXNzJykge1xyXG4gICAgICAgICAgICAgIGlmKG1zZy5iYWNrZ3JvdW5kICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICQoJy5tYWluLXBhZ2UnKS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IFwidXJsKFwiK21zZy5iYWNrZ3JvdW5kK1wiKVwiXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgaWYobXNnLmF2YXRhciAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAkKCcjdXNlci1hdmF0YXInKS5hdHRyKCdzcmMnLCBtc2cuYXZhdGFyKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgJCgnLnVzZXItaW5mb19fbmFtZScpLnRleHQoZm9ybURhdGEuZ2V0KCduYW1lJykpO1xyXG4gICAgICAgICAgICAgICQoJy51c2VyLWluZm9fX2Rlc2MnKS50ZXh0KGZvcm1EYXRhLmdldCgnZGVzY3JpcHRpb24nKSk7XHJcbiAgICAgICAgICAgICAgJCgnI3NvY2lhbF9fbGlua192aycpLmF0dHIoJ2hyZWYnLCBmb3JtRGF0YS5nZXQoJ3ZrJykpO1xyXG4gICAgICAgICAgICAgICQoJyNzb2NpYWxfX2xpbmtfZmInKS5hdHRyKCdocmVmJywgZm9ybURhdGEuZ2V0KCdmYWNlYm9vaycpKTtcclxuICAgICAgICAgICAgICAkKCcjc29jaWFsX19saW5rX3R3JykuYXR0cignaHJlZicsIGZvcm1EYXRhLmdldCgndHdpdHRlcicpKTtcclxuICAgICAgICAgICAgICAkKCcjc29jaWFsX19saW5rX2dnJykuYXR0cignaHJlZicsIGZvcm1EYXRhLmdldCgnZ29vZ2xlJykpO1xyXG4gICAgICAgICAgICAgICQoJyNzb2NpYWxfX2xpbmtfZW1haWwnKS5hdHRyKCdocmVmJywgXCJtYWlsdG86XCIrZm9ybURhdGEuZ2V0KCdlbWFpbCcpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkKGUudGFyZ2V0KS5yZW1vdmVDbGFzcygnc2hvdycpLmFkZENsYXNzKCdoaWRlJyk7XHJcbiAgICAgICAgICAgICQoJ2JvZHknKS5yZW1vdmVDbGFzcygnaGFzLW92ZXJmbG93LWhpZGRlbicpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyDQlNC+0LHQsNCy0LvQtdC90LjQtSDQsNC70YzQsdC+0LzQsFxyXG4gICAgJCgnI2Zvcm0tYWRkLWFsYnVtJykub24oJ3N1Ym1pdCcsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCQoZS50YXJnZXQpWzBdKTtcclxuY29uc29sZS5sb2coJ2FkZC1hbGJ1bScpO1xyXG4gICAgICAkLmFqYXgoe1xyXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgdXJsOiBcIi9hbGJ1bS9zYXZlXCIsXHJcbiAgICAgICAgZGF0YTogZm9ybURhdGEsXHJcbiAgICAgICAgcHJvY2Vzc0RhdGE6IGZhbHNlLFxyXG4gICAgICAgIGNvbnRlbnRUeXBlOiBmYWxzZVxyXG4gICAgICB9KVxyXG4gICAgICAuZG9uZShmdW5jdGlvbiAobXNnKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2cobXNnKTtcclxuICAgICAgfSlcclxuICAgIH0pXHJcblxyXG4gIH1cclxuICBcclxuICByZXR1cm4ge1xyXG4gICAgaW5pdDogaW5pdFxyXG4gIH1cclxufSgpKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gIGluaXQ6IHNldEFqYXhSZXNwb25jZXMuaW5pdFxyXG59O1xufSx7fV0sMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gQW5pbWF0ZSBlbGVtZW50cyBvbiBzY3JvbGwuIEJhc2VkIG9uIHdheXBvaW50cy5qc1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxudmFyIGFuaW1hdGVDc3MgPSBmdW5jdGlvbiAoaW5fZWZmZWN0KSB7XHJcblx0JCh0aGlzKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIGVsZW0gPSAkKHRoaXMpO1xyXG5cdFx0ZWxlbS5jc3Moe29wYWNpdHk6MH0pXHJcblx0XHRcdC5hZGRDbGFzcyhcImFuaW1hdGVkXCIpXHJcblx0XHRcdC53YXlwb2ludChmdW5jdGlvbihkaXIpIHtcclxuXHRcdFx0XHRpZiAoZGlyID09PSBcImRvd25cIikge1xyXG5cdFx0XHRcdFx0ZWxlbS5hZGRDbGFzcyhpbl9lZmZlY3QpLmNzcyh7b3BhY2l0eToxfSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0b2Zmc2V0OiBcIjkwJVwiXHJcblx0XHRcdH0pO1xyXG5cdH0pO1xyXG59O1xyXG5cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFNob3cgb3dlcmxheSBsYXllciB3aGVuIHNwZWNpZmllZCBsaW5rIGhhcyBiZWVuIGNsaWNrZWRcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuZnVuY3Rpb24gZmFkZVBhZ2VPbiAobGlua19zZWxlY3Rvciwgb3ZlcmxheV9zZWxlY3RvciwgdGltZSl7XHJcblx0JChkb2N1bWVudCkub24oXCJjbGlja1wiLCBsaW5rX3NlbGVjdG9yLCBmdW5jdGlvbihlKSB7XHJcblx0XHR2YXIgaHJlZiA9ICQodGhpcykuYXR0cihcImhyZWZcIik7XHJcblx0XHRpZihocmVmWzBdIT1cIiNcIil7XHJcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcblx0XHRcdHJldHVybiAkKG92ZXJsYXlfc2VsZWN0b3IpXHJcblx0XHRcdFx0LmZhZGVJbih0aW1lLCBmdW5jdGlvbigpe1xyXG5cdFx0XHRcdFx0cmV0dXJuIGRvY3VtZW50LmxvY2F0aW9uID0gaHJlZiAhPSBudWxsID8gaHJlZiA6IFwiL1wiO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0fSk7XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuXHRhbmltYXRlQ3NzIDogYW5pbWF0ZUNzcyxcclxuXHRmYWRlUGFnZU9uIDogZmFkZVBhZ2VPblxyXG59O1xufSx7fV0sNDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gQ2hlY2sgYnJvd3NlciBzY3JvbGxiYXIgd2lkdGhcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbnZhciBnZXRTY3JvbGxiYXJXaWR0aCA9IGZ1bmN0aW9uICgpe1xyXG5cdHZhciBzdHlsZSA9IHtcIm1heC1oZWlnaHRcIjpcIjEwMHB4XCIsIFwib3ZlcmZsb3dcIjpcInNjcm9sbFwiLCBcInBvc2l0aW9uXCI6XCJhYnNvbHV0ZVwifSxcclxuXHRcdHdyYXBwZXIgPSAkKFwiPGRpdiBpZD0nc2Nyb2xsX2Jhcl9jaGVja19BJz48L2Rpdj5cIikuY3NzKHN0eWxlKSxcclxuXHRcdGlubmVyID0gJChcIjxkaXYgaWQ9J3Njcm9sbF9iYXJfY2hlY2tfQic+PC9kaXY+XCIpLFxyXG5cdFx0c3RyZXRjaGVyID0gJChcIjxpbWcgc3JjPScvYXNzZXRzL2ltZy9mb3JjZS1zY3JvbGwucG5nJy8+XCIpLFxyXG5cdFx0c2Nyb2xsQmFyV2lkdGggPSAwO1xyXG5cclxuXHR3cmFwcGVyLmFwcGVuZChzdHJldGNoZXIpLmFwcGVuZChpbm5lcik7XHJcblx0JChcImJvZHlcIikuYXBwZW5kKHdyYXBwZXIpO1xyXG5cclxuXHRzY3JvbGxCYXJXaWR0aCA9IHdyYXBwZXIud2lkdGgoKS1pbm5lci53aWR0aCgpO1xyXG5cdHdyYXBwZXIucmVtb3ZlKCk7XHJcblxyXG5cdHJldHVybiBzY3JvbGxCYXJXaWR0aDtcclxufTtcclxuXHJcblxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIENoZWNrIElFIHZlcnNpb25cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbnZhciBpZVZlcnNpb24gPSBmdW5jdGlvbiAoKSB7XHJcblx0dmFyIHVhID0gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQ7XHJcblxyXG5cdHZhciBtc2llID0gdWEuaW5kZXhPZihcIk1TSUUgXCIpO1xyXG5cdGlmIChtc2llID4gMCkge1xyXG5cdFx0Ly8gSUUgMTAgb3Igb2xkZXIgPT4gcmV0dXJuIHZlcnNpb24gbnVtYmVyXHJcblx0XHRyZXR1cm4gcGFyc2VJbnQodWEuc3Vic3RyaW5nKG1zaWUgKyA1LCB1YS5pbmRleE9mKFwiLlwiLCBtc2llKSksIDEwKTtcclxuXHR9XHJcblxyXG5cdHZhciB0cmlkZW50ID0gdWEuaW5kZXhPZihcIlRyaWRlbnQvXCIpO1xyXG5cdGlmICh0cmlkZW50ID4gMCkge1xyXG5cdFx0Ly8gSUUgMTEgPT4gcmV0dXJuIHZlcnNpb24gbnVtYmVyXHJcblx0XHR2YXIgcnYgPSB1YS5pbmRleE9mKFwicnY6XCIpO1xyXG5cdFx0cmV0dXJuIHBhcnNlSW50KHVhLnN1YnN0cmluZyhydiArIDMsIHVhLmluZGV4T2YoXCIuXCIsIHJ2KSksIDEwKTtcclxuXHR9XHJcblxyXG5cdHZhciBlZGdlID0gdWEuaW5kZXhPZihcIkVkZ2UvXCIpO1xyXG5cdGlmIChlZGdlID4gMCkge1xyXG5cdFx0Ly8gRWRnZSAoSUUgMTIrKSA9PiByZXR1cm4gdmVyc2lvbiBudW1iZXJcclxuXHRcdHJldHVybiBwYXJzZUludCh1YS5zdWJzdHJpbmcoZWRnZSArIDUsIHVhLmluZGV4T2YoXCIuXCIsIGVkZ2UpKSwgMTApO1xyXG5cdH1cclxuXHJcblx0Ly8gb3RoZXIgYnJvd3NlclxyXG5cdHJldHVybiBmYWxzZTtcclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG5cdGdldFNjcm9sbGJhcldpZHRoIDogZ2V0U2Nyb2xsYmFyV2lkdGgsXHJcblx0aWVWZXJzaW9uIDogaWVWZXJzaW9uXHJcbn1cbn0se31dLDU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuLyoqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiAtLS0tLSDQn9C+0LTQutC70Y7Rh9C10L3QuNC1INC/0YDQtdC00L/RgNC+0YHQvNC+0YLRgNCwINGE0L7RgtC+INC4INGE0L7QvdCwIC0tLS0tLS0tXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cclxuXHJcbnZhciBpbWFnZVByZXZpZXcgPSAoZnVuY3Rpb24oKSB7XHJcblxyXG4gIGZ1bmN0aW9uIGluaXQoKSB7XHJcblxyXG4gICAgLy8gQXZhdGFyIHByZXZpZXdcclxuICAgICQoJyNpbnB1dF9hdmF0YXInKS5vbignY2hhbmdlJywgZnVuY3Rpb24oKXtcclxuICAgICAgdmFyIGlucHV0ID0gdGhpcyxcclxuICAgICAgICAgIGF2YXRhciA9ICQoJyNwcmV2aWV3X2F2YXRhcicpO1xyXG5cclxuICAgICAgaWYgKGlucHV0LmZpbGVzICYmIGlucHV0LmZpbGVzWzBdKSB7XHJcbiAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcblxyXG4gICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbihlKXtcclxuICAgICAgICAgIGF2YXRhci5hdHRyKFwic3JjXCIsIGUudGFyZ2V0LnJlc3VsdCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoaW5wdXQuZmlsZXNbMF0pO1xyXG5cclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gQmFja2dyb3VuZCBwcmV2aWV3XHJcbiAgICAkKCcjaW5wdXRfYmFja2dyb3VuZCcpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbigpe1xyXG4gICAgICB2YXIgaW5wdXQgPSB0aGlzLFxyXG4gICAgICAgICAgYmcgPSAkKCcjYmctZWRpdC11c2VyJyk7XHJcblxyXG4gICAgICBpZiAoaW5wdXQuZmlsZXMgJiYgaW5wdXQuZmlsZXNbMF0pIHtcclxuICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuXHJcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgYmcuY3NzKHtcclxuICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlOiBcInVybChcIisgZS50YXJnZXQucmVzdWx0ICtcIilcIlxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoaW5wdXQuZmlsZXNbMF0pO1xyXG5cclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgaW5pdDogaW5pdFxyXG4gIH1cclxufSgpKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gIGluaXQ6IGltYWdlUHJldmlldy5pbml0XHJcbn07XG59LHt9XSw2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbmZ1bmN0aW9uIGluaXQoY29udGFpbmVyLCBvcGVuQnRuLCBjbG9zZUJ0bil7XHJcblx0dmFyIG1vZGFsID0gJChjb250YWluZXIpO1xyXG5cdHZhciBvcGVuID0gJChvcGVuQnRuKTtcclxuXHR2YXIgY2xvc2UgPSBtb2RhbC5maW5kKGNsb3NlQnRuKTtcclxuXHR2YXIgYm9keSA9ICQoJ2JvZHknKTtcclxuXHJcblx0b3Blbi5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKXtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdG1vZGFsLnJlbW92ZUNsYXNzKFwiaGlkZVwiKS5hZGRDbGFzcyhcInNob3dcIik7XHJcblx0XHRib2R5LmFkZENsYXNzKFwiaGFzLW92ZXJmbG93LWhpZGRlblwiKTtcclxuXHR9KTtcclxuXHJcblx0Y2xvc2Uub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZSl7XHJcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRtb2RhbC5hZGRDbGFzcyhcImhpZGVcIikucmVtb3ZlQ2xhc3MoXCJzaG93XCIpO1xyXG5cdFx0Ym9keS5yZW1vdmVDbGFzcygnaGFzLW92ZXJmbG93LWhpZGRlbicpO1xyXG5cdH0pO1xyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcblx0aW5pdCA6IGluaXRcclxufTtcclxuXHJcblxufSx7fV0sNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gUHJlbG9hZGVyIHdpdGggcGVyY2VudGFnZSBieSBpbWFnZSBjb3VudFxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxudmFyXHRwcmVsb2FkZXJfY29udGFpbmVyID0gJChcIiNwcmVsb2FkZXJcIiksXHJcblx0cHJlbG9hZGVyX3BlcmNlbnRhZ2UgPSAkKFwiI3ByZWxvYWRlcl9fcGVyY2VudGFnZVwiKSxcclxuXHRoYXNJbWFnZVByb3BlcnRpZXMgPSBbXCJiYWNrZ3JvdW5kXCIsIFwiYmFja2dyb3VuZEltYWdlXCIsIFwibGlzdFN0eWxlSW1hZ2VcIiwgXCJib3JkZXJJbWFnZVwiLCBcImJvcmRlckNvcm5lckltYWdlXCIsIFwiY3Vyc29yXCJdLFxyXG5cdGhhc0ltYWdlQXR0cmlidXRlcyA9IFtcInNyY3NldFwiXSxcclxuXHRtYXRjaF91cmwgPSAvdXJsXFwoXFxzKihbJ1wiXT8pKC4qPylcXDFcXHMqXFwpL2csXHJcblx0YWxsX2ltYWdlcyA9IFtdLFxyXG5cdHRvdGFsID0gMCxcclxuXHRjb3VudCA9IDA7XHJcblxyXG4vLyBBbmltYXRlIGluY2x1ZGVkIFNWRyBjaXJjbGVzIHByZWxvYWRlclxyXG52YXIgY2lyY2xlX28gPSAkKFwiI3ByZWxvYWRlcl9faW1nIC5iYXJfX291dGVyXCIpLFxyXG5cdGNpcmNsZV9jID0gJChcIiNwcmVsb2FkZXJfX2ltZyAuYmFyX19jZW50ZXJcIiksXHJcblx0Y2lyY2xlX2kgPSAkKFwiI3ByZWxvYWRlcl9faW1nIC5iYXJfX2lubmVyXCIpLFxyXG5cdGxlbmd0aF9vID0gTWF0aC5QSSooY2lyY2xlX28uYXR0cihcInJcIikgKiAyKSxcclxuXHRsZW5ndGhfYyA9IE1hdGguUEkqKGNpcmNsZV9jLmF0dHIoXCJyXCIpICogMiksXHJcblx0bGVuZ3RoX2kgPSBNYXRoLlBJKihjaXJjbGVfaS5hdHRyKFwiclwiKSAqIDIpO1xyXG5cclxuXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHByZWxvYWRlcigpIHtcclxuXHJcblx0ZnVuY3Rpb24gaW1nX2xvYWRlZCgpe1xyXG5cdFx0dmFyIHBlcmNlbnRhZ2UgPSBNYXRoLmNlaWwoIChjb3VudCsxKSAvIHRvdGFsICogMTAwICk7XHJcblxyXG5cdFx0Y291bnQgKz0gMTtcclxuXHRcdHBlcmNlbnRhZ2UgPSBwZXJjZW50YWdlID4gMTAwID8gMTAwIDogcGVyY2VudGFnZTtcclxuXHJcblx0XHQvLyBEcmF3IG9mZnNldHNcclxuXHRcdC8vIDFzdCBjaXJjbGVcclxuXHRcdGNpcmNsZV9vLmNzcyh7c3Ryb2tlRGFzaG9mZnNldDogKCgxMDAtcGVyY2VudGFnZSkvMTAwKSpsZW5ndGhfbyB9KTtcclxuXHJcblx0XHQvLyB3aGVuIHRvIHN0YXJ0IDJuZCBjaXJjbGVcclxuXHRcdGlmKHBlcmNlbnRhZ2UgPiA1MCkge1xyXG5cdFx0XHRjaXJjbGVfYy5jc3Moe3N0cm9rZURhc2hvZmZzZXQ6ICgoMTAwLXBlcmNlbnRhZ2UpLzEwMCkqbGVuZ3RoX2MgfSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gd2hlbiB0byBzdGFydCAzcmQgY2lyY2xlXHJcblx0XHRpZihwZXJjZW50YWdlID09IDEwMCkge1xyXG5cdFx0XHRjaXJjbGVfaS5jc3Moe3N0cm9rZURhc2hvZmZzZXQ6ICgoMTAwLXBlcmNlbnRhZ2UpLzEwMCkqbGVuZ3RoX2kgfSk7XHJcblx0XHR9XHJcblxyXG5cdFx0cHJlbG9hZGVyX3BlcmNlbnRhZ2UuaHRtbChwZXJjZW50YWdlKTtcclxuXHJcblx0XHRpZihjb3VudCA9PT0gdG90YWwpe1xyXG5cdFx0XHRyZXR1cm4gZG9uZV9sb2FkaW5nKCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBkb25lX2xvYWRpbmcoKXtcclxuXHRcdHByZWxvYWRlcl9wZXJjZW50YWdlLmNzcyh7XCJhbmltYXRpb25cIjpcIm5vbmVcIn0pO1xyXG5cdFx0cHJlbG9hZGVyX2NvbnRhaW5lci5kZWxheSg3MDApLmZhZGVPdXQoNzAwLCBmdW5jdGlvbigpe1xyXG5cdFx0XHQvLyBDYWxsYmFja3MsIGUuZy46XHJcblx0XHRcdHByZWxvYWRlcl9wZXJjZW50YWdlLnJlbW92ZSgpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBpbWFnZXNfbG9vcCAodG90YWwpIHtcclxuXHRcdGZvcih2YXIgaT0wOyBpPHRvdGFsOyBpKyspe1xyXG5cdFx0XHR2YXIgdGVzdF9pbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG5cclxuXHRcdFx0dGVzdF9pbWFnZS5vbmxvYWQgPSBpbWdfbG9hZGVkO1xyXG5cdFx0XHR0ZXN0X2ltYWdlLm9uZXJyb3IgPSBpbWdfbG9hZGVkO1xyXG5cclxuXHRcdFx0aWYgKGFsbF9pbWFnZXNbaV0uc3Jjc2V0KSB7XHJcblx0XHRcdFx0dGVzdF9pbWFnZS5zcmNzZXQgPSBhbGxfaW1hZ2VzW2ldLnNyY3NldDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dGVzdF9pbWFnZS5zcmMgPSBhbGxfaW1hZ2VzW2ldLnNyYztcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8vIEdldCBhbGwgaW1hZ2VzXHJcblx0JChcIipcIikuZWFjaChmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgZWxlbWVudCA9ICQodGhpcyk7XHJcblxyXG5cdFx0aWYgKGVsZW1lbnQuaXMoXCJpbWdcIikgJiYgZWxlbWVudC5hdHRyKFwic3JjXCIpKSB7XHJcblx0XHRcdGFsbF9pbWFnZXMucHVzaCh7XHJcblx0XHRcdFx0c3JjOiBlbGVtZW50LmF0dHIoXCJzcmNcIiksXHJcblx0XHRcdFx0ZWxlbWVudDogZWxlbWVudFswXVxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHQkLmVhY2goaGFzSW1hZ2VQcm9wZXJ0aWVzLCBmdW5jdGlvbiAoaSwgcHJvcGVydHkpIHtcclxuXHRcdFx0dmFyIHByb3BlcnR5VmFsdWUgPSBlbGVtZW50LmNzcyhwcm9wZXJ0eSk7XHJcblx0XHRcdHZhciBtYXRjaDtcclxuXHJcblx0XHRcdGlmICghcHJvcGVydHlWYWx1ZSkge1xyXG5cdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRtYXRjaCA9IG1hdGNoX3VybC5leGVjKHByb3BlcnR5VmFsdWUpO1xyXG5cdFx0XHRcclxuXHRcdFx0aWYgKG1hdGNoKSB7XHJcblx0XHRcdFx0YWxsX2ltYWdlcy5wdXNoKHtcclxuXHRcdFx0XHRcdHNyYzogbWF0Y2hbMl0sXHJcblx0XHRcdFx0XHRlbGVtZW50OiBlbGVtZW50WzBdXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdCQuZWFjaChoYXNJbWFnZUF0dHJpYnV0ZXMsIGZ1bmN0aW9uIChpLCBhdHRyaWJ1dGUpIHtcclxuXHRcdFx0dmFyIGF0dHJpYnV0ZVZhbHVlID0gZWxlbWVudC5hdHRyKGF0dHJpYnV0ZSk7XHJcblxyXG5cdFx0XHRpZiAoIWF0dHJpYnV0ZVZhbHVlKSB7XHJcblx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGFsbF9pbWFnZXMucHVzaCh7XHJcblx0XHRcdFx0c3JjOiBlbGVtZW50LmF0dHIoXCJzcmNcIiksXHJcblx0XHRcdFx0c3Jjc2V0OiBlbGVtZW50LmF0dHIoXCJzcmNzZXRcIiksXHJcblx0XHRcdFx0ZWxlbWVudDogZWxlbWVudFswXVxyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH0pO1xyXG5cclxuXHR0b3RhbCA9IGFsbF9pbWFnZXMubGVuZ3RoO1xyXG5cclxuXHQvLyBTdGFydCBwcmVsb2FkZXIgb3IgZXhpdFxyXG5cdGlmICh0b3RhbCA9PT0gMCkge1xyXG5cdFx0cHJlbG9hZGVyX3BlcmNlbnRhZ2UuaHRtbCgxMDApO1xyXG5cdFx0ZG9uZV9sb2FkaW5nKCk7XHJcblx0fSBlbHNlIHtcclxuXHRcdGltYWdlc19sb29wKHRvdGFsKTtcclxuXHR9XHJcbn07XG59LHt9XSw4OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbmhlbHBlcnMgPSByZXF1aXJlKFwiLi9oZWxwZXJzLmpzXCIpO1xyXG5cclxudmFyIHNjcm9sbGJhcl93aWR0aCA9IGhlbHBlcnMuZ2V0U2Nyb2xsYmFyV2lkdGgoKSxcclxuXHRzbGlkZXIsXHJcblx0Y3VycmVudCxcclxuXHRyZXNpemVUaW1lb3V0LFxyXG5cdHJlc2l6ZURlbHRhID0gMTAwO1xyXG5cclxuZnVuY3Rpb24gaW5pdChjb250YWluZXIsIG9wZW5CdG4sIGNsb3NlQnRuLCBuZXh0QnRuLCBwcmV2QnRuKXtcclxuXHRzbGlkZXIgPSAkKGNvbnRhaW5lcik7XHJcblxyXG5cdHZhciBvcGVuID0gJChvcGVuQnRuKSxcclxuXHRcdGNsb3NlID0gc2xpZGVyLmZpbmQoY2xvc2VCdG4pLFxyXG5cdFx0bmV4dCA9IHNsaWRlci5maW5kKG5leHRCdG4pLFxyXG5cdFx0cHJldiA9IHNsaWRlci5maW5kKHByZXZCdG4pLFxyXG5cdFx0Ym9keSA9ICQoJ2h0bWwnKTtcclxuXHJcblx0b3Blbi5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKXtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcblx0XHRjdXJyZW50ID0gJCh0aGlzKS5jbG9zZXN0KCcuYWxidW0taXRlbScpO1xyXG5cdFx0c2hvd1NsaWRlKGN1cnJlbnQpO1xyXG5cclxuXHRcdHNsaWRlci5yZW1vdmVDbGFzcyhcImhpZGVcIikuYWRkQ2xhc3MoXCJzaG93XCIpO1xyXG5cdFx0Ym9keS5hZGRDbGFzcygnaGFzLW92ZXJmbG93LWhpZGRlbicpXHJcblx0XHRcdC5jc3Moe1wicGFkZGluZy1yaWdodFwiIDogc2Nyb2xsYmFyX3dpZHRofSk7XHJcblx0fSk7XHJcblxyXG5cdGNsb3NlLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpe1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0c2xpZGVyLmFkZENsYXNzKFwiaGlkZVwiKS5yZW1vdmVDbGFzcyhcInNob3dcIik7XHJcblx0XHRib2R5LnJlbW92ZUNsYXNzKCdoYXMtb3ZlcmZsb3ctaGlkZGVuJylcclxuXHRcdFx0LmNzcyh7XCJwYWRkaW5nLXJpZ2h0XCIgOiAwfSk7XHJcblx0fSk7XHJcblxyXG5cdG5leHQub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZSl7XHJcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRzaG93TmV4dCgpO1xyXG5cdH0pO1xyXG5cclxuXHRwcmV2Lm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpe1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0c2hvd1ByZXYoKTtcclxuXHR9KTtcclxuXHJcbn07XHJcblxyXG5mdW5jdGlvbiBhanVzdEltZ0hlaWdodCgpe1xyXG5cdC8vIEhlaWdodCBhbmltYXRpb25cclxuXHR2YXIgc2xpZGVyUGhvdG8gPSBzbGlkZXIuZmluZCgnLnNsaWRlcl9fcGhvdG8nKSxcclxuXHRcdHNsaWRlSGVpZ2h0ID0gc2xpZGVyLmZpbmQoJy5zbGlkZXJfX2ltZycpLmhlaWdodCgpO1xyXG5cclxuXHRzbGlkZXJQaG90by5hbmltYXRlKHtcclxuXHRcdCdoZWlnaHQnOiBzbGlkZUhlaWdodFxyXG5cdH0sIDMwMCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNob3dOZXh0KCl7XHJcblx0dmFyIG5leHRTbGlkZSA9IGN1cnJlbnQubmV4dCgnLmFsYnVtLWl0ZW0nKTtcclxuXHRpZiAobmV4dFNsaWRlLmxlbmd0aCkge1xyXG5cdFx0c2hvd1NsaWRlKG5leHRTbGlkZSk7XHJcblx0XHRjdXJyZW50ID0gbmV4dFNsaWRlO1xyXG5cdH1cclxufTtcclxuXHJcbmZ1bmN0aW9uIHNob3dQcmV2KCl7XHJcblx0dmFyIHByZXZTbGlkZSA9IGN1cnJlbnQucHJldignLmFsYnVtLWl0ZW0nKTtcclxuXHRpZiAocHJldlNsaWRlLmxlbmd0aCkge1xyXG5cdFx0c2hvd1NsaWRlKHByZXZTbGlkZSk7XHJcblx0XHRjdXJyZW50ID0gcHJldlNsaWRlO1xyXG5cdH1cclxufTtcclxuXHJcbmZ1bmN0aW9uIHNob3dTbGlkZShfaXRlbSl7XHJcblx0dmFyIGltZ190aHVtYiA9IF9pdGVtLmRhdGEoJ3RodW1iJyk7XHJcblx0XHRpbWdfdGl0bGUgPSBfaXRlbS5kYXRhKCd0aXRsZScpLFxyXG5cdFx0aW1nX2xpa2VzID0gX2l0ZW0uZGF0YSgnbGlrZXMnKSxcclxuXHRcdGltZ191c2VyX25hbWUgPSBfaXRlbS5kYXRhKCd1c2VyX25hbWUnKSxcclxuXHRcdGltZ191c2VyX2F2YXRhciA9IF9pdGVtLmRhdGEoJ3VzZXJfYXZhdGFyJyksXHJcblx0XHRpbWdfZGVzYyA9IF9pdGVtLmRhdGEoJ2Rlc2MnKSxcclxuXHRcdGNvbW1lbnRzX2hvbGRlciA9IHNsaWRlci5maW5kKCcuY29tbWVudHNfX2hvbGRlcicpLFxyXG5cdFx0aW1nX2NvbW1lbnRzID0gX2l0ZW0uZmluZCgnLmNvbW1lbnRzX19pdGVtJyk7XHJcblxyXG5cdC8vINCe0YfQuNGJ0LXQvdC40LUg0LHQu9C+0LrQsCDQtNC70Y8g0LrQvtC80LzQtdC90YLQsNGA0LjQtdCyXHJcblx0Y29tbWVudHNfaG9sZGVyLmh0bWwoJycpO1xyXG5cclxuXHQvLyDQlNC+0LHQsNCy0LvQtdC90LjQtSDQutC+0LzQvNC10L3RgtCw0YDQuNC10LJcclxuXHRpbWdfY29tbWVudHMuZWFjaChmdW5jdGlvbihrZXksIHZhbHVlKXtcclxuXHRcdGNvbW1lbnRzX2hvbGRlci5hcHBlbmQodmFsdWUpO1xyXG5cdH0pO1xyXG5cclxuXHJcblx0dmFyIGltZ19kZXNjID0gX2l0ZW0uZGF0YSgnZGVzYycpO1xyXG5cclxuXHRzbGlkZXIuZmluZCgnLnNsaWRlcl9faW1nJykuYXR0cignc3JjJywgaW1nX3RodW1iKTtcclxuXHRzbGlkZXIuZmluZCgnLnNsaWRlcl9fdGl0bGUnKS5odG1sKGltZ190aXRsZSk7XHJcblx0c2xpZGVyLmZpbmQoJy5saWtlc19fY291bnQnKS5odG1sKGltZ19saWtlcyk7XHJcblx0c2xpZGVyLmZpbmQoJy5zbGlkZXJfX3RleHQnKS5odG1sKGltZ19kZXNjKTtcclxuXHRzbGlkZXIuZmluZCgnLnNsaWRlcl9fYXV0aG9yLW5hbWUnKS5odG1sKGltZ191c2VyX25hbWUpO1xyXG5cdHNsaWRlci5maW5kKCcuc2xpZGVyX19hdXRob3ItcGhvdG8gaW1nJykuYXR0cignc3JjJywgaW1nX3VzZXJfYXZhdGFyKTtcclxuXHJcblx0YWp1c3RJbWdIZWlnaHQoKTtcclxufVxyXG5cclxuJCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbigpe1xyXG5cdGNsZWFyVGltZW91dChyZXNpemVUaW1lb3V0KTtcclxuXHRyZXNpemVUaW1lb3V0ID0gc2V0VGltZW91dChhanVzdEltZ0hlaWdodCwgcmVzaXplRGVsdGEpO1xyXG59KTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG5cdGluaXQgOiBpbml0LFxyXG5cdHNob3dOZXh0OiBzaG93TmV4dCxcclxuXHRzaG93UHJldjogc2hvd1ByZXZcclxufTtcclxuXHJcblxufSx7XCIuL2hlbHBlcnMuanNcIjo0fV19LHt9LFsxXSk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
