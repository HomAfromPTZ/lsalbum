!function e(t,n,i){function o(a,r){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!r&&l)return l(a,!0);if(s)return s(a,!0);var d=new Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return o(n?n:e)},c,c.exports,e,t,n,i)}return n[a].exports}for(var s="function"==typeof require&&require,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(e,t,n){!function(t){"use strict";function n(e){e.preventDefault(),t(this).closest(".hm-modal__content").find(".editing-block").slideUp(300),t(this).closest(".hm-modal__content").find(".removing-block").slideDown(300)}function i(e){e.preventDefault(),t(this).closest(".hm-modal__content").find(".removing-block").slideUp(300),t(this).closest(".hm-modal__content").find(".editing-block").slideDown(300)}function o(e){e.preventDefault();var n=t(this).closest(".social-links__item");n.siblings().find(".social-links__form").hide(),n.find(".social-links__form").show()}function s(e){e.preventDefault(),t(this).closest(".social-links__form").hide()}var a=e("./modules/infinite_preloader.js"),r=e("./modules/modal.js"),l=e("./modules/slider.js"),d=e("./modules/animations.js"),c=e("./modules/ajax.js"),u=e("./modules/image_preview.js");if(t("#scene.axis").length&&t("#scene.axis").parallax({scalarX:3,scalarY:3,frictionX:.5,frictionY:.5}),t("#go-up").click(function(){t("html, body").stop().animate({scrollTop:0},700,"swing")}),d.fadePageOn("a.preload-link","#preloader",300),t.fn.animated=d.animateCss,t(".album-item").animated("fadeIn"),t(".photo-item").animated("fadeIn"),t(".js-add-album").length&&r.init("#add-album-modal",".js-add-album",".js-close-modal"),t(".js-edit-album").length&&r.init("#edit-album-modal",".js-edit-album",".js-close-modal"),t(".js-add-photos").length&&r.init("#add-photos-modal",".js-add-photos",".js-close-modal"),t(".js-edit-photo").length&&r.init("#edit-photo-modal",".js-edit-photo",".js-close-modal"),t(".js-edit-user").length&&r.init("#edit-user-modal",".js-edit-user",".js-close-modal"),t(".js-edit-user-header").length&&r.init("#edit-user-header",".js-edit-user-header",".js-close-header"),t(".js-edit-album-header").length&&r.init("#edit-album-header",".js-edit-album-header",".js-close-header"),t(".js-show-removing-block").length&&t(".js-show-removing-block").on("click",n),t(".js-hide-removing-block").length&&t(".js-hide-removing-block").on("click",i),t(".js-open-slider").length>0&&l.init("#slider",".js-open-slider",".js-close-slider",".js-slider-next",".js-slider-prev"),t(".js-open-social-form").length&&t(".js-open-social-form").on("click",o),t(".js-close-form").length&&t(".js-close-form").on("click",s),t("#flip-card").click(function(){t("body").addClass("card_flipped")}),t("#unflip-card").click(function(e){e.preventDefault(),t("body").removeClass("card_flipped")}),t("#show-recovery").click(function(e){e.preventDefault(),t("body").addClass("show_recovery")}),t("#hide-recovery").click(function(e){e.preventDefault(),t("body").removeClass("show_recovery")}),t("div#dropzone").length){var f=2;t("div#dropzone").dropzone({url:"/",maxFilesize:f})}a(),c.init(),u.init()}(jQuery)},{"./modules/ajax.js":2,"./modules/animations.js":3,"./modules/image_preview.js":5,"./modules/infinite_preloader.js":6,"./modules/modal.js":7,"./modules/slider.js":8}],2:[function(e,t,n){var i=function(){function e(){$("#edit-user-header").on("submit",function(e){e.preventDefault();var t=new FormData($(e.target)[0]);$.ajax({method:"POST",url:"/user/savedata",data:t,processData:!1,contentType:!1}).done(function(n){"success"==n.status&&(void 0!==n.background&&$(".main-page").css({backgroundImage:"url("+n.background+")"}),void 0!==n.avatar&&$("#user-avatar").attr("src",n.avatar),$(".user-info__name").text(t.get("name")),$(".user-info__desc").text(t.get("description")),$("#social__link_vk").attr("href",t.get("vk")),$("#social__link_fb").attr("href",t.get("facebook")),$("#social__link_tw").attr("href",t.get("twitter")),$("#social__link_gg").attr("href",t.get("google")),$("#social__link_email").attr("href","mailto:"+t.get("email"))),$(e.target).removeClass("show").addClass("hide"),$("body").removeClass("has-overflow-hidden")})}),$("#form-add-album").on("submit",function(e){e.preventDefault();var t=new FormData($(e.target)[0]);console.log("add-album"),$.ajax({method:"POST",url:"/album/save",data:t,processData:!1,contentType:!1}).done(function(e){console.log(e)})})}return{init:e}}();t.exports={init:i.init}},{}],3:[function(e,t,n){function i(e,t,n){$(document).on("click",e,function(e){var i=$(this).attr("href");if("#"!=i[0])return e.preventDefault(),$(t).fadeIn(n,function(){return document.location=null!=i?i:"/"})})}var o=function(e){$(this).each(function(){var t=$(this);t.css({opacity:0}).addClass("animated").waypoint(function(n){"down"===n&&t.addClass(e).css({opacity:1})},{offset:"90%"})})};t.exports={animateCss:o,fadePageOn:i}},{}],4:[function(e,t,n){var i=function(){var e={"max-height":"100px",overflow:"scroll",position:"absolute"},t=$("<div id='scroll_bar_check_A'></div>").css(e),n=$("<div id='scroll_bar_check_B'></div>"),i=$("<img src='/assets/img/force-scroll.png'/>"),o=0;return t.append(i).append(n),$("body").append(t),o=t.width()-n.width(),t.remove(),o},o=function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);var n=e.indexOf("Trident/");if(n>0){var i=e.indexOf("rv:");return parseInt(e.substring(i+3,e.indexOf(".",i)),10)}var o=e.indexOf("Edge/");return o>0&&parseInt(e.substring(o+5,e.indexOf(".",o)),10)};t.exports={getScrollbarWidth:i,ieVersion:o}},{}],5:[function(e,t,n){var i=function(){function e(){$("#input_avatar").on("change",function(){var e=this,t=$("#preview_avatar");if(e.files&&e.files[0]){var n=new FileReader;n.onload=function(e){t.attr("src",e.target.result)},n.readAsDataURL(e.files[0])}}),$("#input_background").on("change",function(){var e=this,t=$("#bg-edit-user");if(e.files&&e.files[0]){var n=new FileReader;n.onload=function(e){t.css({backgroundImage:"url("+e.target.result+")"})},n.readAsDataURL(e.files[0])}})}return{init:e}}();t.exports={init:i.init}},{}],6:[function(e,t,n){var i=$("#preloader"),o=$("#preloader__percentage"),s=["background","backgroundImage","listStyleImage","borderImage","borderCornerImage","cursor"],a=["srcset"],r=/url\(\s*(['"]?)(.*?)\1\s*\)/g,l=[],d=0,c=0;t.exports=function(){function e(){var e=Math.ceil((c+1)/d*100);if(c+=1,e=e>100?100:e,o.html(e),c===d)return t()}function t(){o.css({animation:"none"}),i.delay(700).fadeOut(700,function(){o.remove()})}function n(t){for(var n=0;n<t;n++){var i=new Image;i.onload=e,i.onerror=e,l[n].srcset&&(i.srcset=l[n].srcset),i.src=l[n].src}}$("*").each(function(){var e=$(this);e.is("img")&&e.attr("src")&&l.push({src:e.attr("src"),element:e[0]}),$.each(s,function(t,n){var i,o=e.css(n);return!o||(i=r.exec(o),void(i&&l.push({src:i[2],element:e[0]})))}),$.each(a,function(t,n){var i=e.attr(n);return!i||void l.push({src:e.attr("src"),srcset:e.attr("srcset"),element:e[0]})})}),d=l.length,0===d?(o.html(100),t()):n(d)}},{}],7:[function(e,t,n){function i(e,t,n){var i=$(e),o=$(t),s=i.find(n),a=$("body");o.on("click",function(e){e.preventDefault(),i.removeClass("hide").addClass("show"),a.addClass("has-overflow-hidden")}),s.on("click",function(e){e.preventDefault(),i.addClass("hide").removeClass("show"),a.removeClass("has-overflow-hidden")})}t.exports={init:i}},{}],8:[function(e,t,n){function i(e,t,n,i,o){l=$(e);var c=$(t),f=l.find(n),m=l.find(i),h=l.find(o),v=$("html");c.on("click",function(e){e.preventDefault(),d=$(this).closest(".photo-item"),r(d),l.removeClass("hide").addClass("show"),v.addClass("has-overflow-hidden").css({"padding-right":u})}),f.on("click",function(e){e.preventDefault(),l.addClass("hide").removeClass("show"),v.removeClass("has-overflow-hidden").css({"padding-right":0})}),m.on("click",function(e){e.preventDefault(),s()}),h.on("click",function(e){e.preventDefault(),a()})}function o(){var e=l.find(".slider__photo"),t=l.find(".slider__img").height();e.animate({height:t},300)}function s(){var e=d.next(".photo-item");e.length&&(r(e),d=e)}function a(){var e=d.prev(".photo-item");e.length&&(r(e),d=e)}function r(e){var t=e.data("thumb");img_title=e.data("title"),img_likes=e.data("likes"),img_user_name=e.data("user_name"),img_user_avatar=e.data("user_avatar"),n=e.data("desc"),comments_holder=l.find(".comments__holder"),img_comments=e.find(".comments__item"),comments_holder.html(""),img_comments.each(function(e,t){comments_holder.append(t)});var n=e.data("desc");l.find(".slider__img").attr("src",t),l.find(".slider__title").html(img_title),l.find(".likes__count").html(img_likes),l.find(".slider__text").html(n),l.find(".slider__author-name").html(img_user_name),l.find(".slider__author-photo img").attr("src",img_user_avatar),o()}helpers=e("./helpers.js");var l,d,c,u=helpers.getScrollbarWidth(),f=100;$(window).resize(function(){clearTimeout(c),c=setTimeout(o,f)}),t.exports={init:i,showNext:s,showPrev:a}},{"./helpers.js":4}]},{},[1]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJlIiwidCIsIm4iLCJyIiwicyIsIm8iLCJ1IiwiYSIsInJlcXVpcmUiLCJpIiwiZiIsIkVycm9yIiwiY29kZSIsImwiLCJleHBvcnRzIiwiY2FsbCIsImxlbmd0aCIsIjEiLCJtb2R1bGUiLCIkIiwic2hvd1JlbW92aW5nQmxvY2siLCJwcmV2ZW50RGVmYXVsdCIsInRoaXMiLCJjbG9zZXN0IiwiZmluZCIsInNsaWRlVXAiLCJzbGlkZURvd24iLCJoaWRlUmVtb3ZpbmdCbG9jayIsInNob3dTb2NpYWxGb3JtIiwic29jaWFsSXRlbSIsInNpYmxpbmdzIiwiaGlkZSIsInNob3ciLCJoaWRlU29jaWFsRm9ybSIsInByZWxvYWRlciIsIm1vZGFsIiwic2xpZGVyIiwiYW5pbWF0aW9ucyIsInNldEFqYXhSZXNwb25jZSIsImltYWdlUHJldmlldyIsInBhcmFsbGF4Iiwic2NhbGFyWCIsInNjYWxhclkiLCJmcmljdGlvblgiLCJmcmljdGlvblkiLCJjbGljayIsInN0b3AiLCJhbmltYXRlIiwic2Nyb2xsVG9wIiwiZmFkZVBhZ2VPbiIsImZuIiwiYW5pbWF0ZWQiLCJhbmltYXRlQ3NzIiwiaW5pdCIsIm9uIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsIm1heEZpbGVTaXplTWIiLCJkcm9wem9uZSIsInVybCIsIm1heEZpbGVzaXplIiwialF1ZXJ5IiwiLi9tb2R1bGVzL2FqYXguanMiLCIuL21vZHVsZXMvYW5pbWF0aW9ucy5qcyIsIi4vbW9kdWxlcy9pbWFnZV9wcmV2aWV3LmpzIiwiLi9tb2R1bGVzL2luZmluaXRlX3ByZWxvYWRlci5qcyIsIi4vbW9kdWxlcy9tb2RhbC5qcyIsIi4vbW9kdWxlcy9zbGlkZXIuanMiLCIyIiwic2V0QWpheFJlc3BvbmNlcyIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJ0YXJnZXQiLCJhamF4IiwibWV0aG9kIiwiZGF0YSIsInByb2Nlc3NEYXRhIiwiY29udGVudFR5cGUiLCJkb25lIiwibXNnIiwic3RhdHVzIiwidW5kZWZpbmVkIiwiYmFja2dyb3VuZCIsImNzcyIsImJhY2tncm91bmRJbWFnZSIsImF2YXRhciIsImF0dHIiLCJ0ZXh0IiwiZ2V0IiwiY29uc29sZSIsImxvZyIsIjMiLCJsaW5rX3NlbGVjdG9yIiwib3ZlcmxheV9zZWxlY3RvciIsInRpbWUiLCJkb2N1bWVudCIsImhyZWYiLCJmYWRlSW4iLCJsb2NhdGlvbiIsImluX2VmZmVjdCIsImVhY2giLCJlbGVtIiwib3BhY2l0eSIsIndheXBvaW50IiwiZGlyIiwib2Zmc2V0IiwiNCIsImdldFNjcm9sbGJhcldpZHRoIiwic3R5bGUiLCJtYXgtaGVpZ2h0Iiwib3ZlcmZsb3ciLCJwb3NpdGlvbiIsIndyYXBwZXIiLCJpbm5lciIsInN0cmV0Y2hlciIsInNjcm9sbEJhcldpZHRoIiwiYXBwZW5kIiwid2lkdGgiLCJyZW1vdmUiLCJpZVZlcnNpb24iLCJ1YSIsIndpbmRvdyIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsIm1zaWUiLCJpbmRleE9mIiwicGFyc2VJbnQiLCJzdWJzdHJpbmciLCJ0cmlkZW50IiwicnYiLCJlZGdlIiwiNSIsImlucHV0IiwiZmlsZXMiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwicmVzdWx0IiwicmVhZEFzRGF0YVVSTCIsImJnIiwiNiIsInByZWxvYWRlcl9jb250YWluZXIiLCJwcmVsb2FkZXJfcGVyY2VudGFnZSIsImhhc0ltYWdlUHJvcGVydGllcyIsImhhc0ltYWdlQXR0cmlidXRlcyIsIm1hdGNoX3VybCIsImFsbF9pbWFnZXMiLCJ0b3RhbCIsImNvdW50IiwiaW1nX2xvYWRlZCIsInBlcmNlbnRhZ2UiLCJNYXRoIiwiY2VpbCIsImh0bWwiLCJkb25lX2xvYWRpbmciLCJhbmltYXRpb24iLCJkZWxheSIsImZhZGVPdXQiLCJpbWFnZXNfbG9vcCIsInRlc3RfaW1hZ2UiLCJJbWFnZSIsIm9uZXJyb3IiLCJzcmNzZXQiLCJzcmMiLCJlbGVtZW50IiwiaXMiLCJwdXNoIiwicHJvcGVydHkiLCJtYXRjaCIsInByb3BlcnR5VmFsdWUiLCJleGVjIiwiYXR0cmlidXRlIiwiYXR0cmlidXRlVmFsdWUiLCI3IiwiY29udGFpbmVyIiwib3BlbkJ0biIsImNsb3NlQnRuIiwib3BlbiIsImNsb3NlIiwiYm9keSIsIjgiLCJuZXh0QnRuIiwicHJldkJ0biIsIm5leHQiLCJwcmV2IiwiY3VycmVudCIsInNob3dTbGlkZSIsInBhZGRpbmctcmlnaHQiLCJzY3JvbGxiYXJfd2lkdGgiLCJzaG93TmV4dCIsInNob3dQcmV2IiwiYWp1c3RJbWdIZWlnaHQiLCJzbGlkZXJQaG90byIsInNsaWRlSGVpZ2h0IiwiaGVpZ2h0IiwibmV4dFNsaWRlIiwicHJldlNsaWRlIiwiX2l0ZW0iLCJpbWdfdGh1bWIiLCJpbWdfdGl0bGUiLCJpbWdfbGlrZXMiLCJpbWdfdXNlcl9uYW1lIiwiaW1nX3VzZXJfYXZhdGFyIiwiaW1nX2Rlc2MiLCJjb21tZW50c19ob2xkZXIiLCJpbWdfY29tbWVudHMiLCJrZXkiLCJ2YWx1ZSIsImhlbHBlcnMiLCJyZXNpemVUaW1lb3V0IiwicmVzaXplRGVsdGEiLCJyZXNpemUiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiLi9oZWxwZXJzLmpzIl0sIm1hcHBpbmdzIjoiQ0FBQSxRQUFVQSxHQUFFQyxFQUFFQyxFQUFFQyxHQUFHLFFBQVNDLEdBQUVDLEVBQUVDLEdBQUcsSUFBSUosRUFBRUcsR0FBRyxDQUFDLElBQUlKLEVBQUVJLEdBQUcsQ0FBQyxHQUFJRSxHQUFrQixrQkFBVEMsVUFBcUJBLE9BQVEsS0FBSUYsR0FBR0MsRUFBRSxNQUFPQSxHQUFFRixHQUFFLEVBQUksSUFBR0ksRUFBRSxNQUFPQSxHQUFFSixHQUFFLEVBQUksSUFBSUssR0FBRSxHQUFJQyxPQUFNLHVCQUF1Qk4sRUFBRSxJQUFLLE1BQU1LLEdBQUVFLEtBQUssbUJBQW1CRixFQUFFLEdBQUlHLEdBQUVYLEVBQUVHLElBQUlTLFdBQVliLEdBQUVJLEdBQUcsR0FBR1UsS0FBS0YsRUFBRUMsUUFBUSxTQUFTZCxH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aUJBQWlCaUksS0FBS2tELEdBQ2xDdkssRUFBT1osS0FBSyx3QkFBd0JpSSxLQUFLZ0QsZUFDekNySyxFQUFPWixLQUFLLDZCQUE2QjhELEtBQUssTUFBT29ILGlCQUVyRFgsSUFyR0RpQixRQUFVeE0sRUFBUSxlQUVsQixJQUNDNEIsR0FDQXFKLEVBQ0F3QixFQUhHckIsRUFBa0JvQixRQUFRckcsb0JBSTdCdUcsRUFBYyxHQWtHZi9MLEdBQUVzRyxRQUFRMEYsT0FBTyxXQUNoQkMsYUFBYUgsR0FDYkEsRUFBZ0JJLFdBQVd0QixFQUFnQm1CLEtBRzVDaE0sRUFBT0osU0FDTnVDLEtBQU9BLEVBQ1B3SSxTQUFVQSxFQUNWQyxTQUFVQSxLQUlSd0IsZUFBZSxTQUFTIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbigkKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdHZhciBwcmVsb2FkZXIgPSByZXF1aXJlKFwiLi9tb2R1bGVzL2luZmluaXRlX3ByZWxvYWRlci5qc1wiKSxcblx0XHQvLyBoZWxwZXJzID0gcmVxdWlyZShcIi4vbW9kdWxlcy9oZWxwZXJzLmpzXCIpLFxuXHRcdG1vZGFsID0gcmVxdWlyZShcIi4vbW9kdWxlcy9tb2RhbC5qc1wiKSxcblx0XHRzbGlkZXIgPSByZXF1aXJlKFwiLi9tb2R1bGVzL3NsaWRlci5qc1wiKSxcblx0XHRhbmltYXRpb25zID0gcmVxdWlyZShcIi4vbW9kdWxlcy9hbmltYXRpb25zLmpzXCIpLFxuXHRcdHNldEFqYXhSZXNwb25jZSA9IHJlcXVpcmUoXCIuL21vZHVsZXMvYWpheC5qc1wiKSxcblx0XHRpbWFnZVByZXZpZXcgPSByZXF1aXJlKFwiLi9tb2R1bGVzL2ltYWdlX3ByZXZpZXcuanNcIik7XG5cblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdC8vIEFkYXB0aXZlIGJyZWFrcG9pbnRzXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHQvLyB2YXIgc2Nyb2xsYmFyX3dpZHRoID0gaGVscGVycy5nZXRTY3JvbGxiYXJXaWR0aCgpLFxuXHQvLyBcdHNjcmVlbl9zaXplcyA9IHtcblx0Ly8gXHRcdG1vYmlsZSA6IDQ4MCAtIHNjcm9sbGJhcl93aWR0aCxcblx0Ly8gXHRcdHRhYmxldCA6IDc2OCAtIHNjcm9sbGJhcl93aWR0aCxcblx0Ly8gXHRcdGxpbWl0IDogMjAwMCAtIHNjcm9sbGJhcl93aWR0aFxuXHQvLyBcdH07XG5cblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdC8vIFBhcmFsbGF4XG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5cdC8vIE1haW4gcGFnZSBtb3VzZSBwYXJhbGxheFxuXHRpZigkKFwiI3NjZW5lLmF4aXNcIikubGVuZ3RoKXtcblx0XHQkKFwiI3NjZW5lLmF4aXNcIikucGFyYWxsYXgoe1xuXHRcdFx0c2NhbGFyWDogMyxcblx0XHRcdHNjYWxhclk6IDMsXG5cdFx0XHRmcmljdGlvblg6IDAuNSxcblx0XHRcdGZyaWN0aW9uWTogMC41XG5cdFx0fSk7XG5cdH1cblxuXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHQvLyBGb290ZXIgc2Nyb2xsIGJ1dHRvblxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0JChcIiNnby11cFwiKS5jbGljayhmdW5jdGlvbigpe1xuXHRcdCQoXCJodG1sLCBib2R5XCIpLnN0b3AoKS5hbmltYXRlKHtcblx0XHRcdHNjcm9sbFRvcDogMFxuXHRcdH0sIDcwMCwgXCJzd2luZ1wiKTtcblx0fSk7XG5cblxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0Ly8gQW5pbWF0aW9ucyBleGFtcGxlXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHRhbmltYXRpb25zLmZhZGVQYWdlT24oXCJhLnByZWxvYWQtbGlua1wiLCBcIiNwcmVsb2FkZXJcIiwgMzAwKTtcblxuXHQkLmZuLmFuaW1hdGVkID0gYW5pbWF0aW9ucy5hbmltYXRlQ3NzO1xuXHQkKFwiLmFsYnVtLWl0ZW1cIikuYW5pbWF0ZWQoXCJmYWRlSW5cIik7XG5cdCQoXCIucGhvdG8taXRlbVwiKS5hbmltYXRlZChcImZhZGVJblwiKTtcblxuXG5cblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdC8vIEluaXQgQWRkIEFsYnVtIE1vZGFsXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHRpZiAoJChcIi5qcy1hZGQtYWxidW1cIikubGVuZ3RoKSB7XG5cdFx0bW9kYWwuaW5pdChcIiNhZGQtYWxidW0tbW9kYWxcIiwgXCIuanMtYWRkLWFsYnVtXCIsIFwiLmpzLWNsb3NlLW1vZGFsXCIpO1xuXHR9XG5cblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdC8vIEluaXQgRWRpdCBBbGJ1bSBNb2RhbFxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0aWYgKCQoXCIuanMtZWRpdC1hbGJ1bVwiKS5sZW5ndGgpIHtcblx0XHRtb2RhbC5pbml0KFwiI2VkaXQtYWxidW0tbW9kYWxcIiwgXCIuanMtZWRpdC1hbGJ1bVwiLCBcIi5qcy1jbG9zZS1tb2RhbFwiKTtcblx0fVxuXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHQvLyBJbml0IEFkZCBQaG90b3MgTW9kYWxcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdGlmICgkKFwiLmpzLWFkZC1waG90b3NcIikubGVuZ3RoKSB7XG5cdFx0bW9kYWwuaW5pdChcIiNhZGQtcGhvdG9zLW1vZGFsXCIsIFwiLmpzLWFkZC1waG90b3NcIiwgXCIuanMtY2xvc2UtbW9kYWxcIik7XG5cdH1cblxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0Ly8gSW5pdCBFZGl0IFBob3RvIE1vZGFsXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHRpZiAoJChcIi5qcy1lZGl0LXBob3RvXCIpLmxlbmd0aCkge1xuXHRcdG1vZGFsLmluaXQoXCIjZWRpdC1waG90by1tb2RhbFwiLCBcIi5qcy1lZGl0LXBob3RvXCIsIFwiLmpzLWNsb3NlLW1vZGFsXCIpO1xuXHR9XG5cblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdC8vIEluaXQgRWRpdCBVc2VyIE1vZGFsXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHRpZiAoJChcIi5qcy1lZGl0LXVzZXJcIikubGVuZ3RoKSB7XG5cdFx0bW9kYWwuaW5pdChcIiNlZGl0LXVzZXItbW9kYWxcIiwgXCIuanMtZWRpdC11c2VyXCIsIFwiLmpzLWNsb3NlLW1vZGFsXCIpO1xuXHR9XG5cblxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0Ly8gSW5pdCBFZGl0IFVzZXIgTW9kYWwgKGluIEhlYWRlcilcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdGlmICgkKFwiLmpzLWVkaXQtdXNlci1oZWFkZXJcIikubGVuZ3RoKSB7XG5cdFx0bW9kYWwuaW5pdChcIiNlZGl0LXVzZXItaGVhZGVyXCIsIFwiLmpzLWVkaXQtdXNlci1oZWFkZXJcIiwgXCIuanMtY2xvc2UtaGVhZGVyXCIpO1xuXHR9XG5cblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdC8vIEluaXQgRWRpdCBBbGJ1bSBNb2RhbCAoaW4gSGVhZGVyKVxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0aWYgKCQoXCIuanMtZWRpdC1hbGJ1bS1oZWFkZXJcIikubGVuZ3RoKSB7XG5cdFx0bW9kYWwuaW5pdChcIiNlZGl0LWFsYnVtLWhlYWRlclwiLCBcIi5qcy1lZGl0LWFsYnVtLWhlYWRlclwiLCBcIi5qcy1jbG9zZS1oZWFkZXJcIik7XG5cdH1cblxuXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHQvLyBFZGl0IFVzZXIgTW9kYWwgLSBEZWxldGUgUGhvdG9cblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdGZ1bmN0aW9uIHNob3dSZW1vdmluZ0Jsb2NrKGUpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0JCh0aGlzKS5jbG9zZXN0KFwiLmhtLW1vZGFsX19jb250ZW50XCIpLmZpbmQoXCIuZWRpdGluZy1ibG9ja1wiKS5zbGlkZVVwKDMwMCk7XG5cdFx0JCh0aGlzKS5jbG9zZXN0KFwiLmhtLW1vZGFsX19jb250ZW50XCIpLmZpbmQoXCIucmVtb3ZpbmctYmxvY2tcIikuc2xpZGVEb3duKDMwMCk7XG5cdH1cblxuXHRmdW5jdGlvbiBoaWRlUmVtb3ZpbmdCbG9jayhlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdCQodGhpcykuY2xvc2VzdChcIi5obS1tb2RhbF9fY29udGVudFwiKS5maW5kKFwiLnJlbW92aW5nLWJsb2NrXCIpLnNsaWRlVXAoMzAwKTtcblx0XHQkKHRoaXMpLmNsb3Nlc3QoXCIuaG0tbW9kYWxfX2NvbnRlbnRcIikuZmluZChcIi5lZGl0aW5nLWJsb2NrXCIpLnNsaWRlRG93bigzMDApO1xuXHR9XG5cblx0aWYgKCQoXCIuanMtc2hvdy1yZW1vdmluZy1ibG9ja1wiKS5sZW5ndGgpIHtcblx0XHQkKFwiLmpzLXNob3ctcmVtb3ZpbmctYmxvY2tcIikub24oXCJjbGlja1wiLCBzaG93UmVtb3ZpbmdCbG9jayk7XG5cdH1cblxuXHRpZiAoJChcIi5qcy1oaWRlLXJlbW92aW5nLWJsb2NrXCIpLmxlbmd0aCkge1xuXHRcdCQoXCIuanMtaGlkZS1yZW1vdmluZy1ibG9ja1wiKS5vbihcImNsaWNrXCIsIGhpZGVSZW1vdmluZ0Jsb2NrKTtcblx0fVxuXG5cblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdC8vIEluaXQgRWRpdCBBbGJ1bSBNb2RhbCAoaW4gSGVhZGVyKVxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0aWYgKCQoXCIuanMtb3Blbi1zbGlkZXJcIikubGVuZ3RoID4gMCkge1xuXHRcdHNsaWRlci5pbml0KFwiI3NsaWRlclwiLCBcIi5qcy1vcGVuLXNsaWRlclwiLCBcIi5qcy1jbG9zZS1zbGlkZXJcIiwgXCIuanMtc2xpZGVyLW5leHRcIiwgXCIuanMtc2xpZGVyLXByZXZcIik7XG5cdH1cblxuXG5cblxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0Ly8gU2hvdyBTb2NpYWwgSXRlbXMgRm9ybXNcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdGZ1bmN0aW9uIHNob3dTb2NpYWxGb3JtKGUpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0dmFyIHNvY2lhbEl0ZW0gPSAgJCh0aGlzKS5jbG9zZXN0KFwiLnNvY2lhbC1saW5rc19faXRlbVwiKTtcblx0XHRzb2NpYWxJdGVtLnNpYmxpbmdzKCkuZmluZChcIi5zb2NpYWwtbGlua3NfX2Zvcm1cIikuaGlkZSgpO1xuXHRcdHNvY2lhbEl0ZW0uZmluZChcIi5zb2NpYWwtbGlua3NfX2Zvcm1cIikuc2hvdygpO1xuXHR9XG5cblx0ZnVuY3Rpb24gaGlkZVNvY2lhbEZvcm0oZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHQkKHRoaXMpLmNsb3Nlc3QoXCIuc29jaWFsLWxpbmtzX19mb3JtXCIpLmhpZGUoKTtcblx0fVxuXG5cdGlmICgkKFwiLmpzLW9wZW4tc29jaWFsLWZvcm1cIikubGVuZ3RoKSB7XG5cdFx0JChcIi5qcy1vcGVuLXNvY2lhbC1mb3JtXCIpLm9uKFwiY2xpY2tcIiwgc2hvd1NvY2lhbEZvcm0pO1xuXHR9XG5cdGlmICgkKFwiLmpzLWNsb3NlLWZvcm1cIikubGVuZ3RoKSB7XG5cdFx0JChcIi5qcy1jbG9zZS1mb3JtXCIpLm9uKFwiY2xpY2tcIiwgaGlkZVNvY2lhbEZvcm0pO1xuXHR9XG5cblxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0Ly8gTG9naW4gY2FyZCBmbGlwXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHQkKFwiI2ZsaXAtY2FyZFwiKS5jbGljayhmdW5jdGlvbigpIHtcblx0XHQkKFwiYm9keVwiKS5hZGRDbGFzcyhcImNhcmRfZmxpcHBlZFwiKTtcblx0fSk7XG5cblx0JChcIiN1bmZsaXAtY2FyZFwiKS5jbGljayhmdW5jdGlvbihlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdCQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwiY2FyZF9mbGlwcGVkXCIpO1xuXHR9KTtcblxuXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHQvLyBMb2dpbiBzaG93IFJlY292ZXJ5IHBhc3N3b3JkIENhcmRcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdCQoXCIjc2hvdy1yZWNvdmVyeVwiKS5jbGljayhmdW5jdGlvbihlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdCQoXCJib2R5XCIpLmFkZENsYXNzKFwic2hvd19yZWNvdmVyeVwiKTtcblx0fSk7XG5cblx0JChcIiNoaWRlLXJlY292ZXJ5XCIpLmNsaWNrKGZ1bmN0aW9uKGUpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0JChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJzaG93X3JlY292ZXJ5XCIpO1xuXHR9KTtcblxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0Ly8gRHJvcHpvbmUgKEFkZCBwaG90b3MpXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5cdGlmICgkKFwiZGl2I2Ryb3B6b25lXCIpLmxlbmd0aCkge1xuXG5cdFx0dmFyIG1heEZpbGVTaXplTWIgPSAyO1xuXG5cdFx0JChcImRpdiNkcm9wem9uZVwiKS5kcm9wem9uZSh7XG5cdFx0XHR1cmw6IFwiL1wiICxcblx0XHRcdG1heEZpbGVzaXplOiBtYXhGaWxlU2l6ZU1iXG5cdFx0fSk7XG5cdH1cblxuXHRwcmVsb2FkZXIoKTtcblxuXHRzZXRBamF4UmVzcG9uY2UuaW5pdCgpO1xuXHRpbWFnZVByZXZpZXcuaW5pdCgpO1xuXG59KShqUXVlcnkpO1xufSx7XCIuL21vZHVsZXMvYWpheC5qc1wiOjIsXCIuL21vZHVsZXMvYW5pbWF0aW9ucy5qc1wiOjMsXCIuL21vZHVsZXMvaW1hZ2VfcHJldmlldy5qc1wiOjUsXCIuL21vZHVsZXMvaW5maW5pdGVfcHJlbG9hZGVyLmpzXCI6NixcIi4vbW9kdWxlcy9tb2RhbC5qc1wiOjcsXCIuL21vZHVsZXMvc2xpZGVyLmpzXCI6OH1dLDI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuLyoqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuKiAtLS0tLSDQo9GB0YLQsNC90L7QstC60LAgYWpheC3Qt9Cw0L/RgNC+0YHQvtCyIC0tLS0tLS0tXG4qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbnZhciBzZXRBamF4UmVzcG9uY2VzID0gKGZ1bmN0aW9uKCkge1xuXG4gIGZ1bmN0aW9uIGluaXQoKSB7XG5cbiAgICAvLyDQoNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNC1INC00LDQvdC90YvRhSDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cbiAgICAkKCcjZWRpdC11c2VyLWhlYWRlcicpLm9uKCdzdWJtaXQnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCQoZS50YXJnZXQpWzBdKTtcblxuICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICB1cmw6IFwiL3VzZXIvc2F2ZWRhdGFcIixcbiAgICAgICAgICAgIGRhdGE6IGZvcm1EYXRhLFxuICAgICAgICAgICAgcHJvY2Vzc0RhdGE6IGZhbHNlLFxuICAgICAgICAgICAgY29udGVudFR5cGU6IGZhbHNlXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuZG9uZShmdW5jdGlvbiAobXNnKSB7XG4vLyBjb25zb2xlLmxvZyhtc2cpO1xuXG4gICAgICAgICAgICBpZihtc2cuc3RhdHVzID09ICdzdWNjZXNzJykge1xuICAgICAgICAgICAgICBpZihtc2cuYmFja2dyb3VuZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgJCgnLm1haW4tcGFnZScpLmNzcyh7XG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IFwidXJsKFwiK21zZy5iYWNrZ3JvdW5kK1wiKVwiXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYobXNnLmF2YXRhciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgJCgnI3VzZXItYXZhdGFyJykuYXR0cignc3JjJywgbXNnLmF2YXRhcik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgJCgnLnVzZXItaW5mb19fbmFtZScpLnRleHQoZm9ybURhdGEuZ2V0KCduYW1lJykpO1xuICAgICAgICAgICAgICAkKCcudXNlci1pbmZvX19kZXNjJykudGV4dChmb3JtRGF0YS5nZXQoJ2Rlc2NyaXB0aW9uJykpO1xuICAgICAgICAgICAgICAkKCcjc29jaWFsX19saW5rX3ZrJykuYXR0cignaHJlZicsIGZvcm1EYXRhLmdldCgndmsnKSk7XG4gICAgICAgICAgICAgICQoJyNzb2NpYWxfX2xpbmtfZmInKS5hdHRyKCdocmVmJywgZm9ybURhdGEuZ2V0KCdmYWNlYm9vaycpKTtcbiAgICAgICAgICAgICAgJCgnI3NvY2lhbF9fbGlua190dycpLmF0dHIoJ2hyZWYnLCBmb3JtRGF0YS5nZXQoJ3R3aXR0ZXInKSk7XG4gICAgICAgICAgICAgICQoJyNzb2NpYWxfX2xpbmtfZ2cnKS5hdHRyKCdocmVmJywgZm9ybURhdGEuZ2V0KCdnb29nbGUnKSk7XG4gICAgICAgICAgICAgICQoJyNzb2NpYWxfX2xpbmtfZW1haWwnKS5hdHRyKCdocmVmJywgXCJtYWlsdG86XCIrZm9ybURhdGEuZ2V0KCdlbWFpbCcpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICQoZS50YXJnZXQpLnJlbW92ZUNsYXNzKCdzaG93JykuYWRkQ2xhc3MoJ2hpZGUnKTtcbiAgICAgICAgICAgICQoJ2JvZHknKS5yZW1vdmVDbGFzcygnaGFzLW92ZXJmbG93LWhpZGRlbicpO1xuICAgICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLy8g0JTQvtCx0LDQstC70LXQvdC40LUg0LDQu9GM0LHQvtC80LBcbiAgICAkKCcjZm9ybS1hZGQtYWxidW0nKS5vbignc3VibWl0JywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgkKGUudGFyZ2V0KVswXSk7XG5jb25zb2xlLmxvZygnYWRkLWFsYnVtJyk7XG4gICAgICAkLmFqYXgoe1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICB1cmw6IFwiL2FsYnVtL3NhdmVcIixcbiAgICAgICAgZGF0YTogZm9ybURhdGEsXG4gICAgICAgIHByb2Nlc3NEYXRhOiBmYWxzZSxcbiAgICAgICAgY29udGVudFR5cGU6IGZhbHNlXG4gICAgICB9KVxuICAgICAgLmRvbmUoZnVuY3Rpb24gKG1zZykge1xuICAgICAgICBjb25zb2xlLmxvZyhtc2cpO1xuICAgICAgfSlcbiAgICB9KVxuXG4gIH1cbiAgXG4gIHJldHVybiB7XG4gICAgaW5pdDogaW5pdFxuICB9XG59KCkpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaW5pdDogc2V0QWpheFJlc3BvbmNlcy5pbml0XG59O1xufSx7fV0sMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIEFuaW1hdGUgZWxlbWVudHMgb24gc2Nyb2xsLiBCYXNlZCBvbiB3YXlwb2ludHMuanNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxudmFyIGFuaW1hdGVDc3MgPSBmdW5jdGlvbiAoaW5fZWZmZWN0KSB7XG5cdCQodGhpcykuZWFjaChmdW5jdGlvbigpIHtcblx0XHR2YXIgZWxlbSA9ICQodGhpcyk7XG5cdFx0ZWxlbS5jc3Moe29wYWNpdHk6MH0pXG5cdFx0XHQuYWRkQ2xhc3MoXCJhbmltYXRlZFwiKVxuXHRcdFx0LndheXBvaW50KGZ1bmN0aW9uKGRpcikge1xuXHRcdFx0XHRpZiAoZGlyID09PSBcImRvd25cIikge1xuXHRcdFx0XHRcdGVsZW0uYWRkQ2xhc3MoaW5fZWZmZWN0KS5jc3Moe29wYWNpdHk6MX0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRvZmZzZXQ6IFwiOTAlXCJcblx0XHRcdH0pO1xuXHR9KTtcbn07XG5cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFNob3cgb3dlcmxheSBsYXllciB3aGVuIHNwZWNpZmllZCBsaW5rIGhhcyBiZWVuIGNsaWNrZWRcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5mdW5jdGlvbiBmYWRlUGFnZU9uIChsaW5rX3NlbGVjdG9yLCBvdmVybGF5X3NlbGVjdG9yLCB0aW1lKXtcblx0JChkb2N1bWVudCkub24oXCJjbGlja1wiLCBsaW5rX3NlbGVjdG9yLCBmdW5jdGlvbihlKSB7XG5cdFx0dmFyIGhyZWYgPSAkKHRoaXMpLmF0dHIoXCJocmVmXCIpO1xuXHRcdGlmKGhyZWZbMF0hPVwiI1wiKXtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0cmV0dXJuICQob3ZlcmxheV9zZWxlY3Rvcilcblx0XHRcdFx0LmZhZGVJbih0aW1lLCBmdW5jdGlvbigpe1xuXHRcdFx0XHRcdHJldHVybiBkb2N1bWVudC5sb2NhdGlvbiA9IGhyZWYgIT0gbnVsbCA/IGhyZWYgOiBcIi9cIjtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG5cdGFuaW1hdGVDc3MgOiBhbmltYXRlQ3NzLFxuXHRmYWRlUGFnZU9uIDogZmFkZVBhZ2VPblxufTtcbn0se31dLDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBDaGVjayBicm93c2VyIHNjcm9sbGJhciB3aWR0aFxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG52YXIgZ2V0U2Nyb2xsYmFyV2lkdGggPSBmdW5jdGlvbiAoKXtcblx0dmFyIHN0eWxlID0ge1wibWF4LWhlaWdodFwiOlwiMTAwcHhcIiwgXCJvdmVyZmxvd1wiOlwic2Nyb2xsXCIsIFwicG9zaXRpb25cIjpcImFic29sdXRlXCJ9LFxuXHRcdHdyYXBwZXIgPSAkKFwiPGRpdiBpZD0nc2Nyb2xsX2Jhcl9jaGVja19BJz48L2Rpdj5cIikuY3NzKHN0eWxlKSxcblx0XHRpbm5lciA9ICQoXCI8ZGl2IGlkPSdzY3JvbGxfYmFyX2NoZWNrX0InPjwvZGl2PlwiKSxcblx0XHRzdHJldGNoZXIgPSAkKFwiPGltZyBzcmM9Jy9hc3NldHMvaW1nL2ZvcmNlLXNjcm9sbC5wbmcnLz5cIiksXG5cdFx0c2Nyb2xsQmFyV2lkdGggPSAwO1xuXG5cdHdyYXBwZXIuYXBwZW5kKHN0cmV0Y2hlcikuYXBwZW5kKGlubmVyKTtcblx0JChcImJvZHlcIikuYXBwZW5kKHdyYXBwZXIpO1xuXG5cdHNjcm9sbEJhcldpZHRoID0gd3JhcHBlci53aWR0aCgpLWlubmVyLndpZHRoKCk7XG5cdHdyYXBwZXIucmVtb3ZlKCk7XG5cblx0cmV0dXJuIHNjcm9sbEJhcldpZHRoO1xufTtcblxuXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gQ2hlY2sgSUUgdmVyc2lvblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG52YXIgaWVWZXJzaW9uID0gZnVuY3Rpb24gKCkge1xuXHR2YXIgdWEgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDtcblxuXHR2YXIgbXNpZSA9IHVhLmluZGV4T2YoXCJNU0lFIFwiKTtcblx0aWYgKG1zaWUgPiAwKSB7XG5cdFx0Ly8gSUUgMTAgb3Igb2xkZXIgPT4gcmV0dXJuIHZlcnNpb24gbnVtYmVyXG5cdFx0cmV0dXJuIHBhcnNlSW50KHVhLnN1YnN0cmluZyhtc2llICsgNSwgdWEuaW5kZXhPZihcIi5cIiwgbXNpZSkpLCAxMCk7XG5cdH1cblxuXHR2YXIgdHJpZGVudCA9IHVhLmluZGV4T2YoXCJUcmlkZW50L1wiKTtcblx0aWYgKHRyaWRlbnQgPiAwKSB7XG5cdFx0Ly8gSUUgMTEgPT4gcmV0dXJuIHZlcnNpb24gbnVtYmVyXG5cdFx0dmFyIHJ2ID0gdWEuaW5kZXhPZihcInJ2OlwiKTtcblx0XHRyZXR1cm4gcGFyc2VJbnQodWEuc3Vic3RyaW5nKHJ2ICsgMywgdWEuaW5kZXhPZihcIi5cIiwgcnYpKSwgMTApO1xuXHR9XG5cblx0dmFyIGVkZ2UgPSB1YS5pbmRleE9mKFwiRWRnZS9cIik7XG5cdGlmIChlZGdlID4gMCkge1xuXHRcdC8vIEVkZ2UgKElFIDEyKykgPT4gcmV0dXJuIHZlcnNpb24gbnVtYmVyXG5cdFx0cmV0dXJuIHBhcnNlSW50KHVhLnN1YnN0cmluZyhlZGdlICsgNSwgdWEuaW5kZXhPZihcIi5cIiwgZWRnZSkpLCAxMCk7XG5cdH1cblxuXHQvLyBvdGhlciBicm93c2VyXG5cdHJldHVybiBmYWxzZTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuXHRnZXRTY3JvbGxiYXJXaWR0aCA6IGdldFNjcm9sbGJhcldpZHRoLFxuXHRpZVZlcnNpb24gOiBpZVZlcnNpb25cbn1cbn0se31dLDU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuLyoqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogLS0tLS0g0J/QvtC00LrQu9GO0YfQtdC90LjQtSDQv9GA0LXQtNC/0YDQvtGB0LzQvtGC0YDQsCDRhNC+0YLQviDQuCDRhNC+0L3QsCAtLS0tLS0tLVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG52YXIgaW1hZ2VQcmV2aWV3ID0gKGZ1bmN0aW9uKCkge1xuXG4gIGZ1bmN0aW9uIGluaXQoKSB7XG5cbiAgICAvLyBBdmF0YXIgcHJldmlld1xuICAgICQoJyNpbnB1dF9hdmF0YXInKS5vbignY2hhbmdlJywgZnVuY3Rpb24oKXtcbiAgICAgIHZhciBpbnB1dCA9IHRoaXMsXG4gICAgICAgICAgYXZhdGFyID0gJCgnI3ByZXZpZXdfYXZhdGFyJyk7XG5cbiAgICAgIGlmIChpbnB1dC5maWxlcyAmJiBpbnB1dC5maWxlc1swXSkge1xuICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcblxuICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24oZSl7XG4gICAgICAgICAgYXZhdGFyLmF0dHIoXCJzcmNcIiwgZS50YXJnZXQucmVzdWx0KTtcbiAgICAgICAgfTtcblxuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChpbnB1dC5maWxlc1swXSk7XG5cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIEJhY2tncm91bmQgcHJldmlld1xuICAgICQoJyNpbnB1dF9iYWNrZ3JvdW5kJykub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgaW5wdXQgPSB0aGlzLFxuICAgICAgICAgIGJnID0gJCgnI2JnLWVkaXQtdXNlcicpO1xuXG4gICAgICBpZiAoaW5wdXQuZmlsZXMgJiYgaW5wdXQuZmlsZXNbMF0pIHtcbiAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG5cbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGUpe1xuICAgICAgICAgIGJnLmNzcyh7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IFwidXJsKFwiKyBlLnRhcmdldC5yZXN1bHQgK1wiKVwiXG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoaW5wdXQuZmlsZXNbMF0pO1xuXG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGluaXQ6IGluaXRcbiAgfVxufSgpKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGluaXQ6IGltYWdlUHJldmlldy5pbml0XG59O1xufSx7fV0sNjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFByZWxvYWRlciB3aXRoIHBlcmNlbnRhZ2UgYnkgaW1hZ2UgY291bnRcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxudmFyXHRwcmVsb2FkZXJfY29udGFpbmVyID0gJChcIiNwcmVsb2FkZXJcIiksXG5cdHByZWxvYWRlcl9wZXJjZW50YWdlID0gJChcIiNwcmVsb2FkZXJfX3BlcmNlbnRhZ2VcIiksXG5cdGhhc0ltYWdlUHJvcGVydGllcyA9IFtcImJhY2tncm91bmRcIiwgXCJiYWNrZ3JvdW5kSW1hZ2VcIiwgXCJsaXN0U3R5bGVJbWFnZVwiLCBcImJvcmRlckltYWdlXCIsIFwiYm9yZGVyQ29ybmVySW1hZ2VcIiwgXCJjdXJzb3JcIl0sXG5cdGhhc0ltYWdlQXR0cmlidXRlcyA9IFtcInNyY3NldFwiXSxcblx0bWF0Y2hfdXJsID0gL3VybFxcKFxccyooWydcIl0/KSguKj8pXFwxXFxzKlxcKS9nLFxuXHRhbGxfaW1hZ2VzID0gW10sXG5cdHRvdGFsID0gMCxcblx0Y291bnQgPSAwO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHByZWxvYWRlcigpIHtcblxuXHRmdW5jdGlvbiBpbWdfbG9hZGVkKCl7XG5cdFx0dmFyIHBlcmNlbnRhZ2UgPSBNYXRoLmNlaWwoIChjb3VudCsxKSAvIHRvdGFsICogMTAwICk7XG5cdFx0Y291bnQgKz0gMTtcblx0XHRwZXJjZW50YWdlID0gcGVyY2VudGFnZSA+IDEwMCA/IDEwMCA6IHBlcmNlbnRhZ2U7XG5cdFx0cHJlbG9hZGVyX3BlcmNlbnRhZ2UuaHRtbChwZXJjZW50YWdlKTtcblxuXHRcdGlmKGNvdW50ID09PSB0b3RhbCl7XG5cdFx0XHRyZXR1cm4gZG9uZV9sb2FkaW5nKCk7XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gZG9uZV9sb2FkaW5nKCl7XG5cdFx0cHJlbG9hZGVyX3BlcmNlbnRhZ2UuY3NzKHtcImFuaW1hdGlvblwiOlwibm9uZVwifSk7XG5cdFx0cHJlbG9hZGVyX2NvbnRhaW5lci5kZWxheSg3MDApLmZhZGVPdXQoNzAwLCBmdW5jdGlvbigpe1xuXHRcdFx0Ly8gQ2FsbGJhY2tzLCBlLmcuOlxuXHRcdFx0cHJlbG9hZGVyX3BlcmNlbnRhZ2UucmVtb3ZlKCk7XG5cdFx0fSk7XG5cdH1cblxuXHRmdW5jdGlvbiBpbWFnZXNfbG9vcCAodG90YWwpIHtcblx0XHRmb3IodmFyIGk9MDsgaTx0b3RhbDsgaSsrKXtcblx0XHRcdHZhciB0ZXN0X2ltYWdlID0gbmV3IEltYWdlKCk7XG5cblx0XHRcdHRlc3RfaW1hZ2Uub25sb2FkID0gaW1nX2xvYWRlZDtcblx0XHRcdHRlc3RfaW1hZ2Uub25lcnJvciA9IGltZ19sb2FkZWQ7XG5cblx0XHRcdGlmIChhbGxfaW1hZ2VzW2ldLnNyY3NldCkge1xuXHRcdFx0XHR0ZXN0X2ltYWdlLnNyY3NldCA9IGFsbF9pbWFnZXNbaV0uc3Jjc2V0O1xuXHRcdFx0fVxuXG5cdFx0XHR0ZXN0X2ltYWdlLnNyYyA9IGFsbF9pbWFnZXNbaV0uc3JjO1xuXHRcdH1cblx0fVxuXG5cdC8vIEdldCBhbGwgaW1hZ2VzXG5cdCQoXCIqXCIpLmVhY2goZnVuY3Rpb24gKCkge1xuXHRcdHZhciBlbGVtZW50ID0gJCh0aGlzKTtcblxuXHRcdGlmIChlbGVtZW50LmlzKFwiaW1nXCIpICYmIGVsZW1lbnQuYXR0cihcInNyY1wiKSkge1xuXHRcdFx0YWxsX2ltYWdlcy5wdXNoKHtcblx0XHRcdFx0c3JjOiBlbGVtZW50LmF0dHIoXCJzcmNcIiksXG5cdFx0XHRcdGVsZW1lbnQ6IGVsZW1lbnRbMF1cblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdCQuZWFjaChoYXNJbWFnZVByb3BlcnRpZXMsIGZ1bmN0aW9uIChpLCBwcm9wZXJ0eSkge1xuXHRcdFx0dmFyIHByb3BlcnR5VmFsdWUgPSBlbGVtZW50LmNzcyhwcm9wZXJ0eSk7XG5cdFx0XHR2YXIgbWF0Y2g7XG5cblx0XHRcdGlmICghcHJvcGVydHlWYWx1ZSkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdFx0bWF0Y2ggPSBtYXRjaF91cmwuZXhlYyhwcm9wZXJ0eVZhbHVlKTtcblx0XHRcdFxuXHRcdFx0aWYgKG1hdGNoKSB7XG5cdFx0XHRcdGFsbF9pbWFnZXMucHVzaCh7XG5cdFx0XHRcdFx0c3JjOiBtYXRjaFsyXSxcblx0XHRcdFx0XHRlbGVtZW50OiBlbGVtZW50WzBdXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0JC5lYWNoKGhhc0ltYWdlQXR0cmlidXRlcywgZnVuY3Rpb24gKGksIGF0dHJpYnV0ZSkge1xuXHRcdFx0dmFyIGF0dHJpYnV0ZVZhbHVlID0gZWxlbWVudC5hdHRyKGF0dHJpYnV0ZSk7XG5cblx0XHRcdGlmICghYXR0cmlidXRlVmFsdWUpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdGFsbF9pbWFnZXMucHVzaCh7XG5cdFx0XHRcdHNyYzogZWxlbWVudC5hdHRyKFwic3JjXCIpLFxuXHRcdFx0XHRzcmNzZXQ6IGVsZW1lbnQuYXR0cihcInNyY3NldFwiKSxcblx0XHRcdFx0ZWxlbWVudDogZWxlbWVudFswXVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH0pO1xuXG5cdHRvdGFsID0gYWxsX2ltYWdlcy5sZW5ndGg7XG5cblx0Ly8gU3RhcnQgcHJlbG9hZGVyIG9yIGV4aXRcblx0aWYgKHRvdGFsID09PSAwKSB7XG5cdFx0cHJlbG9hZGVyX3BlcmNlbnRhZ2UuaHRtbCgxMDApO1xuXHRcdGRvbmVfbG9hZGluZygpO1xuXHR9IGVsc2Uge1xuXHRcdGltYWdlc19sb29wKHRvdGFsKTtcblx0fVxufTtcbn0se31dLDc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuZnVuY3Rpb24gaW5pdChjb250YWluZXIsIG9wZW5CdG4sIGNsb3NlQnRuKXtcblx0dmFyIG1vZGFsID0gJChjb250YWluZXIpO1xuXHR2YXIgb3BlbiA9ICQob3BlbkJ0bik7XG5cdHZhciBjbG9zZSA9IG1vZGFsLmZpbmQoY2xvc2VCdG4pO1xuXHR2YXIgYm9keSA9ICQoJ2JvZHknKTtcblxuXHRvcGVuLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpe1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRtb2RhbC5yZW1vdmVDbGFzcyhcImhpZGVcIikuYWRkQ2xhc3MoXCJzaG93XCIpO1xuXHRcdGJvZHkuYWRkQ2xhc3MoXCJoYXMtb3ZlcmZsb3ctaGlkZGVuXCIpO1xuXHR9KTtcblxuXHRjbG9zZS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKXtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0bW9kYWwuYWRkQ2xhc3MoXCJoaWRlXCIpLnJlbW92ZUNsYXNzKFwic2hvd1wiKTtcblx0XHRib2R5LnJlbW92ZUNsYXNzKCdoYXMtb3ZlcmZsb3ctaGlkZGVuJyk7XG5cdH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG5cdGluaXQgOiBpbml0XG59O1xuXG5cbn0se31dLDg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuaGVscGVycyA9IHJlcXVpcmUoXCIuL2hlbHBlcnMuanNcIik7XG5cbnZhciBzY3JvbGxiYXJfd2lkdGggPSBoZWxwZXJzLmdldFNjcm9sbGJhcldpZHRoKCksXG5cdHNsaWRlcixcblx0Y3VycmVudCxcblx0cmVzaXplVGltZW91dCxcblx0cmVzaXplRGVsdGEgPSAxMDA7XG5cbmZ1bmN0aW9uIGluaXQoY29udGFpbmVyLCBvcGVuQnRuLCBjbG9zZUJ0biwgbmV4dEJ0biwgcHJldkJ0bil7XG5cdHNsaWRlciA9ICQoY29udGFpbmVyKTtcblxuXHR2YXIgb3BlbiA9ICQob3BlbkJ0biksXG5cdFx0Y2xvc2UgPSBzbGlkZXIuZmluZChjbG9zZUJ0biksXG5cdFx0bmV4dCA9IHNsaWRlci5maW5kKG5leHRCdG4pLFxuXHRcdHByZXYgPSBzbGlkZXIuZmluZChwcmV2QnRuKSxcblx0XHRib2R5ID0gJCgnaHRtbCcpO1xuXG5cdG9wZW4ub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZSl7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0Y3VycmVudCA9ICQodGhpcykuY2xvc2VzdCgnLnBob3RvLWl0ZW0nKTtcblx0XHRzaG93U2xpZGUoY3VycmVudCk7XG5cblx0XHRzbGlkZXIucmVtb3ZlQ2xhc3MoXCJoaWRlXCIpLmFkZENsYXNzKFwic2hvd1wiKTtcblx0XHRib2R5LmFkZENsYXNzKCdoYXMtb3ZlcmZsb3ctaGlkZGVuJylcblx0XHRcdC5jc3Moe1wicGFkZGluZy1yaWdodFwiIDogc2Nyb2xsYmFyX3dpZHRofSk7XG5cdH0pO1xuXG5cdGNsb3NlLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpe1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRzbGlkZXIuYWRkQ2xhc3MoXCJoaWRlXCIpLnJlbW92ZUNsYXNzKFwic2hvd1wiKTtcblx0XHRib2R5LnJlbW92ZUNsYXNzKCdoYXMtb3ZlcmZsb3ctaGlkZGVuJylcblx0XHRcdC5jc3Moe1wicGFkZGluZy1yaWdodFwiIDogMH0pO1xuXHR9KTtcblxuXHRuZXh0Lm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpe1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRzaG93TmV4dCgpO1xuXHR9KTtcblxuXHRwcmV2Lm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpe1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRzaG93UHJldigpO1xuXHR9KTtcblxufTtcblxuZnVuY3Rpb24gYWp1c3RJbWdIZWlnaHQoKXtcblx0Ly8gSGVpZ2h0IGFuaW1hdGlvblxuXHR2YXIgc2xpZGVyUGhvdG8gPSBzbGlkZXIuZmluZCgnLnNsaWRlcl9fcGhvdG8nKSxcblx0XHRzbGlkZUhlaWdodCA9IHNsaWRlci5maW5kKCcuc2xpZGVyX19pbWcnKS5oZWlnaHQoKTtcblxuXHRzbGlkZXJQaG90by5hbmltYXRlKHtcblx0XHQnaGVpZ2h0Jzogc2xpZGVIZWlnaHRcblx0fSwgMzAwKTtcbn1cblxuZnVuY3Rpb24gc2hvd05leHQoKXtcblx0dmFyIG5leHRTbGlkZSA9IGN1cnJlbnQubmV4dCgnLnBob3RvLWl0ZW0nKTtcblx0aWYgKG5leHRTbGlkZS5sZW5ndGgpIHtcblx0XHRzaG93U2xpZGUobmV4dFNsaWRlKTtcblx0XHRjdXJyZW50ID0gbmV4dFNsaWRlO1xuXHR9XG59O1xuXG5mdW5jdGlvbiBzaG93UHJldigpe1xuXHR2YXIgcHJldlNsaWRlID0gY3VycmVudC5wcmV2KCcucGhvdG8taXRlbScpO1xuXHRpZiAocHJldlNsaWRlLmxlbmd0aCkge1xuXHRcdHNob3dTbGlkZShwcmV2U2xpZGUpO1xuXHRcdGN1cnJlbnQgPSBwcmV2U2xpZGU7XG5cdH1cbn07XG5cbmZ1bmN0aW9uIHNob3dTbGlkZShfaXRlbSl7XG5cdHZhciBpbWdfdGh1bWIgPSBfaXRlbS5kYXRhKCd0aHVtYicpO1xuXHRcdGltZ190aXRsZSA9IF9pdGVtLmRhdGEoJ3RpdGxlJyksXG5cdFx0aW1nX2xpa2VzID0gX2l0ZW0uZGF0YSgnbGlrZXMnKSxcblx0XHRpbWdfdXNlcl9uYW1lID0gX2l0ZW0uZGF0YSgndXNlcl9uYW1lJyksXG5cdFx0aW1nX3VzZXJfYXZhdGFyID0gX2l0ZW0uZGF0YSgndXNlcl9hdmF0YXInKSxcblx0XHRpbWdfZGVzYyA9IF9pdGVtLmRhdGEoJ2Rlc2MnKSxcblx0XHRjb21tZW50c19ob2xkZXIgPSBzbGlkZXIuZmluZCgnLmNvbW1lbnRzX19ob2xkZXInKSxcblx0XHRpbWdfY29tbWVudHMgPSBfaXRlbS5maW5kKCcuY29tbWVudHNfX2l0ZW0nKTtcblxuXHQvLyDQntGH0LjRidC10L3QuNC1INCx0LvQvtC60LAg0LTQu9GPINC60L7QvNC80LXQvdGC0LDRgNC40LXQslxuXHRjb21tZW50c19ob2xkZXIuaHRtbCgnJyk7XG5cblx0Ly8g0JTQvtCx0LDQstC70LXQvdC40LUg0LrQvtC80LzQtdC90YLQsNGA0LjQtdCyXG5cdGltZ19jb21tZW50cy5lYWNoKGZ1bmN0aW9uKGtleSwgdmFsdWUpe1xuXHRcdGNvbW1lbnRzX2hvbGRlci5hcHBlbmQodmFsdWUpO1xuXHR9KTtcblxuXG5cdHZhciBpbWdfZGVzYyA9IF9pdGVtLmRhdGEoJ2Rlc2MnKTtcblxuXHRzbGlkZXIuZmluZCgnLnNsaWRlcl9faW1nJykuYXR0cignc3JjJywgaW1nX3RodW1iKTtcblx0c2xpZGVyLmZpbmQoJy5zbGlkZXJfX3RpdGxlJykuaHRtbChpbWdfdGl0bGUpO1xuXHRzbGlkZXIuZmluZCgnLmxpa2VzX19jb3VudCcpLmh0bWwoaW1nX2xpa2VzKTtcblx0c2xpZGVyLmZpbmQoJy5zbGlkZXJfX3RleHQnKS5odG1sKGltZ19kZXNjKTtcblx0c2xpZGVyLmZpbmQoJy5zbGlkZXJfX2F1dGhvci1uYW1lJykuaHRtbChpbWdfdXNlcl9uYW1lKTtcblx0c2xpZGVyLmZpbmQoJy5zbGlkZXJfX2F1dGhvci1waG90byBpbWcnKS5hdHRyKCdzcmMnLCBpbWdfdXNlcl9hdmF0YXIpO1xuXG5cdGFqdXN0SW1nSGVpZ2h0KCk7XG59XG5cbiQod2luZG93KS5yZXNpemUoZnVuY3Rpb24oKXtcblx0Y2xlYXJUaW1lb3V0KHJlc2l6ZVRpbWVvdXQpO1xuXHRyZXNpemVUaW1lb3V0ID0gc2V0VGltZW91dChhanVzdEltZ0hlaWdodCwgcmVzaXplRGVsdGEpO1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuXHRpbml0IDogaW5pdCxcblx0c2hvd05leHQ6IHNob3dOZXh0LFxuXHRzaG93UHJldjogc2hvd1ByZXZcbn07XG5cblxufSx7XCIuL2hlbHBlcnMuanNcIjo0fV19LHt9LFsxXSk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
