!function e(t,n,i){function o(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(r)return r(a,!0);var d=new Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return o(n?n:e)},c,c.exports,e,t,n,i)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(e,t,n){!function(t){"use strict";function n(e){e.preventDefault(),t(".photo-editing").slideUp(300),t(".photo-removing").slideDown(300)}function i(e){e.preventDefault(),t(".photo-removing").slideUp(300),t(".photo-editing").slideDown(300)}function o(e){e.preventDefault();var n=t(this).closest(".social-links__item");n.siblings().find(".social-links__form").hide(),n.find(".social-links__form").show()}function r(e){e.preventDefault(),t(this).closest(".social-links__form").hide()}var a=e("./modules/infinite_preloader.js"),s=e("./modules/modal.js"),l=e("./modules/slider.js"),d=e("./modules/animations.js"),c=e("./modules/ajax.js"),u=e("./modules/image_preview.js");if(t("#scene.axis").length&&t("#scene.axis").parallax({scalarX:3,scalarY:3,frictionX:.5,frictionY:.5}),t("#go-up").click(function(){t("html, body").stop().animate({scrollTop:0},700,"swing")}),d.fadePageOn("a.preload-link","#preloader",300),t.fn.animated=d.animateCss,t(".album-item").animated("fadeIn"),t(".photo-item").animated("fadeIn"),t(".js-add-album").length&&s.init("#add-album-modal",".js-add-album",".js-close-modal"),t(".js-add-photos").length&&s.init("#add-photos-modal",".js-add-photos",".js-close-modal"),t(".js-edit-photo").length&&s.init("#edit-photo-modal",".js-edit-photo",".js-close-modal"),t(".js-edit-user").length&&s.init("#edit-user-modal",".js-edit-user",".js-close-modal"),t(".js-edit-user-header").length&&s.init("#edit-user-header",".js-edit-user-header",".js-close-header"),t(".js-edit-album-header").length&&s.init("#edit-album-header",".js-edit-album-header",".js-close-header"),t(".js-show-photo-removing").length&&t(".js-show-photo-removing").on("click",n),t(".js-hide-photo-removing").length&&t(".js-hide-photo-removing").on("click",i),t(".js-open-slider").length>0&&l.init("#slider",".js-open-slider",".js-close-slider",".js-slider-next",".js-slider-prev"),t(".js-open-social-form").length&&t(".js-open-social-form").on("click",o),t(".js-close-form").length&&t(".js-close-form").on("click",r),t("#flip-card").click(function(){t("body").addClass("card_flipped")}),t("#unflip-card").click(function(e){e.preventDefault(),t("body").removeClass("card_flipped")}),t("#show-recovery").click(function(e){e.preventDefault(),t("body").addClass("show_recovery")}),t("#hide-recovery").click(function(e){e.preventDefault(),t("body").removeClass("show_recovery")}),t("div#dropzone").length){var f=2;t("div#dropzone").dropzone({url:"/",maxFilesize:f})}a(),c.init(),u.init()}(jQuery)},{"./modules/ajax.js":2,"./modules/animations.js":3,"./modules/image_preview.js":5,"./modules/infinite_preloader.js":6,"./modules/modal.js":7,"./modules/slider.js":8}],2:[function(e,t,n){var i=function(){function e(){$("#edit-user-header").on("submit",function(e){e.preventDefault();var t=new FormData($(e.target)[0]);$.ajax({method:"POST",url:"/user/savedata",data:t,processData:!1,contentType:!1}).done(function(n){"success"==n.status&&(void 0!==n.background&&$(".main-page").css({backgroundImage:"url("+n.background+")"}),void 0!==n.avatar&&$("#user-avatar").attr("src",n.avatar),$(".user-info__name").text(t.get("name")),$(".user-info__desc").text(t.get("description")),$("#social__link_vk").attr("href",t.get("vk")),$("#social__link_fb").attr("href",t.get("facebook")),$("#social__link_tw").attr("href",t.get("twitter")),$("#social__link_gg").attr("href",t.get("google")),$("#social__link_email").attr("href","mailto:"+t.get("email"))),$(e.target).removeClass("show").addClass("hide"),$("body").removeClass("has-overflow-hidden")})}),$("#form-add-album").on("submit",function(e){e.preventDefault();var t=new FormData($(e.target)[0]);console.log("add-album"),$.ajax({method:"POST",url:"/album/save",data:t,processData:!1,contentType:!1}).done(function(e){console.log(e)})})}return{init:e}}();t.exports={init:i.init}},{}],3:[function(e,t,n){function i(e,t,n){$(document).on("click",e,function(e){var i=$(this).attr("href");if("#"!=i[0])return e.preventDefault(),$(t).fadeIn(n,function(){return document.location=null!=i?i:"/"})})}var o=function(e){$(this).each(function(){var t=$(this);t.css({opacity:0}).addClass("animated").waypoint(function(n){"down"===n&&t.addClass(e).css({opacity:1})},{offset:"90%"})})};t.exports={animateCss:o,fadePageOn:i}},{}],4:[function(e,t,n){var i=function(){var e={"max-height":"100px",overflow:"scroll",position:"absolute"},t=$("<div id='scroll_bar_check_A'></div>").css(e),n=$("<div id='scroll_bar_check_B'></div>"),i=$("<img src='/assets/img/force-scroll.png'/>"),o=0;return t.append(i).append(n),$("body").append(t),o=t.width()-n.width(),t.remove(),o},o=function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);var n=e.indexOf("Trident/");if(n>0){var i=e.indexOf("rv:");return parseInt(e.substring(i+3,e.indexOf(".",i)),10)}var o=e.indexOf("Edge/");return o>0&&parseInt(e.substring(o+5,e.indexOf(".",o)),10)};t.exports={getScrollbarWidth:i,ieVersion:o}},{}],5:[function(e,t,n){var i=function(){function e(){$("#input_avatar").on("change",function(){var e=this,t=$("#preview_avatar");if(e.files&&e.files[0]){var n=new FileReader;n.onload=function(e){t.attr("src",e.target.result)},n.readAsDataURL(e.files[0])}}),$("#input_background").on("change",function(){var e=this,t=$("#bg-edit-user");if(e.files&&e.files[0]){var n=new FileReader;n.onload=function(e){t.css({backgroundImage:"url("+e.target.result+")"})},n.readAsDataURL(e.files[0])}})}return{init:e}}();t.exports={init:i.init}},{}],6:[function(e,t,n){var i=($("#preloader"),$("#preloader__percentage")),o=["background","backgroundImage","listStyleImage","borderImage","borderCornerImage","cursor"],r=["srcset"],a=/url\(\s*(['"]?)(.*?)\1\s*\)/g,s=[],l=0,d=0;t.exports=function(){function e(){var e=Math.ceil((d+1)/l*100);if(d+=1,e=e>100?100:e,i.html(e),d===l)return t()}function t(){i.css({animation:"none"})}function n(t){for(var n=0;n<t;n++){var i=new Image;i.onload=e,i.onerror=e,s[n].srcset&&(i.srcset=s[n].srcset),i.src=s[n].src}}$("*").each(function(){var e=$(this);e.is("img")&&e.attr("src")&&s.push({src:e.attr("src"),element:e[0]}),$.each(o,function(t,n){var i,o=e.css(n);return!o||(i=a.exec(o),void(i&&s.push({src:i[2],element:e[0]})))}),$.each(r,function(t,n){var i=e.attr(n);return!i||void s.push({src:e.attr("src"),srcset:e.attr("srcset"),element:e[0]})})}),l=s.length,0===l?(i.html(100),t()):n(l)}},{}],7:[function(e,t,n){function i(e,t,n){var i=$(e),o=$(t),r=i.find(n),a=$("body");o.on("click",function(e){e.preventDefault(),i.removeClass("hide").addClass("show"),a.addClass("has-overflow-hidden")}),r.on("click",function(e){e.preventDefault(),i.addClass("hide").removeClass("show"),a.removeClass("has-overflow-hidden")})}t.exports={init:i}},{}],8:[function(e,t,n){function i(e,t,n,i,o){l=$(e);var c=$(t),f=l.find(n),m=l.find(i),h=l.find(o),p=$("html");c.on("click",function(e){e.preventDefault(),d=$(this).closest(".photo-item"),s(d),l.removeClass("hide").addClass("show"),p.addClass("has-overflow-hidden").css({"padding-right":u})}),f.on("click",function(e){e.preventDefault(),l.addClass("hide").removeClass("show"),p.removeClass("has-overflow-hidden").css({"padding-right":0})}),m.on("click",function(e){e.preventDefault(),r()}),h.on("click",function(e){e.preventDefault(),a()})}function o(){var e=l.find(".slider__photo"),t=l.find(".slider__img").height();e.animate({height:t},300)}function r(){var e=d.next(".photo-item");e.length&&(s(e),d=e)}function a(){var e=d.prev(".photo-item");e.length&&(s(e),d=e)}function s(e){var t=e.data("thumb");img_title=e.data("title"),img_likes=e.data("likes"),img_user_name=e.data("user_name"),img_user_avatar=e.data("user_avatar"),n=e.data("desc"),comments_holder=l.find(".comments__holder"),img_comments=e.find(".comments__item"),comments_holder.html(""),img_comments.each(function(e,t){comments_holder.append(t)});var n=e.data("desc");l.find(".slider__img").attr("src",t),l.find(".slider__title").html(img_title),l.find(".likes__count").html(img_likes),l.find(".slider__text").html(n),l.find(".slider__author-name").html(img_user_name),l.find(".slider__author-photo img").attr("src",img_user_avatar),o()}helpers=e("./helpers.js");var l,d,c,u=helpers.getScrollbarWidth(),f=100;$(window).resize(function(){clearTimeout(c),c=setTimeout(o,f)}),t.exports={init:i,showNext:r,showPrev:a}},{"./helpers.js":4}]},{},[1]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJlIiwidCIsIm4iLCJyIiwicyIsIm8iLCJ1IiwiYSIsInJlcXVpcmUiLCJpIiwiZiIsIkVycm9yIiwiY29kZSIsImwiLCJleHBvcnRzIiwiY2FsbCIsImxlbmd0aCIsIjEiLCJtb2R1bGUiLCIkIiwic2hvd1Bob3RvUmVtb3ZpbmdCbG9jayIsInByZXZlbnREZWZhdWx0Iiwic2xpZGVVcCIsInNsaWRlRG93biIsImhpZGVQaG90b1JlbW92aW5nQmxvY2siLCJzaG93U29jaWFsRm9ybSIsInNvY2lhbEl0ZW0iLCJ0aGlzIiwiY2xvc2VzdCIsInNpYmxpbmdzIiwiZmluZCIsImhpZGUiLCJzaG93IiwiaGlkZVNvY2lhbEZvcm0iLCJwcmVsb2FkZXIiLCJtb2RhbCIsInNsaWRlciIsImFuaW1hdGlvbnMiLCJzZXRBamF4UmVzcG9uY2UiLCJpbWFnZVByZXZpZXciLCJwYXJhbGxheCIsInNjYWxhclgiLCJzY2FsYXJZIiwiZnJpY3Rpb25YIiwiZnJpY3Rpb25ZIiwiY2xpY2siLCJzdG9wIiwiYW5pbWF0ZSIsInNjcm9sbFRvcCIsImZhZGVQYWdlT24iLCJmbiIsImFuaW1hdGVkIiwiYW5pbWF0ZUNzcyIsImluaXQiLCJvbiIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJtYXhGaWxlU2l6ZU1iIiwiZHJvcHpvbmUiLCJ1cmwiLCJtYXhGaWxlc2l6ZSIsImpRdWVyeSIsIi4vbW9kdWxlcy9hamF4LmpzIiwiLi9tb2R1bGVzL2FuaW1hdGlvbnMuanMiLCIuL21vZHVsZXMvaW1hZ2VfcHJldmlldy5qcyIsIi4vbW9kdWxlcy9pbmZpbml0ZV9wcmVsb2FkZXIuanMiLCIuL21vZHVsZXMvbW9kYWwuanMiLCIuL21vZHVsZXMvc2xpZGVyLmpzIiwiMiIsInNldEFqYXhSZXNwb25jZXMiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwidGFyZ2V0IiwiYWpheCIsIm1ldGhvZCIsImRhdGEiLCJwcm9jZXNzRGF0YSIsImNvbnRlbnRUeXBlIiwiZG9uZSIsIm1zZyIsInN0YXR1cyIsInVuZGVmaW5lZCIsImJhY2tncm91bmQiLCJjc3MiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJhdmF0YXIiLCJhdHRyIiwidGV4dCIsImdldCIsImNvbnNvbGUiLCJsb2ciLCIzIiwibGlua19zZWxlY3RvciIsIm92ZXJsYXlfc2VsZWN0b3IiLCJ0aW1lIiwiZG9jdW1lbnQiLCJocmVmIiwiZmFkZUluIiwibG9jYXRpb24iLCJpbl9lZmZlY3QiLCJlYWNoIiwiZWxlbSIsIm9wYWNpdHkiLCJ3YXlwb2ludCIsImRpciIsIm9mZnNldCIsIjQiLCJnZXRTY3JvbGxiYXJXaWR0aCIsInN0eWxlIiwibWF4LWhlaWdodCIsIm92ZXJmbG93IiwicG9zaXRpb24iLCJ3cmFwcGVyIiwiaW5uZXIiLCJzdHJldGNoZXIiLCJzY3JvbGxCYXJXaWR0aCIsImFwcGVuZCIsIndpZHRoIiwicmVtb3ZlIiwiaWVWZXJzaW9uIiwidWEiLCJ3aW5kb3ciLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJtc2llIiwiaW5kZXhPZiIsInBhcnNlSW50Iiwic3Vic3RyaW5nIiwidHJpZGVudCIsInJ2IiwiZWRnZSIsIjUiLCJpbnB1dCIsImZpbGVzIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsInJlc3VsdCIsInJlYWRBc0RhdGFVUkwiLCJiZyIsIjYiLCJwcmVsb2FkZXJfcGVyY2VudGFnZSIsImhhc0ltYWdlUHJvcGVydGllcyIsImhhc0ltYWdlQXR0cmlidXRlcyIsIm1hdGNoX3VybCIsImFsbF9pbWFnZXMiLCJ0b3RhbCIsImNvdW50IiwiaW1nX2xvYWRlZCIsInBlcmNlbnRhZ2UiLCJNYXRoIiwiY2VpbCIsImh0bWwiLCJkb25lX2xvYWRpbmciLCJhbmltYXRpb24iLCJpbWFnZXNfbG9vcCIsInRlc3RfaW1hZ2UiLCJJbWFnZSIsIm9uZXJyb3IiLCJzcmNzZXQiLCJzcmMiLCJlbGVtZW50IiwiaXMiLCJwdXNoIiwicHJvcGVydHkiLCJtYXRjaCIsInByb3BlcnR5VmFsdWUiLCJleGVjIiwiYXR0cmlidXRlIiwiYXR0cmlidXRlVmFsdWUiLCI3IiwiY29udGFpbmVyIiwib3BlbkJ0biIsImNsb3NlQnRuIiwib3BlbiIsImNsb3NlIiwiYm9keSIsIjgiLCJuZXh0QnRuIiwicHJldkJ0biIsIm5leHQiLCJwcmV2IiwiY3VycmVudCIsInNob3dTbGlkZSIsInBhZGRpbmctcmlnaHQiLCJzY3JvbGxiYXJfd2lkdGgiLCJzaG93TmV4dCIsInNob3dQcmV2IiwiYWp1c3RJbWdIZWlnaHQiLCJzbGlkZXJQaG90byIsInNsaWRlSGVpZ2h0IiwiaGVpZ2h0IiwibmV4dFNsaWRlIiwicHJldlNsaWRlIiwiX2l0ZW0iLCJpbWdfdGh1bWIiLCJpbWdfdGl0bGUiLCJpbWdfbGlrZXMiLCJpbWdfdXNlcl9uYW1lIiwiaW1nX3VzZXJfYXZhdGFyIiwiaW1nX2Rlc2MiLCJjb21tZW50c19ob2xkZXIiLCJpbWdfY29tbWVudHMiLCJrZXkiLCJ2YWx1ZSIsImhlbHBlcnMiLCJyZXNpemVUaW1lb3V0IiwicmVzaXplRGVsdGEiLCJyZXNpemUiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiLi9oZWxwZXJzLmpzIl0sIm1hcHBpbmdzIjoiQ0FBQSxRQUFVQSxHQUFFQyxFQUFFQyxFQUFFQyxHQUFHLFFBQVNDLEdBQUVDLEVBQUVDLEdBQUcsSUFBSUosRUFBRUcsR0FBRyxDQUFDLElBQUlKLEVBQUVJLEdBQUcsQ0FBQyxHQUFJRSxHQUFrQixrQkFBVEMsVUFBcUJBLE9BQVEsS0FBSUYsR0FBR0MsRUFBRSxNQUFPQSxHQUFFRixHQUFFLEVBQUksSUFBR0ksRUFBRSxNQUFPQSxHQUFFSixHQUFFLEVBQUksSUFBSUssR0FBRSxHQUFJQyxPQUFNLHVCQUF1Qk4sRUFBRSxJQUFLLE1BQU1LLEdBQUVFLEtBQUssbUJBQW1CRixFQUFFLEdBQUlHLEdBQUVYLEVBQUVHLElBQUlTLFdBQVliLEdBQUVJLEdBQUcsR0FBR1UsS0FBS0YsRUFBRUMsUUFBUSxTQUFTZCxHQUFHLEdBQUlFLEdBQUVELEVBQUVJLEdBQUcsR0FB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S0FHNUM3TCxFQUFPSixTQUNOdUMsS0FBT0EsRUFDUHFJLFNBQVVBLEVBQ1ZDLFNBQVVBLEtBSVJ3QixlQUFlLFNBQVMiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkoezE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uKCQpIHtcclxuXHRcInVzZSBzdHJpY3RcIjtcclxuXHJcblx0dmFyIHByZWxvYWRlciA9IHJlcXVpcmUoXCIuL21vZHVsZXMvaW5maW5pdGVfcHJlbG9hZGVyLmpzXCIpLFxyXG5cdFx0Ly8gaGVscGVycyA9IHJlcXVpcmUoXCIuL21vZHVsZXMvaGVscGVycy5qc1wiKSxcclxuXHRcdG1vZGFsID0gcmVxdWlyZShcIi4vbW9kdWxlcy9tb2RhbC5qc1wiKSxcclxuXHRcdHNsaWRlciA9IHJlcXVpcmUoXCIuL21vZHVsZXMvc2xpZGVyLmpzXCIpLFxyXG5cdFx0YW5pbWF0aW9ucyA9IHJlcXVpcmUoXCIuL21vZHVsZXMvYW5pbWF0aW9ucy5qc1wiKSxcclxuXHRcdHNldEFqYXhSZXNwb25jZSA9IHJlcXVpcmUoXCIuL21vZHVsZXMvYWpheC5qc1wiKSxcclxuXHRcdGltYWdlUHJldmlldyA9IHJlcXVpcmUoXCIuL21vZHVsZXMvaW1hZ2VfcHJldmlldy5qc1wiKTtcclxuXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0Ly8gQWRhcHRpdmUgYnJlYWtwb2ludHNcclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHQvLyB2YXIgc2Nyb2xsYmFyX3dpZHRoID0gaGVscGVycy5nZXRTY3JvbGxiYXJXaWR0aCgpLFxyXG5cdC8vIFx0c2NyZWVuX3NpemVzID0ge1xyXG5cdC8vIFx0XHRtb2JpbGUgOiA0ODAgLSBzY3JvbGxiYXJfd2lkdGgsXHJcblx0Ly8gXHRcdHRhYmxldCA6IDc2OCAtIHNjcm9sbGJhcl93aWR0aCxcclxuXHQvLyBcdFx0bGltaXQgOiAyMDAwIC0gc2Nyb2xsYmFyX3dpZHRoXHJcblx0Ly8gXHR9O1xyXG5cclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHQvLyBQYXJhbGxheFxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuXHQvLyBNYWluIHBhZ2UgbW91c2UgcGFyYWxsYXhcclxuXHRpZigkKFwiI3NjZW5lLmF4aXNcIikubGVuZ3RoKXtcclxuXHRcdCQoXCIjc2NlbmUuYXhpc1wiKS5wYXJhbGxheCh7XHJcblx0XHRcdHNjYWxhclg6IDMsXHJcblx0XHRcdHNjYWxhclk6IDMsXHJcblx0XHRcdGZyaWN0aW9uWDogMC41LFxyXG5cdFx0XHRmcmljdGlvblk6IDAuNVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0Ly8gRm9vdGVyIHNjcm9sbCBidXR0b25cclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHQkKFwiI2dvLXVwXCIpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcblx0XHQkKFwiaHRtbCwgYm9keVwiKS5zdG9wKCkuYW5pbWF0ZSh7XHJcblx0XHRcdHNjcm9sbFRvcDogMFxyXG5cdFx0fSwgNzAwLCBcInN3aW5nXCIpO1xyXG5cdH0pO1xyXG5cclxuXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0Ly8gQW5pbWF0aW9ucyBleGFtcGxlXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0YW5pbWF0aW9ucy5mYWRlUGFnZU9uKFwiYS5wcmVsb2FkLWxpbmtcIiwgXCIjcHJlbG9hZGVyXCIsIDMwMCk7XHJcblxyXG5cdCQuZm4uYW5pbWF0ZWQgPSBhbmltYXRpb25zLmFuaW1hdGVDc3M7XHJcblx0JChcIi5hbGJ1bS1pdGVtXCIpLmFuaW1hdGVkKFwiZmFkZUluXCIpO1xyXG5cdCQoXCIucGhvdG8taXRlbVwiKS5hbmltYXRlZChcImZhZGVJblwiKTtcclxuXHJcblxyXG5cclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHQvLyBJbml0IEFkZCBBbGJ1bSBNb2RhbFxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdGlmICgkKFwiLmpzLWFkZC1hbGJ1bVwiKS5sZW5ndGgpIHtcclxuXHRcdG1vZGFsLmluaXQoXCIjYWRkLWFsYnVtLW1vZGFsXCIsIFwiLmpzLWFkZC1hbGJ1bVwiLCBcIi5qcy1jbG9zZS1tb2RhbFwiKTtcclxuXHR9XHJcblxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdC8vIEluaXQgQWRkIFBob3RvcyBNb2RhbFxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdGlmICgkKFwiLmpzLWFkZC1waG90b3NcIikubGVuZ3RoKSB7XHJcblx0XHRtb2RhbC5pbml0KFwiI2FkZC1waG90b3MtbW9kYWxcIiwgXCIuanMtYWRkLXBob3Rvc1wiLCBcIi5qcy1jbG9zZS1tb2RhbFwiKTtcclxuXHR9XHJcblxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdC8vIEluaXQgRWRpdCBQaG90byBNb2RhbFxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdGlmICgkKFwiLmpzLWVkaXQtcGhvdG9cIikubGVuZ3RoKSB7XHJcblx0XHRtb2RhbC5pbml0KFwiI2VkaXQtcGhvdG8tbW9kYWxcIiwgXCIuanMtZWRpdC1waG90b1wiLCBcIi5qcy1jbG9zZS1tb2RhbFwiKTtcclxuXHR9XHJcblxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdC8vIEluaXQgRWRpdCBVc2VyIE1vZGFsXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0aWYgKCQoXCIuanMtZWRpdC11c2VyXCIpLmxlbmd0aCkge1xyXG5cdFx0bW9kYWwuaW5pdChcIiNlZGl0LXVzZXItbW9kYWxcIiwgXCIuanMtZWRpdC11c2VyXCIsIFwiLmpzLWNsb3NlLW1vZGFsXCIpO1xyXG5cdH1cclxuXHJcblxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdC8vIEluaXQgRWRpdCBVc2VyIE1vZGFsIChpbiBIZWFkZXIpXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0aWYgKCQoXCIuanMtZWRpdC11c2VyLWhlYWRlclwiKS5sZW5ndGgpIHtcclxuXHRcdG1vZGFsLmluaXQoXCIjZWRpdC11c2VyLWhlYWRlclwiLCBcIi5qcy1lZGl0LXVzZXItaGVhZGVyXCIsIFwiLmpzLWNsb3NlLWhlYWRlclwiKTtcclxuXHR9XHJcblxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdC8vIEluaXQgRWRpdCBBbGJ1bSBNb2RhbCAoaW4gSGVhZGVyKVxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdGlmICgkKFwiLmpzLWVkaXQtYWxidW0taGVhZGVyXCIpLmxlbmd0aCkge1xyXG5cdFx0bW9kYWwuaW5pdChcIiNlZGl0LWFsYnVtLWhlYWRlclwiLCBcIi5qcy1lZGl0LWFsYnVtLWhlYWRlclwiLCBcIi5qcy1jbG9zZS1oZWFkZXJcIik7XHJcblx0fVxyXG5cclxuXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0Ly8gRWRpdCBVc2VyIE1vZGFsIC0gRGVsZXRlIFBob3RvXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0ZnVuY3Rpb24gc2hvd1Bob3RvUmVtb3ZpbmdCbG9jayhlKSB7XHJcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHQkKFwiLnBob3RvLWVkaXRpbmdcIikuc2xpZGVVcCgzMDApO1xyXG5cdFx0JChcIi5waG90by1yZW1vdmluZ1wiKS5zbGlkZURvd24oMzAwKTtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIGhpZGVQaG90b1JlbW92aW5nQmxvY2soZSkge1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0JChcIi5waG90by1yZW1vdmluZ1wiKS5zbGlkZVVwKDMwMCk7XHJcblx0XHQkKFwiLnBob3RvLWVkaXRpbmdcIikuc2xpZGVEb3duKDMwMCk7XHJcblx0fVxyXG5cclxuXHRpZiAoJChcIi5qcy1zaG93LXBob3RvLXJlbW92aW5nXCIpLmxlbmd0aCkge1xyXG5cdFx0JChcIi5qcy1zaG93LXBob3RvLXJlbW92aW5nXCIpLm9uKFwiY2xpY2tcIiwgc2hvd1Bob3RvUmVtb3ZpbmdCbG9jayk7XHJcblx0fVxyXG5cclxuXHRpZiAoJChcIi5qcy1oaWRlLXBob3RvLXJlbW92aW5nXCIpLmxlbmd0aCkge1xyXG5cdFx0JChcIi5qcy1oaWRlLXBob3RvLXJlbW92aW5nXCIpLm9uKFwiY2xpY2tcIiwgaGlkZVBob3RvUmVtb3ZpbmdCbG9jayk7XHJcblx0fVxyXG5cclxuXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0Ly8gSW5pdCBFZGl0IEFsYnVtIE1vZGFsIChpbiBIZWFkZXIpXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0aWYgKCQoXCIuanMtb3Blbi1zbGlkZXJcIikubGVuZ3RoID4gMCkge1xyXG5cdFx0c2xpZGVyLmluaXQoXCIjc2xpZGVyXCIsIFwiLmpzLW9wZW4tc2xpZGVyXCIsIFwiLmpzLWNsb3NlLXNsaWRlclwiLCBcIi5qcy1zbGlkZXItbmV4dFwiLCBcIi5qcy1zbGlkZXItcHJldlwiKTtcclxuXHR9XHJcblxyXG5cclxuXHJcblxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdC8vIFNob3cgU29jaWFsIEl0ZW1zIEZvcm1zXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0ZnVuY3Rpb24gc2hvd1NvY2lhbEZvcm0oZSkge1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0dmFyIHNvY2lhbEl0ZW0gPSAgJCh0aGlzKS5jbG9zZXN0KFwiLnNvY2lhbC1saW5rc19faXRlbVwiKTtcclxuXHRcdHNvY2lhbEl0ZW0uc2libGluZ3MoKS5maW5kKFwiLnNvY2lhbC1saW5rc19fZm9ybVwiKS5oaWRlKCk7XHJcblx0XHRzb2NpYWxJdGVtLmZpbmQoXCIuc29jaWFsLWxpbmtzX19mb3JtXCIpLnNob3coKTtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIGhpZGVTb2NpYWxGb3JtKGUpIHtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdCQodGhpcykuY2xvc2VzdChcIi5zb2NpYWwtbGlua3NfX2Zvcm1cIikuaGlkZSgpO1xyXG5cdH1cclxuXHJcblx0aWYgKCQoXCIuanMtb3Blbi1zb2NpYWwtZm9ybVwiKS5sZW5ndGgpIHtcclxuXHRcdCQoXCIuanMtb3Blbi1zb2NpYWwtZm9ybVwiKS5vbihcImNsaWNrXCIsIHNob3dTb2NpYWxGb3JtKTtcclxuXHR9XHJcblx0aWYgKCQoXCIuanMtY2xvc2UtZm9ybVwiKS5sZW5ndGgpIHtcclxuXHRcdCQoXCIuanMtY2xvc2UtZm9ybVwiKS5vbihcImNsaWNrXCIsIGhpZGVTb2NpYWxGb3JtKTtcclxuXHR9XHJcblxyXG5cclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHQvLyBMb2dpbiBjYXJkIGZsaXBcclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHQkKFwiI2ZsaXAtY2FyZFwiKS5jbGljayhmdW5jdGlvbigpIHtcclxuXHRcdCQoXCJib2R5XCIpLmFkZENsYXNzKFwiY2FyZF9mbGlwcGVkXCIpO1xyXG5cdH0pO1xyXG5cclxuXHQkKFwiI3VuZmxpcC1jYXJkXCIpLmNsaWNrKGZ1bmN0aW9uKGUpIHtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdCQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwiY2FyZF9mbGlwcGVkXCIpO1xyXG5cdH0pO1xyXG5cclxuXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0Ly8gTG9naW4gc2hvdyBSZWNvdmVyeSBwYXNzd29yZCBDYXJkXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0JChcIiNzaG93LXJlY292ZXJ5XCIpLmNsaWNrKGZ1bmN0aW9uKGUpIHtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdCQoXCJib2R5XCIpLmFkZENsYXNzKFwic2hvd19yZWNvdmVyeVwiKTtcclxuXHR9KTtcclxuXHJcblx0JChcIiNoaWRlLXJlY292ZXJ5XCIpLmNsaWNrKGZ1bmN0aW9uKGUpIHtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdCQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwic2hvd19yZWNvdmVyeVwiKTtcclxuXHR9KTtcclxuXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0Ly8gRHJvcHpvbmUgKEFkZCBwaG90b3MpXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5cdGlmICgkKFwiZGl2I2Ryb3B6b25lXCIpLmxlbmd0aCkge1xyXG5cclxuXHRcdHZhciBtYXhGaWxlU2l6ZU1iID0gMjtcclxuXHJcblx0XHQkKFwiZGl2I2Ryb3B6b25lXCIpLmRyb3B6b25lKHtcclxuXHRcdFx0dXJsOiBcIi9cIiAsXHJcblx0XHRcdG1heEZpbGVzaXplOiBtYXhGaWxlU2l6ZU1iXHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdHByZWxvYWRlcigpO1xyXG5cclxuXHRzZXRBamF4UmVzcG9uY2UuaW5pdCgpO1xyXG5cdGltYWdlUHJldmlldy5pbml0KCk7XHJcblxyXG59KShqUXVlcnkpO1xufSx7XCIuL21vZHVsZXMvYWpheC5qc1wiOjIsXCIuL21vZHVsZXMvYW5pbWF0aW9ucy5qc1wiOjMsXCIuL21vZHVsZXMvaW1hZ2VfcHJldmlldy5qc1wiOjUsXCIuL21vZHVsZXMvaW5maW5pdGVfcHJlbG9hZGVyLmpzXCI6NixcIi4vbW9kdWxlcy9tb2RhbC5qc1wiOjcsXCIuL21vZHVsZXMvc2xpZGVyLmpzXCI6OH1dLDI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuLyoqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4qIC0tLS0tINCj0YHRgtCw0L3QvtCy0LrQsCBhamF4LdC30LDQv9GA0L7RgdC+0LIgLS0tLS0tLS1cclxuKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xyXG5cclxudmFyIHNldEFqYXhSZXNwb25jZXMgPSAoZnVuY3Rpb24oKSB7XHJcblxyXG4gIGZ1bmN0aW9uIGluaXQoKSB7XHJcblxyXG4gICAgLy8g0KDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjQtSDQtNCw0L3QvdGL0YUg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXHJcbiAgICAkKCcjZWRpdC11c2VyLWhlYWRlcicpLm9uKCdzdWJtaXQnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgkKGUudGFyZ2V0KVswXSk7XHJcblxyXG4gICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICB1cmw6IFwiL3VzZXIvc2F2ZWRhdGFcIixcclxuICAgICAgICAgICAgZGF0YTogZm9ybURhdGEsXHJcbiAgICAgICAgICAgIHByb2Nlc3NEYXRhOiBmYWxzZSxcclxuICAgICAgICAgICAgY29udGVudFR5cGU6IGZhbHNlXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmRvbmUoZnVuY3Rpb24gKG1zZykge1xyXG4vLyBjb25zb2xlLmxvZyhtc2cpO1xyXG5cclxuICAgICAgICAgICAgaWYobXNnLnN0YXR1cyA9PSAnc3VjY2VzcycpIHtcclxuICAgICAgICAgICAgICBpZihtc2cuYmFja2dyb3VuZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAkKCcubWFpbi1wYWdlJykuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlOiBcInVybChcIittc2cuYmFja2dyb3VuZCtcIilcIlxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGlmKG1zZy5hdmF0YXIgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgJCgnI3VzZXItYXZhdGFyJykuYXR0cignc3JjJywgbXNnLmF2YXRhcik7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICQoJy51c2VyLWluZm9fX25hbWUnKS50ZXh0KGZvcm1EYXRhLmdldCgnbmFtZScpKTtcclxuICAgICAgICAgICAgICAkKCcudXNlci1pbmZvX19kZXNjJykudGV4dChmb3JtRGF0YS5nZXQoJ2Rlc2NyaXB0aW9uJykpO1xyXG4gICAgICAgICAgICAgICQoJyNzb2NpYWxfX2xpbmtfdmsnKS5hdHRyKCdocmVmJywgZm9ybURhdGEuZ2V0KCd2aycpKTtcclxuICAgICAgICAgICAgICAkKCcjc29jaWFsX19saW5rX2ZiJykuYXR0cignaHJlZicsIGZvcm1EYXRhLmdldCgnZmFjZWJvb2snKSk7XHJcbiAgICAgICAgICAgICAgJCgnI3NvY2lhbF9fbGlua190dycpLmF0dHIoJ2hyZWYnLCBmb3JtRGF0YS5nZXQoJ3R3aXR0ZXInKSk7XHJcbiAgICAgICAgICAgICAgJCgnI3NvY2lhbF9fbGlua19nZycpLmF0dHIoJ2hyZWYnLCBmb3JtRGF0YS5nZXQoJ2dvb2dsZScpKTtcclxuICAgICAgICAgICAgICAkKCcjc29jaWFsX19saW5rX2VtYWlsJykuYXR0cignaHJlZicsIFwibWFpbHRvOlwiK2Zvcm1EYXRhLmdldCgnZW1haWwnKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgJChlLnRhcmdldCkucmVtb3ZlQ2xhc3MoJ3Nob3cnKS5hZGRDbGFzcygnaGlkZScpO1xyXG4gICAgICAgICAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ2hhcy1vdmVyZmxvdy1oaWRkZW4nKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8g0JTQvtCx0LDQstC70LXQvdC40LUg0LDQu9GM0LHQvtC80LBcclxuICAgICQoJyNmb3JtLWFkZC1hbGJ1bScpLm9uKCdzdWJtaXQnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgkKGUudGFyZ2V0KVswXSk7XHJcbmNvbnNvbGUubG9nKCdhZGQtYWxidW0nKTtcclxuICAgICAgJC5hamF4KHtcclxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgIHVybDogXCIvYWxidW0vc2F2ZVwiLFxyXG4gICAgICAgIGRhdGE6IGZvcm1EYXRhLFxyXG4gICAgICAgIHByb2Nlc3NEYXRhOiBmYWxzZSxcclxuICAgICAgICBjb250ZW50VHlwZTogZmFsc2VcclxuICAgICAgfSlcclxuICAgICAgLmRvbmUoZnVuY3Rpb24gKG1zZykge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKG1zZyk7XHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG5cclxuICB9XHJcbiAgXHJcbiAgcmV0dXJuIHtcclxuICAgIGluaXQ6IGluaXRcclxuICB9XHJcbn0oKSk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICBpbml0OiBzZXRBamF4UmVzcG9uY2VzLmluaXRcclxufTtcbn0se31dLDM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIEFuaW1hdGUgZWxlbWVudHMgb24gc2Nyb2xsLiBCYXNlZCBvbiB3YXlwb2ludHMuanNcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbnZhciBhbmltYXRlQ3NzID0gZnVuY3Rpb24gKGluX2VmZmVjdCkge1xyXG5cdCQodGhpcykuZWFjaChmdW5jdGlvbigpIHtcclxuXHRcdHZhciBlbGVtID0gJCh0aGlzKTtcclxuXHRcdGVsZW0uY3NzKHtvcGFjaXR5OjB9KVxyXG5cdFx0XHQuYWRkQ2xhc3MoXCJhbmltYXRlZFwiKVxyXG5cdFx0XHQud2F5cG9pbnQoZnVuY3Rpb24oZGlyKSB7XHJcblx0XHRcdFx0aWYgKGRpciA9PT0gXCJkb3duXCIpIHtcclxuXHRcdFx0XHRcdGVsZW0uYWRkQ2xhc3MoaW5fZWZmZWN0KS5jc3Moe29wYWNpdHk6MX0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdG9mZnNldDogXCI5MCVcIlxyXG5cdFx0XHR9KTtcclxuXHR9KTtcclxufTtcclxuXHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBTaG93IG93ZXJsYXkgbGF5ZXIgd2hlbiBzcGVjaWZpZWQgbGluayBoYXMgYmVlbiBjbGlja2VkXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbmZ1bmN0aW9uIGZhZGVQYWdlT24gKGxpbmtfc2VsZWN0b3IsIG92ZXJsYXlfc2VsZWN0b3IsIHRpbWUpe1xyXG5cdCQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgbGlua19zZWxlY3RvciwgZnVuY3Rpb24oZSkge1xyXG5cdFx0dmFyIGhyZWYgPSAkKHRoaXMpLmF0dHIoXCJocmVmXCIpO1xyXG5cdFx0aWYoaHJlZlswXSE9XCIjXCIpe1xyXG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG5cdFx0XHRyZXR1cm4gJChvdmVybGF5X3NlbGVjdG9yKVxyXG5cdFx0XHRcdC5mYWRlSW4odGltZSwgZnVuY3Rpb24oKXtcclxuXHRcdFx0XHRcdHJldHVybiBkb2N1bWVudC5sb2NhdGlvbiA9IGhyZWYgIT0gbnVsbCA/IGhyZWYgOiBcIi9cIjtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdH0pO1xyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcblx0YW5pbWF0ZUNzcyA6IGFuaW1hdGVDc3MsXHJcblx0ZmFkZVBhZ2VPbiA6IGZhZGVQYWdlT25cclxufTtcbn0se31dLDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIENoZWNrIGJyb3dzZXIgc2Nyb2xsYmFyIHdpZHRoXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG52YXIgZ2V0U2Nyb2xsYmFyV2lkdGggPSBmdW5jdGlvbiAoKXtcclxuXHR2YXIgc3R5bGUgPSB7XCJtYXgtaGVpZ2h0XCI6XCIxMDBweFwiLCBcIm92ZXJmbG93XCI6XCJzY3JvbGxcIiwgXCJwb3NpdGlvblwiOlwiYWJzb2x1dGVcIn0sXHJcblx0XHR3cmFwcGVyID0gJChcIjxkaXYgaWQ9J3Njcm9sbF9iYXJfY2hlY2tfQSc+PC9kaXY+XCIpLmNzcyhzdHlsZSksXHJcblx0XHRpbm5lciA9ICQoXCI8ZGl2IGlkPSdzY3JvbGxfYmFyX2NoZWNrX0InPjwvZGl2PlwiKSxcclxuXHRcdHN0cmV0Y2hlciA9ICQoXCI8aW1nIHNyYz0nL2Fzc2V0cy9pbWcvZm9yY2Utc2Nyb2xsLnBuZycvPlwiKSxcclxuXHRcdHNjcm9sbEJhcldpZHRoID0gMDtcclxuXHJcblx0d3JhcHBlci5hcHBlbmQoc3RyZXRjaGVyKS5hcHBlbmQoaW5uZXIpO1xyXG5cdCQoXCJib2R5XCIpLmFwcGVuZCh3cmFwcGVyKTtcclxuXHJcblx0c2Nyb2xsQmFyV2lkdGggPSB3cmFwcGVyLndpZHRoKCktaW5uZXIud2lkdGgoKTtcclxuXHR3cmFwcGVyLnJlbW92ZSgpO1xyXG5cclxuXHRyZXR1cm4gc2Nyb2xsQmFyV2lkdGg7XHJcbn07XHJcblxyXG5cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBDaGVjayBJRSB2ZXJzaW9uXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG52YXIgaWVWZXJzaW9uID0gZnVuY3Rpb24gKCkge1xyXG5cdHZhciB1YSA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50O1xyXG5cclxuXHR2YXIgbXNpZSA9IHVhLmluZGV4T2YoXCJNU0lFIFwiKTtcclxuXHRpZiAobXNpZSA+IDApIHtcclxuXHRcdC8vIElFIDEwIG9yIG9sZGVyID0+IHJldHVybiB2ZXJzaW9uIG51bWJlclxyXG5cdFx0cmV0dXJuIHBhcnNlSW50KHVhLnN1YnN0cmluZyhtc2llICsgNSwgdWEuaW5kZXhPZihcIi5cIiwgbXNpZSkpLCAxMCk7XHJcblx0fVxyXG5cclxuXHR2YXIgdHJpZGVudCA9IHVhLmluZGV4T2YoXCJUcmlkZW50L1wiKTtcclxuXHRpZiAodHJpZGVudCA+IDApIHtcclxuXHRcdC8vIElFIDExID0+IHJldHVybiB2ZXJzaW9uIG51bWJlclxyXG5cdFx0dmFyIHJ2ID0gdWEuaW5kZXhPZihcInJ2OlwiKTtcclxuXHRcdHJldHVybiBwYXJzZUludCh1YS5zdWJzdHJpbmcocnYgKyAzLCB1YS5pbmRleE9mKFwiLlwiLCBydikpLCAxMCk7XHJcblx0fVxyXG5cclxuXHR2YXIgZWRnZSA9IHVhLmluZGV4T2YoXCJFZGdlL1wiKTtcclxuXHRpZiAoZWRnZSA+IDApIHtcclxuXHRcdC8vIEVkZ2UgKElFIDEyKykgPT4gcmV0dXJuIHZlcnNpb24gbnVtYmVyXHJcblx0XHRyZXR1cm4gcGFyc2VJbnQodWEuc3Vic3RyaW5nKGVkZ2UgKyA1LCB1YS5pbmRleE9mKFwiLlwiLCBlZGdlKSksIDEwKTtcclxuXHR9XHJcblxyXG5cdC8vIG90aGVyIGJyb3dzZXJcclxuXHRyZXR1cm4gZmFsc2U7XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuXHRnZXRTY3JvbGxiYXJXaWR0aCA6IGdldFNjcm9sbGJhcldpZHRoLFxyXG5cdGllVmVyc2lvbiA6IGllVmVyc2lvblxyXG59XG59LHt9XSw1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8qKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICogLS0tLS0g0J/QvtC00LrQu9GO0YfQtdC90LjQtSDQv9GA0LXQtNC/0YDQvtGB0LzQvtGC0YDQsCDRhNC+0YLQviDQuCDRhNC+0L3QsCAtLS0tLS0tLVxyXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXHJcblxyXG52YXIgaW1hZ2VQcmV2aWV3ID0gKGZ1bmN0aW9uKCkge1xyXG5cclxuICBmdW5jdGlvbiBpbml0KCkge1xyXG5cclxuICAgIC8vIEF2YXRhciBwcmV2aWV3XHJcbiAgICAkKCcjaW5wdXRfYXZhdGFyJykub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCl7XHJcbiAgICAgIHZhciBpbnB1dCA9IHRoaXMsXHJcbiAgICAgICAgICBhdmF0YXIgPSAkKCcjcHJldmlld19hdmF0YXInKTtcclxuXHJcbiAgICAgIGlmIChpbnB1dC5maWxlcyAmJiBpbnB1dC5maWxlc1swXSkge1xyXG4gICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG5cclxuICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICBhdmF0YXIuYXR0cihcInNyY1wiLCBlLnRhcmdldC5yZXN1bHQpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGlucHV0LmZpbGVzWzBdKTtcclxuXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIEJhY2tncm91bmQgcHJldmlld1xyXG4gICAgJCgnI2lucHV0X2JhY2tncm91bmQnKS5vbignY2hhbmdlJywgZnVuY3Rpb24oKXtcclxuICAgICAgdmFyIGlucHV0ID0gdGhpcyxcclxuICAgICAgICAgIGJnID0gJCgnI2JnLWVkaXQtdXNlcicpO1xyXG5cclxuICAgICAgaWYgKGlucHV0LmZpbGVzICYmIGlucHV0LmZpbGVzWzBdKSB7XHJcbiAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcblxyXG4gICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbihlKXtcclxuICAgICAgICAgIGJnLmNzcyh7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZTogXCJ1cmwoXCIrIGUudGFyZ2V0LnJlc3VsdCArXCIpXCJcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGlucHV0LmZpbGVzWzBdKTtcclxuXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGluaXQ6IGluaXRcclxuICB9XHJcbn0oKSk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICBpbml0OiBpbWFnZVByZXZpZXcuaW5pdFxyXG59O1xufSx7fV0sNjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gUHJlbG9hZGVyIHdpdGggcGVyY2VudGFnZSBieSBpbWFnZSBjb3VudFxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxudmFyXHRwcmVsb2FkZXJfY29udGFpbmVyID0gJChcIiNwcmVsb2FkZXJcIiksXHJcblx0cHJlbG9hZGVyX3BlcmNlbnRhZ2UgPSAkKFwiI3ByZWxvYWRlcl9fcGVyY2VudGFnZVwiKSxcclxuXHRoYXNJbWFnZVByb3BlcnRpZXMgPSBbXCJiYWNrZ3JvdW5kXCIsIFwiYmFja2dyb3VuZEltYWdlXCIsIFwibGlzdFN0eWxlSW1hZ2VcIiwgXCJib3JkZXJJbWFnZVwiLCBcImJvcmRlckNvcm5lckltYWdlXCIsIFwiY3Vyc29yXCJdLFxyXG5cdGhhc0ltYWdlQXR0cmlidXRlcyA9IFtcInNyY3NldFwiXSxcclxuXHRtYXRjaF91cmwgPSAvdXJsXFwoXFxzKihbJ1wiXT8pKC4qPylcXDFcXHMqXFwpL2csXHJcblx0YWxsX2ltYWdlcyA9IFtdLFxyXG5cdHRvdGFsID0gMCxcclxuXHRjb3VudCA9IDA7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHByZWxvYWRlcigpIHtcclxuXHJcblx0ZnVuY3Rpb24gaW1nX2xvYWRlZCgpe1xyXG5cdFx0dmFyIHBlcmNlbnRhZ2UgPSBNYXRoLmNlaWwoIChjb3VudCsxKSAvIHRvdGFsICogMTAwICk7XHJcblx0XHRjb3VudCArPSAxO1xyXG5cdFx0cGVyY2VudGFnZSA9IHBlcmNlbnRhZ2UgPiAxMDAgPyAxMDAgOiBwZXJjZW50YWdlO1xyXG5cdFx0cHJlbG9hZGVyX3BlcmNlbnRhZ2UuaHRtbChwZXJjZW50YWdlKTtcclxuXHJcblx0XHRpZihjb3VudCA9PT0gdG90YWwpe1xyXG5cdFx0XHRyZXR1cm4gZG9uZV9sb2FkaW5nKCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBkb25lX2xvYWRpbmcoKXtcclxuXHRcdHByZWxvYWRlcl9wZXJjZW50YWdlLmNzcyh7XCJhbmltYXRpb25cIjpcIm5vbmVcIn0pO1xyXG5cdFx0Ly8gcHJlbG9hZGVyX2NvbnRhaW5lci5kZWxheSg3MDApLmZhZGVPdXQoNzAwLCBmdW5jdGlvbigpe1xyXG5cdFx0Ly8gXHQvLyBDYWxsYmFja3MsIGUuZy46XHJcblx0XHQvLyBcdHByZWxvYWRlcl9wZXJjZW50YWdlLnJlbW92ZSgpO1xyXG5cdFx0Ly8gfSk7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBpbWFnZXNfbG9vcCAodG90YWwpIHtcclxuXHRcdGZvcih2YXIgaT0wOyBpPHRvdGFsOyBpKyspe1xyXG5cdFx0XHR2YXIgdGVzdF9pbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG5cclxuXHRcdFx0dGVzdF9pbWFnZS5vbmxvYWQgPSBpbWdfbG9hZGVkO1xyXG5cdFx0XHR0ZXN0X2ltYWdlLm9uZXJyb3IgPSBpbWdfbG9hZGVkO1xyXG5cclxuXHRcdFx0aWYgKGFsbF9pbWFnZXNbaV0uc3Jjc2V0KSB7XHJcblx0XHRcdFx0dGVzdF9pbWFnZS5zcmNzZXQgPSBhbGxfaW1hZ2VzW2ldLnNyY3NldDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dGVzdF9pbWFnZS5zcmMgPSBhbGxfaW1hZ2VzW2ldLnNyYztcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8vIEdldCBhbGwgaW1hZ2VzXHJcblx0JChcIipcIikuZWFjaChmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgZWxlbWVudCA9ICQodGhpcyk7XHJcblxyXG5cdFx0aWYgKGVsZW1lbnQuaXMoXCJpbWdcIikgJiYgZWxlbWVudC5hdHRyKFwic3JjXCIpKSB7XHJcblx0XHRcdGFsbF9pbWFnZXMucHVzaCh7XHJcblx0XHRcdFx0c3JjOiBlbGVtZW50LmF0dHIoXCJzcmNcIiksXHJcblx0XHRcdFx0ZWxlbWVudDogZWxlbWVudFswXVxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHQkLmVhY2goaGFzSW1hZ2VQcm9wZXJ0aWVzLCBmdW5jdGlvbiAoaSwgcHJvcGVydHkpIHtcclxuXHRcdFx0dmFyIHByb3BlcnR5VmFsdWUgPSBlbGVtZW50LmNzcyhwcm9wZXJ0eSk7XHJcblx0XHRcdHZhciBtYXRjaDtcclxuXHJcblx0XHRcdGlmICghcHJvcGVydHlWYWx1ZSkge1xyXG5cdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRtYXRjaCA9IG1hdGNoX3VybC5leGVjKHByb3BlcnR5VmFsdWUpO1xyXG5cdFx0XHRcclxuXHRcdFx0aWYgKG1hdGNoKSB7XHJcblx0XHRcdFx0YWxsX2ltYWdlcy5wdXNoKHtcclxuXHRcdFx0XHRcdHNyYzogbWF0Y2hbMl0sXHJcblx0XHRcdFx0XHRlbGVtZW50OiBlbGVtZW50WzBdXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdCQuZWFjaChoYXNJbWFnZUF0dHJpYnV0ZXMsIGZ1bmN0aW9uIChpLCBhdHRyaWJ1dGUpIHtcclxuXHRcdFx0dmFyIGF0dHJpYnV0ZVZhbHVlID0gZWxlbWVudC5hdHRyKGF0dHJpYnV0ZSk7XHJcblxyXG5cdFx0XHRpZiAoIWF0dHJpYnV0ZVZhbHVlKSB7XHJcblx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGFsbF9pbWFnZXMucHVzaCh7XHJcblx0XHRcdFx0c3JjOiBlbGVtZW50LmF0dHIoXCJzcmNcIiksXHJcblx0XHRcdFx0c3Jjc2V0OiBlbGVtZW50LmF0dHIoXCJzcmNzZXRcIiksXHJcblx0XHRcdFx0ZWxlbWVudDogZWxlbWVudFswXVxyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH0pO1xyXG5cclxuXHR0b3RhbCA9IGFsbF9pbWFnZXMubGVuZ3RoO1xyXG5cclxuXHQvLyBTdGFydCBwcmVsb2FkZXIgb3IgZXhpdFxyXG5cdGlmICh0b3RhbCA9PT0gMCkge1xyXG5cdFx0cHJlbG9hZGVyX3BlcmNlbnRhZ2UuaHRtbCgxMDApO1xyXG5cdFx0ZG9uZV9sb2FkaW5nKCk7XHJcblx0fSBlbHNlIHtcclxuXHRcdGltYWdlc19sb29wKHRvdGFsKTtcclxuXHR9XHJcbn07XG59LHt9XSw3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbmZ1bmN0aW9uIGluaXQoY29udGFpbmVyLCBvcGVuQnRuLCBjbG9zZUJ0bil7XHJcblx0dmFyIG1vZGFsID0gJChjb250YWluZXIpO1xyXG5cdHZhciBvcGVuID0gJChvcGVuQnRuKTtcclxuXHR2YXIgY2xvc2UgPSBtb2RhbC5maW5kKGNsb3NlQnRuKTtcclxuXHR2YXIgYm9keSA9ICQoJ2JvZHknKTtcclxuXHJcblx0b3Blbi5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKXtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdG1vZGFsLnJlbW92ZUNsYXNzKFwiaGlkZVwiKS5hZGRDbGFzcyhcInNob3dcIik7XHJcblx0XHRib2R5LmFkZENsYXNzKFwiaGFzLW92ZXJmbG93LWhpZGRlblwiKTtcclxuXHR9KTtcclxuXHJcblx0Y2xvc2Uub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZSl7XHJcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRtb2RhbC5hZGRDbGFzcyhcImhpZGVcIikucmVtb3ZlQ2xhc3MoXCJzaG93XCIpO1xyXG5cdFx0Ym9keS5yZW1vdmVDbGFzcygnaGFzLW92ZXJmbG93LWhpZGRlbicpO1xyXG5cdH0pO1xyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcblx0aW5pdCA6IGluaXRcclxufTtcclxuXHJcblxufSx7fV0sODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5oZWxwZXJzID0gcmVxdWlyZShcIi4vaGVscGVycy5qc1wiKTtcclxuXHJcbnZhciBzY3JvbGxiYXJfd2lkdGggPSBoZWxwZXJzLmdldFNjcm9sbGJhcldpZHRoKCksXHJcblx0c2xpZGVyLFxyXG5cdGN1cnJlbnQsXHJcblx0cmVzaXplVGltZW91dCxcclxuXHRyZXNpemVEZWx0YSA9IDEwMDtcclxuXHJcbmZ1bmN0aW9uIGluaXQoY29udGFpbmVyLCBvcGVuQnRuLCBjbG9zZUJ0biwgbmV4dEJ0biwgcHJldkJ0bil7XHJcblx0c2xpZGVyID0gJChjb250YWluZXIpO1xyXG5cclxuXHR2YXIgb3BlbiA9ICQob3BlbkJ0biksXHJcblx0XHRjbG9zZSA9IHNsaWRlci5maW5kKGNsb3NlQnRuKSxcclxuXHRcdG5leHQgPSBzbGlkZXIuZmluZChuZXh0QnRuKSxcclxuXHRcdHByZXYgPSBzbGlkZXIuZmluZChwcmV2QnRuKSxcclxuXHRcdGJvZHkgPSAkKCdodG1sJyk7XHJcblxyXG5cdG9wZW4ub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZSl7XHJcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG5cdFx0Y3VycmVudCA9ICQodGhpcykuY2xvc2VzdCgnLnBob3RvLWl0ZW0nKTtcclxuXHRcdHNob3dTbGlkZShjdXJyZW50KTtcclxuXHJcblx0XHRzbGlkZXIucmVtb3ZlQ2xhc3MoXCJoaWRlXCIpLmFkZENsYXNzKFwic2hvd1wiKTtcclxuXHRcdGJvZHkuYWRkQ2xhc3MoJ2hhcy1vdmVyZmxvdy1oaWRkZW4nKVxyXG5cdFx0XHQuY3NzKHtcInBhZGRpbmctcmlnaHRcIiA6IHNjcm9sbGJhcl93aWR0aH0pO1xyXG5cdH0pO1xyXG5cclxuXHRjbG9zZS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKXtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdHNsaWRlci5hZGRDbGFzcyhcImhpZGVcIikucmVtb3ZlQ2xhc3MoXCJzaG93XCIpO1xyXG5cdFx0Ym9keS5yZW1vdmVDbGFzcygnaGFzLW92ZXJmbG93LWhpZGRlbicpXHJcblx0XHRcdC5jc3Moe1wicGFkZGluZy1yaWdodFwiIDogMH0pO1xyXG5cdH0pO1xyXG5cclxuXHRuZXh0Lm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpe1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0c2hvd05leHQoKTtcclxuXHR9KTtcclxuXHJcblx0cHJldi5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKXtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdHNob3dQcmV2KCk7XHJcblx0fSk7XHJcblxyXG59O1xyXG5cclxuZnVuY3Rpb24gYWp1c3RJbWdIZWlnaHQoKXtcclxuXHQvLyBIZWlnaHQgYW5pbWF0aW9uXHJcblx0dmFyIHNsaWRlclBob3RvID0gc2xpZGVyLmZpbmQoJy5zbGlkZXJfX3Bob3RvJyksXHJcblx0XHRzbGlkZUhlaWdodCA9IHNsaWRlci5maW5kKCcuc2xpZGVyX19pbWcnKS5oZWlnaHQoKTtcclxuXHJcblx0c2xpZGVyUGhvdG8uYW5pbWF0ZSh7XHJcblx0XHQnaGVpZ2h0Jzogc2xpZGVIZWlnaHRcclxuXHR9LCAzMDApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzaG93TmV4dCgpe1xyXG5cdHZhciBuZXh0U2xpZGUgPSBjdXJyZW50Lm5leHQoJy5waG90by1pdGVtJyk7XHJcblx0aWYgKG5leHRTbGlkZS5sZW5ndGgpIHtcclxuXHRcdHNob3dTbGlkZShuZXh0U2xpZGUpO1xyXG5cdFx0Y3VycmVudCA9IG5leHRTbGlkZTtcclxuXHR9XHJcbn07XHJcblxyXG5mdW5jdGlvbiBzaG93UHJldigpe1xyXG5cdHZhciBwcmV2U2xpZGUgPSBjdXJyZW50LnByZXYoJy5waG90by1pdGVtJyk7XHJcblx0aWYgKHByZXZTbGlkZS5sZW5ndGgpIHtcclxuXHRcdHNob3dTbGlkZShwcmV2U2xpZGUpO1xyXG5cdFx0Y3VycmVudCA9IHByZXZTbGlkZTtcclxuXHR9XHJcbn07XHJcblxyXG5mdW5jdGlvbiBzaG93U2xpZGUoX2l0ZW0pe1xyXG5cdHZhciBpbWdfdGh1bWIgPSBfaXRlbS5kYXRhKCd0aHVtYicpO1xyXG5cdFx0aW1nX3RpdGxlID0gX2l0ZW0uZGF0YSgndGl0bGUnKSxcclxuXHRcdGltZ19saWtlcyA9IF9pdGVtLmRhdGEoJ2xpa2VzJyksXHJcblx0XHRpbWdfdXNlcl9uYW1lID0gX2l0ZW0uZGF0YSgndXNlcl9uYW1lJyksXHJcblx0XHRpbWdfdXNlcl9hdmF0YXIgPSBfaXRlbS5kYXRhKCd1c2VyX2F2YXRhcicpLFxyXG5cdFx0aW1nX2Rlc2MgPSBfaXRlbS5kYXRhKCdkZXNjJyksXHJcblx0XHRjb21tZW50c19ob2xkZXIgPSBzbGlkZXIuZmluZCgnLmNvbW1lbnRzX19ob2xkZXInKSxcclxuXHRcdGltZ19jb21tZW50cyA9IF9pdGVtLmZpbmQoJy5jb21tZW50c19faXRlbScpO1xyXG5cclxuXHQvLyDQntGH0LjRidC10L3QuNC1INCx0LvQvtC60LAg0LTQu9GPINC60L7QvNC80LXQvdGC0LDRgNC40LXQslxyXG5cdGNvbW1lbnRzX2hvbGRlci5odG1sKCcnKTtcclxuXHJcblx0Ly8g0JTQvtCx0LDQstC70LXQvdC40LUg0LrQvtC80LzQtdC90YLQsNGA0LjQtdCyXHJcblx0aW1nX2NvbW1lbnRzLmVhY2goZnVuY3Rpb24oa2V5LCB2YWx1ZSl7XHJcblx0XHRjb21tZW50c19ob2xkZXIuYXBwZW5kKHZhbHVlKTtcclxuXHR9KTtcclxuXHJcblxyXG5cdHZhciBpbWdfZGVzYyA9IF9pdGVtLmRhdGEoJ2Rlc2MnKTtcclxuXHJcblx0c2xpZGVyLmZpbmQoJy5zbGlkZXJfX2ltZycpLmF0dHIoJ3NyYycsIGltZ190aHVtYik7XHJcblx0c2xpZGVyLmZpbmQoJy5zbGlkZXJfX3RpdGxlJykuaHRtbChpbWdfdGl0bGUpO1xyXG5cdHNsaWRlci5maW5kKCcubGlrZXNfX2NvdW50JykuaHRtbChpbWdfbGlrZXMpO1xyXG5cdHNsaWRlci5maW5kKCcuc2xpZGVyX190ZXh0JykuaHRtbChpbWdfZGVzYyk7XHJcblx0c2xpZGVyLmZpbmQoJy5zbGlkZXJfX2F1dGhvci1uYW1lJykuaHRtbChpbWdfdXNlcl9uYW1lKTtcclxuXHRzbGlkZXIuZmluZCgnLnNsaWRlcl9fYXV0aG9yLXBob3RvIGltZycpLmF0dHIoJ3NyYycsIGltZ191c2VyX2F2YXRhcik7XHJcblxyXG5cdGFqdXN0SW1nSGVpZ2h0KCk7XHJcbn1cclxuXHJcbiQod2luZG93KS5yZXNpemUoZnVuY3Rpb24oKXtcclxuXHRjbGVhclRpbWVvdXQocmVzaXplVGltZW91dCk7XHJcblx0cmVzaXplVGltZW91dCA9IHNldFRpbWVvdXQoYWp1c3RJbWdIZWlnaHQsIHJlc2l6ZURlbHRhKTtcclxufSk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuXHRpbml0IDogaW5pdCxcclxuXHRzaG93TmV4dDogc2hvd05leHQsXHJcblx0c2hvd1ByZXY6IHNob3dQcmV2XHJcbn07XHJcblxyXG5cbn0se1wiLi9oZWxwZXJzLmpzXCI6NH1dfSx7fSxbMV0pO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
