!function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var d=new Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return i(n?n:e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){!function(t){"use strict";function n(e){e.preventDefault(),t(".photo-editing").slideUp(300),t(".photo-removing").slideDown(300)}function r(e){e.preventDefault(),t(".photo-removing").slideUp(300),t(".photo-editing").slideDown(300)}function i(e){e.preventDefault();var n=t(this).closest(".social__item");n.siblings().find(".social__form").hide(),n.find(".social__form").show()}function o(e){e.preventDefault(),t(this).closest(".social__form").hide()}var a=e("./modules/preloader.js"),s=e("./modules/modal.js"),l=e("./modules/slider.js"),d=e("./modules/animations.js"),c=e("./modules/ajax.js"),u=e("./modules/image_preview.js");if(t("#scene.axis").length&&t("#scene.axis").parallax({scalarX:3,scalarY:3,frictionX:.5,frictionY:.5}),t("#go-up").click(function(){t("html, body").stop().animate({scrollTop:0},700,"swing")}),d.fadePageOn("a.preload-link","#preloader",300),t.fn.animated=d.animateCss,t(".album-item").animated("fadeIn"),t(".js-add-album").length&&s.init("#add-album-modal",".js-add-album",".js-close-modal"),t(".js-add-photos").length&&s.init("#add-photos-modal",".js-add-photos",".js-close-modal"),t(".js-edit-photo").length&&s.init("#edit-photo-modal",".js-edit-photo",".js-close-modal"),t(".js-edit-user").length&&s.init("#edit-user-modal",".js-edit-user",".js-close-modal"),t(".js-edit-user-header").length&&s.init("#edit-user-header",".js-edit-user-header",".js-close-header"),t(".js-edit-album-header").length&&s.init("#edit-album-header",".js-edit-album-header",".js-close-header"),t(".js-show-photo-removing").length&&t(".js-show-photo-removing").on("click",n),t(".js-hide-photo-removing").length&&t(".js-hide-photo-removing").on("click",r),t(".js-open-slider").length>0&&l.init("#slider",".js-open-slider",".js-close-slider",".js-slider-next",".js-slider-prev"),t(".js-open-social-form").length&&t(".js-open-social-form").on("click",i),t(".js-close-form").length&&t(".js-close-form").on("click",o),t("#flip-card").click(function(){t("body").addClass("card_flipped")}),t("#unflip-card").click(function(e){e.preventDefault(),t("body").removeClass("card_flipped")}),t("#show-recovery").click(function(e){e.preventDefault(),t("body").addClass("show_recovery")}),t("#hide-recovery").click(function(e){e.preventDefault(),t("body").removeClass("show_recovery")}),t("div#dropzone").length){var f=2;t("div#dropzone").dropzone({url:"/",maxFilesize:f})}t("#go-up").length&&t("#go-up").on("click",window.scrollTo(0,0)),a(),c.init(),u.init()}(jQuery)},{"./modules/ajax.js":2,"./modules/animations.js":3,"./modules/image_preview.js":5,"./modules/modal.js":6,"./modules/preloader.js":7,"./modules/slider.js":8}],2:[function(e,t,n){var r=function(){function e(){$("#edit-user-header").on("submit",function(e){e.preventDefault();var t=new FormData($(e.target)[0]);$.ajax({method:"POST",url:"/user/savedata",data:t,processData:!1,contentType:!1}).done(function(n){"success"==n.status&&(void 0!==n.background&&$(".main-page").css({backgroundImage:"url("+n.background+")"}),void 0!==n.avatar&&$("#user-avatar").attr("src",n.avatar),$(".user-info__name").text(t.get("name")),$(".user-info__desc").text(t.get("description")),$("#social__link_vk").attr("href",t.get("vk")),$("#social__link_fb").attr("href",t.get("facebook")),$("#social__link_tw").attr("href",t.get("twitter")),$("#social__link_gg").attr("href",t.get("google")),$("#social__link_email").attr("href","mailto:"+t.get("email"))),$(e.target).removeClass("show").addClass("hide"),$("body").removeClass("has-overflow-hidden")})}),$("#form-add-album").on("submit",function(e){e.preventDefault();var t=new FormData($(e.target)[0]);console.log("add-album"),$.ajax({method:"POST",url:"/album/save",data:t,processData:!1,contentType:!1}).done(function(e){console.log(e)})})}return{init:e}}();t.exports={init:r.init}},{}],3:[function(e,t,n){function r(e,t,n){$(document).on("click",e,function(e){var r=$(this).attr("href");if("#"!=r[0])return e.preventDefault(),$(t).fadeIn(n,function(){return document.location=null!=r?r:"/"})})}var i=function(e){$(this).each(function(){var t=$(this);t.css({opacity:0}).addClass("animated").waypoint(function(n){"down"===n&&t.addClass(e).css({opacity:1})},{offset:"90%"})})};t.exports={animateCss:i,fadePageOn:r}},{}],4:[function(e,t,n){var r=function(){var e={"max-height":"100px",overflow:"scroll",position:"absolute"},t=$("<div id='scroll_bar_check_A'></div>").css(e),n=$("<div id='scroll_bar_check_B'></div>"),r=$("<img src='/assets/img/force-scroll.png'/>"),i=0;return t.append(r).append(n),$("body").append(t),i=t.width()-n.width(),t.remove(),i},i=function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);var n=e.indexOf("Trident/");if(n>0){var r=e.indexOf("rv:");return parseInt(e.substring(r+3,e.indexOf(".",r)),10)}var i=e.indexOf("Edge/");return i>0&&parseInt(e.substring(i+5,e.indexOf(".",i)),10)};t.exports={getScrollbarWidth:r,ieVersion:i}},{}],5:[function(e,t,n){var r=function(){function e(){$("#input_avatar").on("change",function(){var e=this,t=$("#preview_avatar");if(e.files&&e.files[0]){var n=new FileReader;n.onload=function(e){t.attr("src",e.target.result)},n.readAsDataURL(e.files[0])}}),$("#input_background").on("change",function(){var e=this,t=$("#bg-edit-user");if(e.files&&e.files[0]){var n=new FileReader;n.onload=function(e){t.css({backgroundImage:"url("+e.target.result+")"})},n.readAsDataURL(e.files[0])}})}return{init:e}}();t.exports={init:r.init}},{}],6:[function(e,t,n){function r(e,t,n){var r=$(e),i=$(t),o=r.find(n),a=$("body");i.on("click",function(e){e.preventDefault(),r.removeClass("hide").addClass("show"),a.addClass("has-overflow-hidden")}),o.on("click",function(e){e.preventDefault(),r.addClass("hide").removeClass("show"),a.removeClass("has-overflow-hidden")})}t.exports={init:r}},{}],7:[function(e,t,n){var r=$("#preloader"),i=$("#preloader__percentage"),o=["background","backgroundImage","listStyleImage","borderImage","borderCornerImage","cursor"],a=["srcset"],s=/url\(\s*(['"]?)(.*?)\1\s*\)/g,l=[],d=0,c=0,u=$("#preloader__img .bar__outer"),f=$("#preloader__img .bar__center"),m=$("#preloader__img .bar__inner"),h=Math.PI*(2*u.attr("r")),p=Math.PI*(2*f.attr("r")),v=Math.PI*(2*m.attr("r"));t.exports=function(){function e(){var e=Math.ceil((c+1)/d*100);if(c+=1,e=e>100?100:e,u.css({strokeDashoffset:(100-e)/100*h}),e>50&&f.css({strokeDashoffset:(100-e)/100*p}),100==e&&m.css({strokeDashoffset:(100-e)/100*v}),i.html(e),c===d)return t()}function t(){i.css({animation:"none"}),r.delay(700).fadeOut(700,function(){i.remove()})}function n(t){for(var n=0;n<t;n++){var r=new Image;r.onload=e,r.onerror=e,l[n].srcset&&(r.srcset=l[n].srcset),r.src=l[n].src}}$("*").each(function(){var e=$(this);e.is("img")&&e.attr("src")&&l.push({src:e.attr("src"),element:e[0]}),$.each(o,function(t,n){var r,i=e.css(n);return!i||(r=s.exec(i),void(r&&l.push({src:r[2],element:e[0]})))}),$.each(a,function(t,n){var r=e.attr(n);return!r||void l.push({src:e.attr("src"),srcset:e.attr("srcset"),element:e[0]})})}),d=l.length,0===d?(i.html(100),t()):n(d)}},{}],8:[function(e,t,n){function r(e,t,n,r,i){l=$(e);var c=$(t),f=l.find(n),m=l.find(r),h=l.find(i),p=$("html");c.on("click",function(e){e.preventDefault(),d=$(this).closest(".album-item"),s(d),l.removeClass("hide").addClass("show"),p.addClass("has-overflow-hidden").css({"padding-right":u})}),f.on("click",function(e){e.preventDefault(),l.addClass("hide").removeClass("show"),p.removeClass("has-overflow-hidden").css({"padding-right":0})}),m.on("click",function(e){e.preventDefault(),o()}),h.on("click",function(e){e.preventDefault(),a()})}function i(){var e=l.find(".slider__photo"),t=l.find(".slider__img").height();e.animate({height:t},300)}function o(){var e=d.next(".album-item");e.length&&(s(e),d=e)}function a(){var e=d.prev(".album-item");e.length&&(s(e),d=e)}function s(e){var t=e.data("thumb");img_title=e.data("title"),img_likes=e.data("likes"),img_user_name=e.data("user_name"),img_user_avatar=e.data("user_avatar"),n=e.data("desc"),comments_holder=l.find(".comments__holder"),img_comments=e.find(".comments__item"),comments_holder.html(""),img_comments.each(function(e,t){comments_holder.append(t)});var n=e.data("desc");l.find(".slider__img").attr("src",t),l.find(".slider__title").html(img_title),l.find(".likes__count").html(img_likes),l.find(".slider__text").html(n),l.find(".slider__author-name").html(img_user_name),l.find(".slider__author-photo img").attr("src",img_user_avatar),i()}helpers=e("./helpers.js");var l,d,c,u=helpers.getScrollbarWidth(),f=100;$(window).resize(function(){clearTimeout(c),c=setTimeout(i,f)}),t.exports={init:r,showNext:o,showPrev:a}},{"./helpers.js":4}]},{},[1]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJlIiwidCIsIm4iLCJyIiwicyIsIm8iLCJ1IiwiYSIsInJlcXVpcmUiLCJpIiwiZiIsIkVycm9yIiwiY29kZSIsImwiLCJleHBvcnRzIiwiY2FsbCIsImxlbmd0aCIsIjEiLCJtb2R1bGUiLCIkIiwic2hvd1Bob3RvUmVtb3ZpbmdCbG9jayIsInByZXZlbnREZWZhdWx0Iiwic2xpZGVVcCIsInNsaWRlRG93biIsImhpZGVQaG90b1JlbW92aW5nQmxvY2siLCJzaG93U29jaWFsRm9ybSIsInNvY2lhbEl0ZW0iLCJ0aGlzIiwiY2xvc2VzdCIsInNpYmxpbmdzIiwiZmluZCIsImhpZGUiLCJzaG93IiwiaGlkZVNvY2lhbEZvcm0iLCJwcmVsb2FkZXIiLCJtb2RhbCIsInNsaWRlciIsImFuaW1hdGlvbnMiLCJzZXRBamF4UmVzcG9uY2UiLCJpbWFnZVByZXZpZXciLCJwYXJhbGxheCIsInNjYWxhclgiLCJzY2FsYXJZIiwiZnJpY3Rpb25YIiwiZnJpY3Rpb25ZIiwiY2xpY2siLCJzdG9wIiwiYW5pbWF0ZSIsInNjcm9sbFRvcCIsImZhZGVQYWdlT24iLCJmbiIsImFuaW1hdGVkIiwiYW5pbWF0ZUNzcyIsImluaXQiLCJvbiIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJtYXhGaWxlU2l6ZU1iIiwiZHJvcHpvbmUiLCJ1cmwiLCJtYXhGaWxlc2l6ZSIsIndpbmRvdyIsInNjcm9sbFRvIiwialF1ZXJ5IiwiLi9tb2R1bGVzL2FqYXguanMiLCIuL21vZHVsZXMvYW5pbWF0aW9ucy5qcyIsIi4vbW9kdWxlcy9pbWFnZV9wcmV2aWV3LmpzIiwiLi9tb2R1bGVzL21vZGFsLmpzIiwiLi9tb2R1bGVzL3ByZWxvYWRlci5qcyIsIi4vbW9kdWxlcy9zbGlkZXIuanMiLCIyIiwic2V0QWpheFJlc3BvbmNlcyIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJ0YXJnZXQiLCJhamF4IiwibWV0aG9kIiwiZGF0YSIsInByb2Nlc3NEYXRhIiwiY29udGVudFR5cGUiLCJkb25lIiwibXNnIiwic3RhdHVzIiwidW5kZWZpbmVkIiwiYmFja2dyb3VuZCIsImNzcyIsImJhY2tncm91bmRJbWFnZSIsImF2YXRhciIsImF0dHIiLCJ0ZXh0IiwiZ2V0IiwiY29uc29sZSIsImxvZyIsIjMiLCJsaW5rX3NlbGVjdG9yIiwib3ZlcmxheV9zZWxlY3RvciIsInRpbWUiLCJkb2N1bWVudCIsImhyZWYiLCJmYWRlSW4iLCJsb2NhdGlvbiIsImluX2VmZmVjdCIsImVhY2giLCJlbGVtIiwib3BhY2l0eSIsIndheXBvaW50IiwiZGlyIiwib2Zmc2V0IiwiNCIsImdldFNjcm9sbGJhcldpZHRoIiwic3R5bGUiLCJtYXgtaGVpZ2h0Iiwib3ZlcmZsb3ciLCJwb3NpdGlvbiIsIndyYXBwZXIiLCJpbm5lciIsInN0cmV0Y2hlciIsInNjcm9sbEJhcldpZHRoIiwiYXBwZW5kIiwid2lkdGgiLCJyZW1vdmUiLCJpZVZlcnNpb24iLCJ1YSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsIm1zaWUiLCJpbmRleE9mIiwicGFyc2VJbnQiLCJzdWJzdHJpbmciLCJ0cmlkZW50IiwicnYiLCJlZGdlIiwiNSIsImlucHV0IiwiZmlsZXMiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwicmVzdWx0IiwicmVhZEFzRGF0YVVSTCIsImJnIiwiNiIsImNvbnRhaW5lciIsIm9wZW5CdG4iLCJjbG9zZUJ0biIsIm9wZW4iLCJjbG9zZSIsImJvZHkiLCI3IiwicHJlbG9hZGVyX2NvbnRhaW5lciIsInByZWxvYWRlcl9wZXJjZW50YWdlIiwiaGFzSW1hZ2VQcm9wZXJ0aWVzIiwiaGFzSW1hZ2VBdHRyaWJ1dGVzIiwibWF0Y2hfdXJsIiwiYWxsX2ltYWdlcyIsInRvdGFsIiwiY291bnQiLCJjaXJjbGVfbyIsImNpcmNsZV9jIiwiY2lyY2xlX2kiLCJsZW5ndGhfbyIsIk1hdGgiLCJQSSIsImxlbmd0aF9jIiwibGVuZ3RoX2kiLCJpbWdfbG9hZGVkIiwicGVyY2VudGFnZSIsImNlaWwiLCJzdHJva2VEYXNob2Zmc2V0IiwiaHRtbCIsImRvbmVfbG9hZGluZyIsImFuaW1hdGlvbiIsImRlbGF5IiwiZmFkZU91dCIsImltYWdlc19sb29wIiwidGVzdF9pbWFnZSIsIkltYWdlIiwib25lcnJvciIsInNyY3NldCIsInNyYyIsImVsZW1lbnQiLCJpcyIsInB1c2giLCJwcm9wZXJ0eSIsIm1hdGNoIiwicHJvcGVydHlWYWx1ZSIsImV4ZWMiLCJhdHRyaWJ1dGUiLCJhdHRyaWJ1dGVWYWx1ZSIsIjgiLCJuZXh0QnRuIiwicHJldkJ0biIsIm5leHQiLCJwcmV2IiwiY3VycmVudCIsInNob3dTbGlkZSIsInBhZGRpbmctcmlnaHQiLCJzY3JvbGxiYXJfd2lkdGgiLCJzaG93TmV4dCIsInNob3dQcmV2IiwiYWp1c3RJbWdIZWlnaHQiLCJzbGlkZXJQaG90byIsInNsaWRlSGVpZ2h0IiwiaGVpZ2h0IiwibmV4dFNsaWRlIiwicHJldlNsaWRlIiwiX2l0ZW0iLCJpbWdfdGh1bWIiLCJpbWdfdGl0bGUiLCJpbWdfbGlrZXMiLCJpbWdfdXNlcl9uYW1lIiwiaW1nX3VzZXJfYXZhdGFyIiwiaW1nX2Rlc2MiLCJjb21tZW50c19ob2xkZXIiLCJpbWdfY29tbWVudHMiLCJrZXkiLCJ2YWx1ZSIsImhlbHBlcnMiLCJyZXNpemVUaW1lb3V0IiwicmVzaXplRGVsdGEiLCJyZXNpemUiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiLi9oZWxwZXJzLmpzIl0sIm1hcHBpbmdzIjoiQ0FBQSxRQUFVQSxHQUFFQyxFQUFFQyxFQUFFQyxHQUFHLFFBQVNDLEdBQUVDLEVBQUVDLEdBQUcsSUFBSUosRUFBRUcsR0FBRyxDQUFDLElBQUlKLEVBQUVJLEdBQUcsQ0FBQyxHQUFJRSxHQUFrQixrQkFBVEMsVUFBcUJBLE9BQVEsS0FBSUYsR0FBR0MsRUFBRSxNQUFPQSxHQUFFRixHQUFFLEVBQUksSUFBR0ksRUFBRSxNQUFPQSxHQUFFSixHQUFFLEVBQUksSUFBSUssR0FBRSxHQUFJQyxPQUFNLHVCQUF1Qk4sRUFBRSxJQUFLLE1BQU1LLEdBQUVFLEtBQUssbUJBQW1CRixFQUFFLEdBQUlHLEdBQUVYLEVBQUVHLElBQUlTLFdBQVliLEdBQUVJLEdBQUcsR0FBR1UsS0FBS0YsRUFBRUMsUUFBUSxTQUFTZCxHQUFHLEdBQUlFLEdBQUVELEVBQUVJLEdBQUcsR0FBR0wsRUFBRyxPQUFPSSxHQUFFRixFQUFFQSxFQUFFRixJQUFJYSxFQUFFQSxFQUFFQyxRQUFRZCxFQUFFQyxFQUFFQyxFQUFFQyxHQUFHLE1BQU9ELEdBQUVHLEdBQUdTLFFBQWtELElBQUksR0FBMUNMLEdBQWtCLGtCQUFURCxVQUFxQkEsUUFBZ0JILEVBQUUsRUFBRUEsRUFBRUYsRUFBRWEsT0FBT1gsSUFBSUQsRUFBRUQsRUFBRUUsR0FBSSxPQUFPRCxLQUFLYSxHQUFHLFNBQVNULEVBQVFVLEVBQU9KLElBQ3ZkLFNBQVVLLEdBQ1QsWUFzR0EsU0FBU0MsR0FBdUJwQixHQUMvQkEsRUFBRXFCLGlCQUNGRixFQUFFLGtCQUFrQkcsUUFBUSxLQUM1QkgsRUFBRSxtQkFBbUJJLFVBQVUsS0FHaEMsUUFBU0MsR0FBdUJ4QixHQUMvQkEsRUFBRXFCLGlCQUNGRixFQUFFLG1CQUFtQkcsUUFBUSxLQUM3QkgsRUFBRSxrQkFBa0JJLFVBQVUsS0F5Qi9CLFFBQVNFLEdBQWV6QixHQUN2QkEsRUFBRXFCLGdCQUNGLElBQUlLLEdBQWNQLEVBQUVRLE1BQU1DLFFBQVEsZ0JBQ2xDRixHQUFXRyxXQUFXQyxLQUFLLGlCQUFpQkMsT0FDNUNMLEVBQVdJLEtBQUssaUJBQWlCRSxPQUdsQyxRQUFTQyxHQUFlakMsR0FDdkJBLEVBQUVxQixpQkFDRkYsRUFBRVEsTUFBTUMsUUFBUSxpQkFBaUJHLE9BL0lsQyxHQUFJRyxHQUFZMUIsRUFBUSwwQkFFdkIyQixFQUFRM0IsRUFBUSxzQkFDaEI0QixFQUFTNUIsRUFBUSx1QkFDakI2QixFQUFhN0IsRUFBUSwyQkFDckI4QixFQUFrQjlCLEVBQVEscUJBQzFCK0IsRUFBZS9CLEVBQVEsNkJBa0x4QixJQWpLR1csRUFBRSxlQUFlSCxRQUNuQkcsRUFBRSxlQUFlcUIsVUFDaEJDLFFBQVMsRUFDVEMsUUFBUyxFQUNUQyxVQUFXLEdBQ1hDLFVBQVcsS0FRYnpCLEVBQUUsVUFBVTBCLE1BQU0sV0FDakIxQixFQUFFLGNBQWMyQixPQUFPQyxTQUN0QkMsVUFBVyxHQUNULElBQUssV0FPVFgsRUFBV1ksV0FBVyxpQkFBa0IsYUFBYyxLQUV0RDlCLEVBQUUrQixHQUFHQyxTQUFXZCxFQUFXZSxXQUMzQmpDLEVBQUUsZUFBZWdDLFNBQVMsVUFPdEJoQyxFQUFFLGlCQUFpQkgsUUFDdEJtQixFQUFNa0IsS0FBSyxtQkFBb0IsZ0JBQWlCLG1CQU03Q2xDLEVBQUUsa0JBQWtCSCxRQUN2Qm1CLEVBQU1rQixLQUFLLG9CQUFxQixpQkFBa0IsbUJBTS9DbEMsRUFBRSxrQkFBa0JILFFBQ3ZCbUIsRUFBTWtCLEtBQUssb0JBQXFCLGlCQUFrQixtQkFNL0NsQyxFQUFFLGlCQUFpQkgsUUFDdEJtQixFQUFNa0IsS0FBSyxtQkFBb0IsZ0JBQWlCLG1CQU83Q2xDLEVBQUUsd0JBQXdCSCxRQUM3Qm1CLEVBQU1rQixLQUFLLG9CQUFxQix1QkFBd0Isb0JBTXJEbEMsRUFBRSx5QkFBeUJILFFBQzlCbUIsRUFBTWtCLEtBQUsscUJBQXNCLHdCQUF5QixvQkFtQnZEbEMsRUFBRSwyQkFBMkJILFFBQ2hDRyxFQUFFLDJCQUEyQm1DLEdBQUcsUUFBU2xDLEdBR3RDRCxFQUFFLDJCQUEyQkgsUUFDaENHLEVBQUUsMkJBQTJCbUMsR0FBRyxRQUFTOUIsR0FPdENMLEVBQUUsbUJBQW1CSCxPQUFTLEdBQ2pDb0IsRUFBT2lCLEtBQUssVUFBVyxrQkFBbUIsbUJBQW9CLGtCQUFtQixtQkFxQjlFbEMsRUFBRSx3QkFBd0JILFFBQzdCRyxFQUFFLHdCQUF3Qm1DLEdBQUcsUUFBUzdCLEdBRW5DTixFQUFFLGtCQUFrQkgsUUFDdkJHLEVBQUUsa0JBQWtCbUMsR0FBRyxRQUFTckIsR0FPakNkLEVBQUUsY0FBYzBCLE1BQU0sV0FDckIxQixFQUFFLFFBQVFvQyxTQUFTLGtCQUdwQnBDLEVBQUUsZ0JBQWdCMEIsTUFBTSxTQUFTN0MsR0FDaENBLEVBQUVxQixpQkFDRkYsRUFBRSxRQUFRcUMsWUFBWSxrQkFPdkJyQyxFQUFFLGtCQUFrQjBCLE1BQU0sU0FBUzdDLEdBQ2xDQSxFQUFFcUIsaUJBQ0ZGLEVBQUUsUUFBUW9DLFNBQVMsbUJBR3BCcEMsRUFBRSxrQkFBa0IwQixNQUFNLFNBQVM3QyxHQUNsQ0EsRUFBRXFCLGlCQUNGRixFQUFFLFFBQVFxQyxZQUFZLG1CQU9uQnJDLEVBQUUsZ0JBQWdCSCxPQUFRLENBRTdCLEdBQUl5QyxHQUFnQixDQUVwQnRDLEdBQUUsZ0JBQWdCdUMsVUFDakJDLElBQUssSUFDTEMsWUFBYUgsSUFTWHRDLEVBQUUsVUFBVUgsUUFFZkcsRUFBRSxVQUFVbUMsR0FBRyxRQUFTTyxPQUFPQyxTQUFTLEVBQUcsSUFJNUM1QixJQUVBSSxFQUFnQmUsT0FDaEJkLEVBQWFjLFFBRVhVLFVBQ0FDLG9CQUFvQixFQUFFQywwQkFBMEIsRUFBRUMsNkJBQTZCLEVBQUVDLHFCQUFxQixFQUFFQyx5QkFBeUIsRUFBRUMsc0JBQXNCLElBQUlDLEdBQUcsU0FBUzlELEVBQVFVLEVBQU9KLEdBSzNMLEdBQUl5RCxHQUFvQixXQUV0QixRQUFTbEIsS0FHUGxDLEVBQUUscUJBQXFCbUMsR0FBRyxTQUFVLFNBQVV0RCxHQUM1Q0EsRUFBRXFCLGdCQUNGLElBQUltRCxHQUFXLEdBQUlDLFVBQVN0RCxFQUFFbkIsRUFBRTBFLFFBQVEsR0FFeEN2RCxHQUFFd0QsTUFDSUMsT0FBUSxPQUNSakIsSUFBSyxpQkFDTGtCLEtBQU1MLEVBQ05NLGFBQWEsRUFDYkMsYUFBYSxJQUVkQyxLQUFLLFNBQVVDLEdBR0csV0FBZEEsRUFBSUMsU0FDaUJDLFNBQW5CRixFQUFJRyxZQUNMakUsRUFBRSxjQUFja0UsS0FDZEMsZ0JBQWlCLE9BQU9MLEVBQUlHLFdBQVcsTUFHekJELFNBQWZGLEVBQUlNLFFBQ0xwRSxFQUFFLGdCQUFnQnFFLEtBQUssTUFBT1AsRUFBSU0sUUFFcENwRSxFQUFFLG9CQUFvQnNFLEtBQUtqQixFQUFTa0IsSUFBSSxTQUN4Q3ZFLEVBQUUsb0JBQW9Cc0UsS0FBS2pCLEVBQVNrQixJQUFJLGdCQUN4Q3ZFLEVBQUUsb0JBQW9CcUUsS0FBSyxPQUFRaEIsRUFBU2tCLElBQUksT0FDaER2RSxFQUFFLG9CQUFvQnFFLEtBQUssT0FBUWhCLEVBQVNrQixJQUFJLGFBQ2hEdkUsRUFBRSxvQkFBb0JxRSxLQUFLLE9BQVFoQixFQUFTa0IsSUFBSSxZQUNoRHZFLEVBQUUsb0JBQW9CcUUsS0FBSyxPQUFRaEIsRUFBU2tCLElBQUksV0FDaER2RSxFQUFFLHVCQUF1QnFFLEtBQUssT0FBUSxVQUFVaEIsRUFBU2tCLElBQUksV0FFL0R2RSxFQUFFbkIsRUFBRTBFLFFBQVFsQixZQUFZLFFBQVFELFNBQVMsUUFDekNwQyxFQUFFLFFBQVFxQyxZQUFZLDJCQUs5QnJDLEVBQUUsbUJBQW1CbUMsR0FBRyxTQUFVLFNBQVV0RCxHQUMxQ0EsRUFBRXFCLGdCQUNGLElBQUltRCxHQUFXLEdBQUlDLFVBQVN0RCxFQUFFbkIsRUFBRTBFLFFBQVEsR0FDOUNpQixTQUFRQyxJQUFJLGFBQ056RSxFQUFFd0QsTUFDQUMsT0FBUSxPQUNSakIsSUFBSyxjQUNMa0IsS0FBTUwsRUFDTk0sYUFBYSxFQUNiQyxhQUFhLElBRWRDLEtBQUssU0FBVUMsR0FDZFUsUUFBUUMsSUFBSVgsT0FNbEIsT0FDRTVCLEtBQU1BLEtBSVZuQyxHQUFPSixTQUNMdUMsS0FBTWtCLEVBQWlCbEIsV0FFbkJ3QyxHQUFHLFNBQVNyRixFQUFRVSxFQUFPSixHQXdCakMsUUFBU21DLEdBQVk2QyxFQUFlQyxFQUFrQkMsR0FDckQ3RSxFQUFFOEUsVUFBVTNDLEdBQUcsUUFBU3dDLEVBQWUsU0FBUzlGLEdBQy9DLEdBQUlrRyxHQUFPL0UsRUFBRVEsTUFBTTZELEtBQUssT0FDeEIsSUFBWSxLQUFUVSxFQUFLLEdBR1AsTUFGQWxHLEdBQUVxQixpQkFFS0YsRUFBRTRFLEdBQ1BJLE9BQU9ILEVBQU0sV0FDYixNQUFPQyxVQUFTRyxTQUFtQixNQUFSRixFQUFlQSxFQUFPLFFBNUJ0RCxHQUFJOUMsR0FBYSxTQUFVaUQsR0FDMUJsRixFQUFFUSxNQUFNMkUsS0FBSyxXQUNaLEdBQUlDLEdBQU9wRixFQUFFUSxLQUNiNEUsR0FBS2xCLEtBQUttQixRQUFRLElBQ2hCakQsU0FBUyxZQUNUa0QsU0FBUyxTQUFTQyxHQUNOLFNBQVJBLEdBQ0hILEVBQUtoRCxTQUFTOEMsR0FBV2hCLEtBQUttQixRQUFRLE1BSXZDRyxPQUFRLFVBdUJaekYsR0FBT0osU0FDTnNDLFdBQWFBLEVBQ2JILFdBQWFBLFFBRVIyRCxHQUFHLFNBQVNwRyxFQUFRVSxFQUFPSixHQUlqQyxHQUFJK0YsR0FBb0IsV0FDdkIsR0FBSUMsSUFBU0MsYUFBYSxRQUFTQyxTQUFXLFNBQVVDLFNBQVcsWUFDbEVDLEVBQVUvRixFQUFFLHVDQUF1Q2tFLElBQUl5QixHQUN2REssRUFBUWhHLEVBQUUsdUNBQ1ZpRyxFQUFZakcsRUFBRSw2Q0FDZGtHLEVBQWlCLENBUWxCLE9BTkFILEdBQVFJLE9BQU9GLEdBQVdFLE9BQU9ILEdBQ2pDaEcsRUFBRSxRQUFRbUcsT0FBT0osR0FFakJHLEVBQWlCSCxFQUFRSyxRQUFRSixFQUFNSSxRQUN2Q0wsRUFBUU0sU0FFREgsR0FRSkksRUFBWSxXQUNmLEdBQUlDLEdBQUs3RCxPQUFPOEQsVUFBVUMsVUFFdEJDLEVBQU9ILEVBQUdJLFFBQVEsUUFDdEIsSUFBSUQsRUFBTyxFQUVWLE1BQU9FLFVBQVNMLEVBQUdNLFVBQVVILEVBQU8sRUFBR0gsRUFBR0ksUUFBUSxJQUFLRCxJQUFRLEdBR2hFLElBQUlJLEdBQVVQLEVBQUdJLFFBQVEsV0FDekIsSUFBSUcsRUFBVSxFQUFHLENBRWhCLEdBQUlDLEdBQUtSLEVBQUdJLFFBQVEsTUFDcEIsT0FBT0MsVUFBU0wsRUFBR00sVUFBVUUsRUFBSyxFQUFHUixFQUFHSSxRQUFRLElBQUtJLElBQU0sSUFHNUQsR0FBSUMsR0FBT1QsRUFBR0ksUUFBUSxRQUN0QixPQUFJSyxHQUFPLEdBRUhKLFNBQVNMLEVBQUdNLFVBQVVHLEVBQU8sRUFBR1QsRUFBR0ksUUFBUSxJQUFLSyxJQUFRLElBT2pFakgsR0FBT0osU0FDTitGLGtCQUFvQkEsRUFDcEJZLFVBQVlBLFFBRVBXLEdBQUcsU0FBUzVILEVBQVFVLEVBQU9KLEdBS2pDLEdBQUl5QixHQUFnQixXQUVsQixRQUFTYyxLQUdQbEMsRUFBRSxpQkFBaUJtQyxHQUFHLFNBQVUsV0FDOUIsR0FBSStFLEdBQVExRyxLQUNSNEQsRUFBU3BFLEVBQUUsa0JBRWYsSUFBSWtILEVBQU1DLE9BQVNELEVBQU1DLE1BQU0sR0FBSSxDQUNqQyxHQUFJQyxHQUFTLEdBQUlDLFdBRWpCRCxHQUFPRSxPQUFTLFNBQVN6SSxHQUN2QnVGLEVBQU9DLEtBQUssTUFBT3hGLEVBQUUwRSxPQUFPZ0UsU0FHOUJILEVBQU9JLGNBQWNOLEVBQU1DLE1BQU0sT0FNckNuSCxFQUFFLHFCQUFxQm1DLEdBQUcsU0FBVSxXQUNsQyxHQUFJK0UsR0FBUTFHLEtBQ1JpSCxFQUFLekgsRUFBRSxnQkFFWCxJQUFJa0gsRUFBTUMsT0FBU0QsRUFBTUMsTUFBTSxHQUFJLENBQ2pDLEdBQUlDLEdBQVMsR0FBSUMsV0FFakJELEdBQU9FLE9BQVMsU0FBU3pJLEdBQ3ZCNEksRUFBR3ZELEtBQ0RDLGdCQUFpQixPQUFRdEYsRUFBRTBFLE9BQU9nRSxPQUFRLE9BSTlDSCxFQUFPSSxjQUFjTixFQUFNQyxNQUFNLE9BTXZDLE9BQ0VqRixLQUFNQSxLQUlWbkMsR0FBT0osU0FDTHVDLEtBQU1kLEVBQWFjLFdBRWZ3RixHQUFHLFNBQVNySSxFQUFRVSxFQUFPSixHQUNqQyxRQUFTdUMsR0FBS3lGLEVBQVdDLEVBQVNDLEdBQ2pDLEdBQUk3RyxHQUFRaEIsRUFBRTJILEdBQ1ZHLEVBQU85SCxFQUFFNEgsR0FDVEcsRUFBUS9HLEVBQU1MLEtBQUtrSCxHQUNuQkcsRUFBT2hJLEVBQUUsT0FFYjhILEdBQUszRixHQUFHLFFBQVMsU0FBVXRELEdBQzFCQSxFQUFFcUIsaUJBQ0ZjLEVBQU1xQixZQUFZLFFBQVFELFNBQVMsUUFDbkM0RixFQUFLNUYsU0FBUyx5QkFHZjJGLEVBQU01RixHQUFHLFFBQVMsU0FBVXRELEdBQzNCQSxFQUFFcUIsaUJBQ0ZjLEVBQU1vQixTQUFTLFFBQVFDLFlBQVksUUFDbkMyRixFQUFLM0YsWUFBWSx5QkFJbkJ0QyxFQUFPSixTQUNOdUMsS0FBT0EsUUFJRitGLEdBQUcsU0FBUzVJLEVBQVFVLEVBQU9KLEdBSWpDLEdBQUl1SSxHQUFzQmxJLEVBQUUsY0FDM0JtSSxFQUF1Qm5JLEVBQUUsMEJBQ3pCb0ksR0FBc0IsYUFBYyxrQkFBbUIsaUJBQWtCLGNBQWUsb0JBQXFCLFVBQzdHQyxHQUFzQixVQUN0QkMsRUFBWSwrQkFDWkMsS0FDQUMsRUFBUSxFQUNSQyxFQUFRLEVBR0xDLEVBQVcxSSxFQUFFLCtCQUNoQjJJLEVBQVczSSxFQUFFLGdDQUNiNEksRUFBVzVJLEVBQUUsK0JBQ2I2SSxFQUFXQyxLQUFLQyxJQUF5QixFQUFyQkwsRUFBU3JFLEtBQUssTUFDbEMyRSxFQUFXRixLQUFLQyxJQUF5QixFQUFyQkosRUFBU3RFLEtBQUssTUFDbEM0RSxFQUFXSCxLQUFLQyxJQUF5QixFQUFyQkgsRUFBU3ZFLEtBQUssS0FJbkN0RSxHQUFPSixRQUFVLFdBRWhCLFFBQVN1SixLQUNSLEdBQUlDLEdBQWFMLEtBQUtNLE1BQU9YLEVBQU0sR0FBS0QsRUFBUSxJQXFCaEQsSUFuQkFDLEdBQVMsRUFDVFUsRUFBYUEsRUFBYSxJQUFNLElBQU1BLEVBSXRDVCxFQUFTeEUsS0FBS21GLGtCQUFvQixJQUFJRixHQUFZLElBQUtOLElBR3BETSxFQUFhLElBQ2ZSLEVBQVN6RSxLQUFLbUYsa0JBQW9CLElBQUlGLEdBQVksSUFBS0gsSUFJdkMsS0FBZEcsR0FDRlAsRUFBUzFFLEtBQUttRixrQkFBb0IsSUFBSUYsR0FBWSxJQUFLRixJQUd4RGQsRUFBcUJtQixLQUFLSCxHQUV2QlYsSUFBVUQsRUFDWixNQUFPZSxLQUlULFFBQVNBLEtBQ1JwQixFQUFxQmpFLEtBQUtzRixVQUFZLFNBQ3RDdEIsRUFBb0J1QixNQUFNLEtBQUtDLFFBQVEsSUFBSyxXQUUzQ3ZCLEVBQXFCOUIsV0FJdkIsUUFBU3NELEdBQWFuQixHQUNyQixJQUFJLEdBQUlsSixHQUFFLEVBQUdBLEVBQUVrSixFQUFPbEosSUFBSSxDQUN6QixHQUFJc0ssR0FBYSxHQUFJQyxNQUVyQkQsR0FBV3RDLE9BQVM0QixFQUNwQlUsRUFBV0UsUUFBVVosRUFFakJYLEVBQVdqSixHQUFHeUssU0FDakJILEVBQVdHLE9BQVN4QixFQUFXakosR0FBR3lLLFFBR25DSCxFQUFXSSxJQUFNekIsRUFBV2pKLEdBQUcwSyxLQUtqQ2hLLEVBQUUsS0FBS21GLEtBQUssV0FDWCxHQUFJOEUsR0FBVWpLLEVBQUVRLEtBRVp5SixHQUFRQyxHQUFHLFFBQVVELEVBQVE1RixLQUFLLFFBQ3JDa0UsRUFBVzRCLE1BQ1ZILElBQUtDLEVBQVE1RixLQUFLLE9BQ2xCNEYsUUFBU0EsRUFBUSxLQUluQmpLLEVBQUVtRixLQUFLaUQsRUFBb0IsU0FBVTlJLEVBQUc4SyxHQUN2QyxHQUNJQyxHQURBQyxFQUFnQkwsRUFBUS9GLElBQUlrRyxFQUdoQyxRQUFLRSxJQUlMRCxFQUFRL0IsRUFBVWlDLEtBQUtELFFBRW5CRCxHQUNIOUIsRUFBVzRCLE1BQ1ZILElBQUtLLEVBQU0sR0FDWEosUUFBU0EsRUFBUSxTQUtwQmpLLEVBQUVtRixLQUFLa0QsRUFBb0IsU0FBVS9JLEVBQUdrTCxHQUN2QyxHQUFJQyxHQUFpQlIsRUFBUTVGLEtBQUttRyxFQUVsQyxRQUFLQyxPQUlMbEMsR0FBVzRCLE1BQ1ZILElBQUtDLEVBQVE1RixLQUFLLE9BQ2xCMEYsT0FBUUUsRUFBUTVGLEtBQUssVUFDckI0RixRQUFTQSxFQUFRLFNBS3BCekIsRUFBUUQsRUFBVzFJLE9BR0wsSUFBVjJJLEdBQ0hMLEVBQXFCbUIsS0FBSyxLQUMxQkMsS0FFQUksRUFBWW5CLFNBR1JrQyxHQUFHLFNBQVNyTCxFQUFRVSxFQUFPSixHQVNqQyxRQUFTdUMsR0FBS3lGLEVBQVdDLEVBQVNDLEVBQVU4QyxFQUFTQyxHQUNwRDNKLEVBQVNqQixFQUFFMkgsRUFFWCxJQUFJRyxHQUFPOUgsRUFBRTRILEdBQ1pHLEVBQVE5RyxFQUFPTixLQUFLa0gsR0FDcEJnRCxFQUFPNUosRUFBT04sS0FBS2dLLEdBQ25CRyxFQUFPN0osRUFBT04sS0FBS2lLLEdBQ25CNUMsRUFBT2hJLEVBQUUsT0FFVjhILEdBQUszRixHQUFHLFFBQVMsU0FBVXRELEdBQzFCQSxFQUFFcUIsaUJBRUY2SyxFQUFVL0ssRUFBRVEsTUFBTUMsUUFBUSxlQUMxQnVLLEVBQVVELEdBRVY5SixFQUFPb0IsWUFBWSxRQUFRRCxTQUFTLFFBQ3BDNEYsRUFBSzVGLFNBQVMsdUJBQ1o4QixLQUFLK0csZ0JBQWtCQyxNQUcxQm5ELEVBQU01RixHQUFHLFFBQVMsU0FBVXRELEdBQzNCQSxFQUFFcUIsaUJBQ0ZlLEVBQU9tQixTQUFTLFFBQVFDLFlBQVksUUFDcEMyRixFQUFLM0YsWUFBWSx1QkFDZjZCLEtBQUsrRyxnQkFBa0IsTUFHMUJKLEVBQUsxSSxHQUFHLFFBQVMsU0FBVXRELEdBQzFCQSxFQUFFcUIsaUJBQ0ZpTCxNQUdETCxFQUFLM0ksR0FBRyxRQUFTLFNBQVV0RCxHQUMxQkEsRUFBRXFCLGlCQUNGa0wsTUFLRixRQUFTQyxLQUVSLEdBQUlDLEdBQWNySyxFQUFPTixLQUFLLGtCQUM3QjRLLEVBQWN0SyxFQUFPTixLQUFLLGdCQUFnQjZLLFFBRTNDRixHQUFZMUosU0FDWDRKLE9BQVVELEdBQ1IsS0FHSixRQUFTSixLQUNSLEdBQUlNLEdBQVlWLEVBQVFGLEtBQUssY0FDekJZLEdBQVU1TCxTQUNibUwsRUFBVVMsR0FDVlYsRUFBVVUsR0FJWixRQUFTTCxLQUNSLEdBQUlNLEdBQVlYLEVBQVFELEtBQUssY0FDekJZLEdBQVU3TCxTQUNibUwsRUFBVVUsR0FDVlgsRUFBVVcsR0FJWixRQUFTVixHQUFVVyxHQUNsQixHQUFJQyxHQUFZRCxFQUFNakksS0FBSyxRQUMxQm1JLFdBQVlGLEVBQU1qSSxLQUFLLFNBQ3ZCb0ksVUFBWUgsRUFBTWpJLEtBQUssU0FDdkJxSSxjQUFnQkosRUFBTWpJLEtBQUssYUFDM0JzSSxnQkFBa0JMLEVBQU1qSSxLQUFLLGVBQzdCdUksRUFBV04sRUFBTWpJLEtBQUssUUFDdEJ3SSxnQkFBa0JqTCxFQUFPTixLQUFLLHFCQUM5QndMLGFBQWVSLEVBQU1oTCxLQUFLLG1CQUczQnVMLGdCQUFnQjVDLEtBQUssSUFHckI2QyxhQUFhaEgsS0FBSyxTQUFTaUgsRUFBS0MsR0FDL0JILGdCQUFnQi9GLE9BQU9rRyxJQUl4QixJQUFJSixHQUFXTixFQUFNakksS0FBSyxPQUUxQnpDLEdBQU9OLEtBQUssZ0JBQWdCMEQsS0FBSyxNQUFPdUgsR0FDeEMzSyxFQUFPTixLQUFLLGtCQUFrQjJJLEtBQUt1QyxXQUNuQzVLLEVBQU9OLEtBQUssaUJBQWlCMkksS0FBS3dDLFdBQ2xDN0ssRUFBT04sS0FBSyxpQkFBaUIySSxLQUFLMkMsR0FDbENoTCxFQUFPTixLQUFLLHdCQUF3QjJJLEtBQUt5QyxlQUN6QzlLLEVBQU9OLEtBQUssNkJBQTZCMEQsS0FBSyxNQUFPMkgsaUJBRXJEWCxJQXJHRGlCLFFBQVVqTixFQUFRLGVBRWxCLElBQ0M0QixHQUNBOEosRUFDQXdCLEVBSEdyQixFQUFrQm9CLFFBQVE1RyxvQkFJN0I4RyxFQUFjLEdBa0dmeE0sR0FBRTBDLFFBQVErSixPQUFPLFdBQ2hCQyxhQUFhSCxHQUNiQSxFQUFnQkksV0FBV3RCLEVBQWdCbUIsS0FHNUN6TSxFQUFPSixTQUNOdUMsS0FBT0EsRUFDUGlKLFNBQVVBLEVBQ1ZDLFNBQVVBLEtBSVJ3QixlQUFlLFNBQVMiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkoezE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uKCQpIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0dmFyIHByZWxvYWRlciA9IHJlcXVpcmUoXCIuL21vZHVsZXMvcHJlbG9hZGVyLmpzXCIpLFxuXHRcdC8vIGhlbHBlcnMgPSByZXF1aXJlKFwiLi9tb2R1bGVzL2hlbHBlcnMuanNcIiksXG5cdFx0bW9kYWwgPSByZXF1aXJlKFwiLi9tb2R1bGVzL21vZGFsLmpzXCIpLFxuXHRcdHNsaWRlciA9IHJlcXVpcmUoXCIuL21vZHVsZXMvc2xpZGVyLmpzXCIpLFxuXHRcdGFuaW1hdGlvbnMgPSByZXF1aXJlKFwiLi9tb2R1bGVzL2FuaW1hdGlvbnMuanNcIiksXG5cdFx0c2V0QWpheFJlc3BvbmNlID0gcmVxdWlyZShcIi4vbW9kdWxlcy9hamF4LmpzXCIpLFxuXHRcdGltYWdlUHJldmlldyA9IHJlcXVpcmUoXCIuL21vZHVsZXMvaW1hZ2VfcHJldmlldy5qc1wiKTtcblxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0Ly8gQWRhcHRpdmUgYnJlYWtwb2ludHNcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdC8vIHZhciBzY3JvbGxiYXJfd2lkdGggPSBoZWxwZXJzLmdldFNjcm9sbGJhcldpZHRoKCksXG5cdC8vIFx0c2NyZWVuX3NpemVzID0ge1xuXHQvLyBcdFx0bW9iaWxlIDogNDgwIC0gc2Nyb2xsYmFyX3dpZHRoLFxuXHQvLyBcdFx0dGFibGV0IDogNzY4IC0gc2Nyb2xsYmFyX3dpZHRoLFxuXHQvLyBcdFx0bGltaXQgOiAyMDAwIC0gc2Nyb2xsYmFyX3dpZHRoXG5cdC8vIFx0fTtcblxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0Ly8gUGFyYWxsYXhcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cblx0Ly8gTWFpbiBwYWdlIG1vdXNlIHBhcmFsbGF4XG5cdGlmKCQoXCIjc2NlbmUuYXhpc1wiKS5sZW5ndGgpe1xuXHRcdCQoXCIjc2NlbmUuYXhpc1wiKS5wYXJhbGxheCh7XG5cdFx0XHRzY2FsYXJYOiAzLFxuXHRcdFx0c2NhbGFyWTogMyxcblx0XHRcdGZyaWN0aW9uWDogMC41LFxuXHRcdFx0ZnJpY3Rpb25ZOiAwLjVcblx0XHR9KTtcblx0fVxuXG5cblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdC8vIEZvb3RlciBzY3JvbGwgYnV0dG9uXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHQkKFwiI2dvLXVwXCIpLmNsaWNrKGZ1bmN0aW9uKCl7XG5cdFx0JChcImh0bWwsIGJvZHlcIikuc3RvcCgpLmFuaW1hdGUoe1xuXHRcdFx0c2Nyb2xsVG9wOiAwXG5cdFx0fSwgNzAwLCBcInN3aW5nXCIpO1xuXHR9KTtcblxuXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHQvLyBBbmltYXRpb25zIGV4YW1wbGVcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdGFuaW1hdGlvbnMuZmFkZVBhZ2VPbihcImEucHJlbG9hZC1saW5rXCIsIFwiI3ByZWxvYWRlclwiLCAzMDApO1xuXG5cdCQuZm4uYW5pbWF0ZWQgPSBhbmltYXRpb25zLmFuaW1hdGVDc3M7XG5cdCQoXCIuYWxidW0taXRlbVwiKS5hbmltYXRlZChcImZhZGVJblwiKTtcblxuXG5cblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdC8vIEluaXQgQWRkIEFsYnVtIE1vZGFsXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHRpZiAoJChcIi5qcy1hZGQtYWxidW1cIikubGVuZ3RoKSB7XG5cdFx0bW9kYWwuaW5pdChcIiNhZGQtYWxidW0tbW9kYWxcIiwgXCIuanMtYWRkLWFsYnVtXCIsIFwiLmpzLWNsb3NlLW1vZGFsXCIpO1xuXHR9XG5cblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdC8vIEluaXQgQWRkIFBob3RvcyBNb2RhbFxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0aWYgKCQoXCIuanMtYWRkLXBob3Rvc1wiKS5sZW5ndGgpIHtcblx0XHRtb2RhbC5pbml0KFwiI2FkZC1waG90b3MtbW9kYWxcIiwgXCIuanMtYWRkLXBob3Rvc1wiLCBcIi5qcy1jbG9zZS1tb2RhbFwiKTtcblx0fVxuXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHQvLyBJbml0IEVkaXQgUGhvdG8gTW9kYWxcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdGlmICgkKFwiLmpzLWVkaXQtcGhvdG9cIikubGVuZ3RoKSB7XG5cdFx0bW9kYWwuaW5pdChcIiNlZGl0LXBob3RvLW1vZGFsXCIsIFwiLmpzLWVkaXQtcGhvdG9cIiwgXCIuanMtY2xvc2UtbW9kYWxcIik7XG5cdH1cblxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0Ly8gSW5pdCBFZGl0IFVzZXIgTW9kYWxcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdGlmICgkKFwiLmpzLWVkaXQtdXNlclwiKS5sZW5ndGgpIHtcblx0XHRtb2RhbC5pbml0KFwiI2VkaXQtdXNlci1tb2RhbFwiLCBcIi5qcy1lZGl0LXVzZXJcIiwgXCIuanMtY2xvc2UtbW9kYWxcIik7XG5cdH1cblxuXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHQvLyBJbml0IEVkaXQgVXNlciBNb2RhbCAoaW4gSGVhZGVyKVxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0aWYgKCQoXCIuanMtZWRpdC11c2VyLWhlYWRlclwiKS5sZW5ndGgpIHtcblx0XHRtb2RhbC5pbml0KFwiI2VkaXQtdXNlci1oZWFkZXJcIiwgXCIuanMtZWRpdC11c2VyLWhlYWRlclwiLCBcIi5qcy1jbG9zZS1oZWFkZXJcIik7XG5cdH1cblxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0Ly8gSW5pdCBFZGl0IEFsYnVtIE1vZGFsIChpbiBIZWFkZXIpXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHRpZiAoJChcIi5qcy1lZGl0LWFsYnVtLWhlYWRlclwiKS5sZW5ndGgpIHtcblx0XHRtb2RhbC5pbml0KFwiI2VkaXQtYWxidW0taGVhZGVyXCIsIFwiLmpzLWVkaXQtYWxidW0taGVhZGVyXCIsIFwiLmpzLWNsb3NlLWhlYWRlclwiKTtcblx0fVxuXG5cblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdC8vIEVkaXQgVXNlciBNb2RhbCAtIERlbGV0ZSBQaG90b1xuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0ZnVuY3Rpb24gc2hvd1Bob3RvUmVtb3ZpbmdCbG9jayhlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdCQoXCIucGhvdG8tZWRpdGluZ1wiKS5zbGlkZVVwKDMwMCk7XG5cdFx0JChcIi5waG90by1yZW1vdmluZ1wiKS5zbGlkZURvd24oMzAwKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGhpZGVQaG90b1JlbW92aW5nQmxvY2soZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHQkKFwiLnBob3RvLXJlbW92aW5nXCIpLnNsaWRlVXAoMzAwKTtcblx0XHQkKFwiLnBob3RvLWVkaXRpbmdcIikuc2xpZGVEb3duKDMwMCk7XG5cdH1cblxuXHRpZiAoJChcIi5qcy1zaG93LXBob3RvLXJlbW92aW5nXCIpLmxlbmd0aCkge1xuXHRcdCQoXCIuanMtc2hvdy1waG90by1yZW1vdmluZ1wiKS5vbihcImNsaWNrXCIsIHNob3dQaG90b1JlbW92aW5nQmxvY2spO1xuXHR9XG5cblx0aWYgKCQoXCIuanMtaGlkZS1waG90by1yZW1vdmluZ1wiKS5sZW5ndGgpIHtcblx0XHQkKFwiLmpzLWhpZGUtcGhvdG8tcmVtb3ZpbmdcIikub24oXCJjbGlja1wiLCBoaWRlUGhvdG9SZW1vdmluZ0Jsb2NrKTtcblx0fVxuXG5cblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdC8vIEluaXQgRWRpdCBBbGJ1bSBNb2RhbCAoaW4gSGVhZGVyKVxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0aWYgKCQoXCIuanMtb3Blbi1zbGlkZXJcIikubGVuZ3RoID4gMCkge1xuXHRcdHNsaWRlci5pbml0KFwiI3NsaWRlclwiLCBcIi5qcy1vcGVuLXNsaWRlclwiLCBcIi5qcy1jbG9zZS1zbGlkZXJcIiwgXCIuanMtc2xpZGVyLW5leHRcIiwgXCIuanMtc2xpZGVyLXByZXZcIik7XG5cdH1cblxuXG5cblxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0Ly8gU2hvdyBTb2NpYWwgSXRlbXMgRm9ybXNcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdGZ1bmN0aW9uIHNob3dTb2NpYWxGb3JtKGUpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0dmFyIHNvY2lhbEl0ZW0gPSAgJCh0aGlzKS5jbG9zZXN0KFwiLnNvY2lhbF9faXRlbVwiKTtcblx0XHRzb2NpYWxJdGVtLnNpYmxpbmdzKCkuZmluZChcIi5zb2NpYWxfX2Zvcm1cIikuaGlkZSgpO1xuXHRcdHNvY2lhbEl0ZW0uZmluZChcIi5zb2NpYWxfX2Zvcm1cIikuc2hvdygpO1xuXHR9XG5cblx0ZnVuY3Rpb24gaGlkZVNvY2lhbEZvcm0oZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHQkKHRoaXMpLmNsb3Nlc3QoXCIuc29jaWFsX19mb3JtXCIpLmhpZGUoKTtcblx0fVxuXG5cdGlmICgkKFwiLmpzLW9wZW4tc29jaWFsLWZvcm1cIikubGVuZ3RoKSB7XG5cdFx0JChcIi5qcy1vcGVuLXNvY2lhbC1mb3JtXCIpLm9uKFwiY2xpY2tcIiwgc2hvd1NvY2lhbEZvcm0pO1xuXHR9XG5cdGlmICgkKFwiLmpzLWNsb3NlLWZvcm1cIikubGVuZ3RoKSB7XG5cdFx0JChcIi5qcy1jbG9zZS1mb3JtXCIpLm9uKFwiY2xpY2tcIiwgaGlkZVNvY2lhbEZvcm0pO1xuXHR9XG5cblxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0Ly8gTG9naW4gY2FyZCBmbGlwXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHQkKFwiI2ZsaXAtY2FyZFwiKS5jbGljayhmdW5jdGlvbigpIHtcblx0XHQkKFwiYm9keVwiKS5hZGRDbGFzcyhcImNhcmRfZmxpcHBlZFwiKTtcblx0fSk7XG5cblx0JChcIiN1bmZsaXAtY2FyZFwiKS5jbGljayhmdW5jdGlvbihlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdCQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwiY2FyZF9mbGlwcGVkXCIpO1xuXHR9KTtcblxuXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHQvLyBMb2dpbiBzaG93IFJlY292ZXJ5IHBhc3N3b3JkIENhcmRcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdCQoXCIjc2hvdy1yZWNvdmVyeVwiKS5jbGljayhmdW5jdGlvbihlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdCQoXCJib2R5XCIpLmFkZENsYXNzKFwic2hvd19yZWNvdmVyeVwiKTtcblx0fSk7XG5cblx0JChcIiNoaWRlLXJlY292ZXJ5XCIpLmNsaWNrKGZ1bmN0aW9uKGUpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0JChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJzaG93X3JlY292ZXJ5XCIpO1xuXHR9KTtcblxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0Ly8gRHJvcHpvbmUgKEFkZCBwaG90b3MpXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5cdGlmICgkKFwiZGl2I2Ryb3B6b25lXCIpLmxlbmd0aCkge1xuXG5cdFx0dmFyIG1heEZpbGVTaXplTWIgPSAyO1xuXG5cdFx0JChcImRpdiNkcm9wem9uZVwiKS5kcm9wem9uZSh7XG5cdFx0XHR1cmw6IFwiL1wiICxcblx0XHRcdG1heEZpbGVzaXplOiBtYXhGaWxlU2l6ZU1iXG5cdFx0fSk7XG5cdH1cblxuXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHQvLyBTY3JvbGwgVXAgQnV0dG9uXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5cdGlmICgkKFwiI2dvLXVwXCIpLmxlbmd0aCkge1xuXG5cdFx0JChcIiNnby11cFwiKS5vbihcImNsaWNrXCIsIHdpbmRvdy5zY3JvbGxUbygwLCAwKSk7XG5cdH1cblxuXG5cdHByZWxvYWRlcigpO1xuXG5cdHNldEFqYXhSZXNwb25jZS5pbml0KCk7XG5cdGltYWdlUHJldmlldy5pbml0KCk7XG5cbn0pKGpRdWVyeSk7XG59LHtcIi4vbW9kdWxlcy9hamF4LmpzXCI6MixcIi4vbW9kdWxlcy9hbmltYXRpb25zLmpzXCI6MyxcIi4vbW9kdWxlcy9pbWFnZV9wcmV2aWV3LmpzXCI6NSxcIi4vbW9kdWxlcy9tb2RhbC5qc1wiOjYsXCIuL21vZHVsZXMvcHJlbG9hZGVyLmpzXCI6NyxcIi4vbW9kdWxlcy9zbGlkZXIuanNcIjo4fV0sMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vKiogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4qIC0tLS0tINCj0YHRgtCw0L3QvtCy0LrQsCBhamF4LdC30LDQv9GA0L7RgdC+0LIgLS0tLS0tLS1cbiogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxudmFyIHNldEFqYXhSZXNwb25jZXMgPSAoZnVuY3Rpb24oKSB7XG5cbiAgZnVuY3Rpb24gaW5pdCgpIHtcblxuICAgIC8vINCg0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40LUg0LTQsNC90L3Ri9GFINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xuICAgICQoJyNlZGl0LXVzZXItaGVhZGVyJykub24oJ3N1Ym1pdCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoJChlLnRhcmdldClbMF0pO1xuXG4gICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgIHVybDogXCIvdXNlci9zYXZlZGF0YVwiLFxuICAgICAgICAgICAgZGF0YTogZm9ybURhdGEsXG4gICAgICAgICAgICBwcm9jZXNzRGF0YTogZmFsc2UsXG4gICAgICAgICAgICBjb250ZW50VHlwZTogZmFsc2VcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5kb25lKGZ1bmN0aW9uIChtc2cpIHtcbi8vIGNvbnNvbGUubG9nKG1zZyk7XG5cbiAgICAgICAgICAgIGlmKG1zZy5zdGF0dXMgPT0gJ3N1Y2Nlc3MnKSB7XG4gICAgICAgICAgICAgIGlmKG1zZy5iYWNrZ3JvdW5kICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAkKCcubWFpbi1wYWdlJykuY3NzKHtcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZTogXCJ1cmwoXCIrbXNnLmJhY2tncm91bmQrXCIpXCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZihtc2cuYXZhdGFyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAkKCcjdXNlci1hdmF0YXInKS5hdHRyKCdzcmMnLCBtc2cuYXZhdGFyKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAkKCcudXNlci1pbmZvX19uYW1lJykudGV4dChmb3JtRGF0YS5nZXQoJ25hbWUnKSk7XG4gICAgICAgICAgICAgICQoJy51c2VyLWluZm9fX2Rlc2MnKS50ZXh0KGZvcm1EYXRhLmdldCgnZGVzY3JpcHRpb24nKSk7XG4gICAgICAgICAgICAgICQoJyNzb2NpYWxfX2xpbmtfdmsnKS5hdHRyKCdocmVmJywgZm9ybURhdGEuZ2V0KCd2aycpKTtcbiAgICAgICAgICAgICAgJCgnI3NvY2lhbF9fbGlua19mYicpLmF0dHIoJ2hyZWYnLCBmb3JtRGF0YS5nZXQoJ2ZhY2Vib29rJykpO1xuICAgICAgICAgICAgICAkKCcjc29jaWFsX19saW5rX3R3JykuYXR0cignaHJlZicsIGZvcm1EYXRhLmdldCgndHdpdHRlcicpKTtcbiAgICAgICAgICAgICAgJCgnI3NvY2lhbF9fbGlua19nZycpLmF0dHIoJ2hyZWYnLCBmb3JtRGF0YS5nZXQoJ2dvb2dsZScpKTtcbiAgICAgICAgICAgICAgJCgnI3NvY2lhbF9fbGlua19lbWFpbCcpLmF0dHIoJ2hyZWYnLCBcIm1haWx0bzpcIitmb3JtRGF0YS5nZXQoJ2VtYWlsJykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJChlLnRhcmdldCkucmVtb3ZlQ2xhc3MoJ3Nob3cnKS5hZGRDbGFzcygnaGlkZScpO1xuICAgICAgICAgICAgJCgnYm9keScpLnJlbW92ZUNsYXNzKCdoYXMtb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyDQlNC+0LHQsNCy0LvQtdC90LjQtSDQsNC70YzQsdC+0LzQsFxuICAgICQoJyNmb3JtLWFkZC1hbGJ1bScpLm9uKCdzdWJtaXQnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCQoZS50YXJnZXQpWzBdKTtcbmNvbnNvbGUubG9nKCdhZGQtYWxidW0nKTtcbiAgICAgICQuYWpheCh7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIHVybDogXCIvYWxidW0vc2F2ZVwiLFxuICAgICAgICBkYXRhOiBmb3JtRGF0YSxcbiAgICAgICAgcHJvY2Vzc0RhdGE6IGZhbHNlLFxuICAgICAgICBjb250ZW50VHlwZTogZmFsc2VcbiAgICAgIH0pXG4gICAgICAuZG9uZShmdW5jdGlvbiAobXNnKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKG1zZyk7XG4gICAgICB9KVxuICAgIH0pXG5cbiAgfVxuICBcbiAgcmV0dXJuIHtcbiAgICBpbml0OiBpbml0XG4gIH1cbn0oKSk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBpbml0OiBzZXRBamF4UmVzcG9uY2VzLmluaXRcbn07XG59LHt9XSwzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gQW5pbWF0ZSBlbGVtZW50cyBvbiBzY3JvbGwuIEJhc2VkIG9uIHdheXBvaW50cy5qc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG52YXIgYW5pbWF0ZUNzcyA9IGZ1bmN0aW9uIChpbl9lZmZlY3QpIHtcblx0JCh0aGlzKS5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdHZhciBlbGVtID0gJCh0aGlzKTtcblx0XHRlbGVtLmNzcyh7b3BhY2l0eTowfSlcblx0XHRcdC5hZGRDbGFzcyhcImFuaW1hdGVkXCIpXG5cdFx0XHQud2F5cG9pbnQoZnVuY3Rpb24oZGlyKSB7XG5cdFx0XHRcdGlmIChkaXIgPT09IFwiZG93blwiKSB7XG5cdFx0XHRcdFx0ZWxlbS5hZGRDbGFzcyhpbl9lZmZlY3QpLmNzcyh7b3BhY2l0eToxfSk7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdG9mZnNldDogXCI5MCVcIlxuXHRcdFx0fSk7XG5cdH0pO1xufTtcblxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU2hvdyBvd2VybGF5IGxheWVyIHdoZW4gc3BlY2lmaWVkIGxpbmsgaGFzIGJlZW4gY2xpY2tlZFxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmZ1bmN0aW9uIGZhZGVQYWdlT24gKGxpbmtfc2VsZWN0b3IsIG92ZXJsYXlfc2VsZWN0b3IsIHRpbWUpe1xuXHQkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsIGxpbmtfc2VsZWN0b3IsIGZ1bmN0aW9uKGUpIHtcblx0XHR2YXIgaHJlZiA9ICQodGhpcykuYXR0cihcImhyZWZcIik7XG5cdFx0aWYoaHJlZlswXSE9XCIjXCIpe1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHRyZXR1cm4gJChvdmVybGF5X3NlbGVjdG9yKVxuXHRcdFx0XHQuZmFkZUluKHRpbWUsIGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0cmV0dXJuIGRvY3VtZW50LmxvY2F0aW9uID0gaHJlZiAhPSBudWxsID8gaHJlZiA6IFwiL1wiO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0fSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcblx0YW5pbWF0ZUNzcyA6IGFuaW1hdGVDc3MsXG5cdGZhZGVQYWdlT24gOiBmYWRlUGFnZU9uXG59O1xufSx7fV0sNDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIENoZWNrIGJyb3dzZXIgc2Nyb2xsYmFyIHdpZHRoXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbnZhciBnZXRTY3JvbGxiYXJXaWR0aCA9IGZ1bmN0aW9uICgpe1xuXHR2YXIgc3R5bGUgPSB7XCJtYXgtaGVpZ2h0XCI6XCIxMDBweFwiLCBcIm92ZXJmbG93XCI6XCJzY3JvbGxcIiwgXCJwb3NpdGlvblwiOlwiYWJzb2x1dGVcIn0sXG5cdFx0d3JhcHBlciA9ICQoXCI8ZGl2IGlkPSdzY3JvbGxfYmFyX2NoZWNrX0EnPjwvZGl2PlwiKS5jc3Moc3R5bGUpLFxuXHRcdGlubmVyID0gJChcIjxkaXYgaWQ9J3Njcm9sbF9iYXJfY2hlY2tfQic+PC9kaXY+XCIpLFxuXHRcdHN0cmV0Y2hlciA9ICQoXCI8aW1nIHNyYz0nL2Fzc2V0cy9pbWcvZm9yY2Utc2Nyb2xsLnBuZycvPlwiKSxcblx0XHRzY3JvbGxCYXJXaWR0aCA9IDA7XG5cblx0d3JhcHBlci5hcHBlbmQoc3RyZXRjaGVyKS5hcHBlbmQoaW5uZXIpO1xuXHQkKFwiYm9keVwiKS5hcHBlbmQod3JhcHBlcik7XG5cblx0c2Nyb2xsQmFyV2lkdGggPSB3cmFwcGVyLndpZHRoKCktaW5uZXIud2lkdGgoKTtcblx0d3JhcHBlci5yZW1vdmUoKTtcblxuXHRyZXR1cm4gc2Nyb2xsQmFyV2lkdGg7XG59O1xuXG5cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBDaGVjayBJRSB2ZXJzaW9uXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbnZhciBpZVZlcnNpb24gPSBmdW5jdGlvbiAoKSB7XG5cdHZhciB1YSA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50O1xuXG5cdHZhciBtc2llID0gdWEuaW5kZXhPZihcIk1TSUUgXCIpO1xuXHRpZiAobXNpZSA+IDApIHtcblx0XHQvLyBJRSAxMCBvciBvbGRlciA9PiByZXR1cm4gdmVyc2lvbiBudW1iZXJcblx0XHRyZXR1cm4gcGFyc2VJbnQodWEuc3Vic3RyaW5nKG1zaWUgKyA1LCB1YS5pbmRleE9mKFwiLlwiLCBtc2llKSksIDEwKTtcblx0fVxuXG5cdHZhciB0cmlkZW50ID0gdWEuaW5kZXhPZihcIlRyaWRlbnQvXCIpO1xuXHRpZiAodHJpZGVudCA+IDApIHtcblx0XHQvLyBJRSAxMSA9PiByZXR1cm4gdmVyc2lvbiBudW1iZXJcblx0XHR2YXIgcnYgPSB1YS5pbmRleE9mKFwicnY6XCIpO1xuXHRcdHJldHVybiBwYXJzZUludCh1YS5zdWJzdHJpbmcocnYgKyAzLCB1YS5pbmRleE9mKFwiLlwiLCBydikpLCAxMCk7XG5cdH1cblxuXHR2YXIgZWRnZSA9IHVhLmluZGV4T2YoXCJFZGdlL1wiKTtcblx0aWYgKGVkZ2UgPiAwKSB7XG5cdFx0Ly8gRWRnZSAoSUUgMTIrKSA9PiByZXR1cm4gdmVyc2lvbiBudW1iZXJcblx0XHRyZXR1cm4gcGFyc2VJbnQodWEuc3Vic3RyaW5nKGVkZ2UgKyA1LCB1YS5pbmRleE9mKFwiLlwiLCBlZGdlKSksIDEwKTtcblx0fVxuXG5cdC8vIG90aGVyIGJyb3dzZXJcblx0cmV0dXJuIGZhbHNlO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG5cdGdldFNjcm9sbGJhcldpZHRoIDogZ2V0U2Nyb2xsYmFyV2lkdGgsXG5cdGllVmVyc2lvbiA6IGllVmVyc2lvblxufVxufSx7fV0sNTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vKiogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiAtLS0tLSDQn9C+0LTQutC70Y7Rh9C10L3QuNC1INC/0YDQtdC00L/RgNC+0YHQvNC+0YLRgNCwINGE0L7RgtC+INC4INGE0L7QvdCwIC0tLS0tLS0tXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbnZhciBpbWFnZVByZXZpZXcgPSAoZnVuY3Rpb24oKSB7XG5cbiAgZnVuY3Rpb24gaW5pdCgpIHtcblxuICAgIC8vIEF2YXRhciBwcmV2aWV3XG4gICAgJCgnI2lucHV0X2F2YXRhcicpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbigpe1xuICAgICAgdmFyIGlucHV0ID0gdGhpcyxcbiAgICAgICAgICBhdmF0YXIgPSAkKCcjcHJldmlld19hdmF0YXInKTtcblxuICAgICAgaWYgKGlucHV0LmZpbGVzICYmIGlucHV0LmZpbGVzWzBdKSB7XG4gICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuXG4gICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbihlKXtcbiAgICAgICAgICBhdmF0YXIuYXR0cihcInNyY1wiLCBlLnRhcmdldC5yZXN1bHQpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGlucHV0LmZpbGVzWzBdKTtcblxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gQmFja2dyb3VuZCBwcmV2aWV3XG4gICAgJCgnI2lucHV0X2JhY2tncm91bmQnKS5vbignY2hhbmdlJywgZnVuY3Rpb24oKXtcbiAgICAgIHZhciBpbnB1dCA9IHRoaXMsXG4gICAgICAgICAgYmcgPSAkKCcjYmctZWRpdC11c2VyJyk7XG5cbiAgICAgIGlmIChpbnB1dC5maWxlcyAmJiBpbnB1dC5maWxlc1swXSkge1xuICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcblxuICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24oZSl7XG4gICAgICAgICAgYmcuY3NzKHtcbiAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZTogXCJ1cmwoXCIrIGUudGFyZ2V0LnJlc3VsdCArXCIpXCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChpbnB1dC5maWxlc1swXSk7XG5cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgaW5pdDogaW5pdFxuICB9XG59KCkpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaW5pdDogaW1hZ2VQcmV2aWV3LmluaXRcbn07XG59LHt9XSw2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbmZ1bmN0aW9uIGluaXQoY29udGFpbmVyLCBvcGVuQnRuLCBjbG9zZUJ0bil7XG5cdHZhciBtb2RhbCA9ICQoY29udGFpbmVyKTtcblx0dmFyIG9wZW4gPSAkKG9wZW5CdG4pO1xuXHR2YXIgY2xvc2UgPSBtb2RhbC5maW5kKGNsb3NlQnRuKTtcblx0dmFyIGJvZHkgPSAkKCdib2R5Jyk7XG5cblx0b3Blbi5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKXtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0bW9kYWwucmVtb3ZlQ2xhc3MoXCJoaWRlXCIpLmFkZENsYXNzKFwic2hvd1wiKTtcblx0XHRib2R5LmFkZENsYXNzKFwiaGFzLW92ZXJmbG93LWhpZGRlblwiKTtcblx0fSk7XG5cblx0Y2xvc2Uub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZSl7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdG1vZGFsLmFkZENsYXNzKFwiaGlkZVwiKS5yZW1vdmVDbGFzcyhcInNob3dcIik7XG5cdFx0Ym9keS5yZW1vdmVDbGFzcygnaGFzLW92ZXJmbG93LWhpZGRlbicpO1xuXHR9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuXHRpbml0IDogaW5pdFxufTtcblxuXG59LHt9XSw3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gUHJlbG9hZGVyIHdpdGggcGVyY2VudGFnZSBieSBpbWFnZSBjb3VudFxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG52YXJcdHByZWxvYWRlcl9jb250YWluZXIgPSAkKFwiI3ByZWxvYWRlclwiKSxcblx0cHJlbG9hZGVyX3BlcmNlbnRhZ2UgPSAkKFwiI3ByZWxvYWRlcl9fcGVyY2VudGFnZVwiKSxcblx0aGFzSW1hZ2VQcm9wZXJ0aWVzID0gW1wiYmFja2dyb3VuZFwiLCBcImJhY2tncm91bmRJbWFnZVwiLCBcImxpc3RTdHlsZUltYWdlXCIsIFwiYm9yZGVySW1hZ2VcIiwgXCJib3JkZXJDb3JuZXJJbWFnZVwiLCBcImN1cnNvclwiXSxcblx0aGFzSW1hZ2VBdHRyaWJ1dGVzID0gW1wic3Jjc2V0XCJdLFxuXHRtYXRjaF91cmwgPSAvdXJsXFwoXFxzKihbJ1wiXT8pKC4qPylcXDFcXHMqXFwpL2csXG5cdGFsbF9pbWFnZXMgPSBbXSxcblx0dG90YWwgPSAwLFxuXHRjb3VudCA9IDA7XG5cbi8vIEFuaW1hdGUgaW5jbHVkZWQgU1ZHIGNpcmNsZXMgcHJlbG9hZGVyXG52YXIgY2lyY2xlX28gPSAkKFwiI3ByZWxvYWRlcl9faW1nIC5iYXJfX291dGVyXCIpLFxuXHRjaXJjbGVfYyA9ICQoXCIjcHJlbG9hZGVyX19pbWcgLmJhcl9fY2VudGVyXCIpLFxuXHRjaXJjbGVfaSA9ICQoXCIjcHJlbG9hZGVyX19pbWcgLmJhcl9faW5uZXJcIiksXG5cdGxlbmd0aF9vID0gTWF0aC5QSSooY2lyY2xlX28uYXR0cihcInJcIikgKiAyKSxcblx0bGVuZ3RoX2MgPSBNYXRoLlBJKihjaXJjbGVfYy5hdHRyKFwiclwiKSAqIDIpLFxuXHRsZW5ndGhfaSA9IE1hdGguUEkqKGNpcmNsZV9pLmF0dHIoXCJyXCIpICogMik7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHByZWxvYWRlcigpIHtcblxuXHRmdW5jdGlvbiBpbWdfbG9hZGVkKCl7XG5cdFx0dmFyIHBlcmNlbnRhZ2UgPSBNYXRoLmNlaWwoIChjb3VudCsxKSAvIHRvdGFsICogMTAwICk7XG5cblx0XHRjb3VudCArPSAxO1xuXHRcdHBlcmNlbnRhZ2UgPSBwZXJjZW50YWdlID4gMTAwID8gMTAwIDogcGVyY2VudGFnZTtcblxuXHRcdC8vIERyYXcgb2Zmc2V0c1xuXHRcdC8vIDFzdCBjaXJjbGVcblx0XHRjaXJjbGVfby5jc3Moe3N0cm9rZURhc2hvZmZzZXQ6ICgoMTAwLXBlcmNlbnRhZ2UpLzEwMCkqbGVuZ3RoX28gfSk7XG5cblx0XHQvLyB3aGVuIHRvIHN0YXJ0IDJuZCBjaXJjbGVcblx0XHRpZihwZXJjZW50YWdlID4gNTApIHtcblx0XHRcdGNpcmNsZV9jLmNzcyh7c3Ryb2tlRGFzaG9mZnNldDogKCgxMDAtcGVyY2VudGFnZSkvMTAwKSpsZW5ndGhfYyB9KTtcblx0XHR9XG5cblx0XHQvLyB3aGVuIHRvIHN0YXJ0IDNyZCBjaXJjbGVcblx0XHRpZihwZXJjZW50YWdlID09IDEwMCkge1xuXHRcdFx0Y2lyY2xlX2kuY3NzKHtzdHJva2VEYXNob2Zmc2V0OiAoKDEwMC1wZXJjZW50YWdlKS8xMDApKmxlbmd0aF9pIH0pO1xuXHRcdH1cblxuXHRcdHByZWxvYWRlcl9wZXJjZW50YWdlLmh0bWwocGVyY2VudGFnZSk7XG5cblx0XHRpZihjb3VudCA9PT0gdG90YWwpe1xuXHRcdFx0cmV0dXJuIGRvbmVfbG9hZGluZygpO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIGRvbmVfbG9hZGluZygpe1xuXHRcdHByZWxvYWRlcl9wZXJjZW50YWdlLmNzcyh7XCJhbmltYXRpb25cIjpcIm5vbmVcIn0pO1xuXHRcdHByZWxvYWRlcl9jb250YWluZXIuZGVsYXkoNzAwKS5mYWRlT3V0KDcwMCwgZnVuY3Rpb24oKXtcblx0XHRcdC8vIENhbGxiYWNrcywgZS5nLjpcblx0XHRcdHByZWxvYWRlcl9wZXJjZW50YWdlLnJlbW92ZSgpO1xuXHRcdH0pO1xuXHR9XG5cblx0ZnVuY3Rpb24gaW1hZ2VzX2xvb3AgKHRvdGFsKSB7XG5cdFx0Zm9yKHZhciBpPTA7IGk8dG90YWw7IGkrKyl7XG5cdFx0XHR2YXIgdGVzdF9pbWFnZSA9IG5ldyBJbWFnZSgpO1xuXG5cdFx0XHR0ZXN0X2ltYWdlLm9ubG9hZCA9IGltZ19sb2FkZWQ7XG5cdFx0XHR0ZXN0X2ltYWdlLm9uZXJyb3IgPSBpbWdfbG9hZGVkO1xuXG5cdFx0XHRpZiAoYWxsX2ltYWdlc1tpXS5zcmNzZXQpIHtcblx0XHRcdFx0dGVzdF9pbWFnZS5zcmNzZXQgPSBhbGxfaW1hZ2VzW2ldLnNyY3NldDtcblx0XHRcdH1cblxuXHRcdFx0dGVzdF9pbWFnZS5zcmMgPSBhbGxfaW1hZ2VzW2ldLnNyYztcblx0XHR9XG5cdH1cblxuXHQvLyBHZXQgYWxsIGltYWdlc1xuXHQkKFwiKlwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgZWxlbWVudCA9ICQodGhpcyk7XG5cblx0XHRpZiAoZWxlbWVudC5pcyhcImltZ1wiKSAmJiBlbGVtZW50LmF0dHIoXCJzcmNcIikpIHtcblx0XHRcdGFsbF9pbWFnZXMucHVzaCh7XG5cdFx0XHRcdHNyYzogZWxlbWVudC5hdHRyKFwic3JjXCIpLFxuXHRcdFx0XHRlbGVtZW50OiBlbGVtZW50WzBdXG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHQkLmVhY2goaGFzSW1hZ2VQcm9wZXJ0aWVzLCBmdW5jdGlvbiAoaSwgcHJvcGVydHkpIHtcblx0XHRcdHZhciBwcm9wZXJ0eVZhbHVlID0gZWxlbWVudC5jc3MocHJvcGVydHkpO1xuXHRcdFx0dmFyIG1hdGNoO1xuXG5cdFx0XHRpZiAoIXByb3BlcnR5VmFsdWUpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdG1hdGNoID0gbWF0Y2hfdXJsLmV4ZWMocHJvcGVydHlWYWx1ZSk7XG5cdFx0XHRcblx0XHRcdGlmIChtYXRjaCkge1xuXHRcdFx0XHRhbGxfaW1hZ2VzLnB1c2goe1xuXHRcdFx0XHRcdHNyYzogbWF0Y2hbMl0sXG5cdFx0XHRcdFx0ZWxlbWVudDogZWxlbWVudFswXVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdCQuZWFjaChoYXNJbWFnZUF0dHJpYnV0ZXMsIGZ1bmN0aW9uIChpLCBhdHRyaWJ1dGUpIHtcblx0XHRcdHZhciBhdHRyaWJ1dGVWYWx1ZSA9IGVsZW1lbnQuYXR0cihhdHRyaWJ1dGUpO1xuXG5cdFx0XHRpZiAoIWF0dHJpYnV0ZVZhbHVlKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRhbGxfaW1hZ2VzLnB1c2goe1xuXHRcdFx0XHRzcmM6IGVsZW1lbnQuYXR0cihcInNyY1wiKSxcblx0XHRcdFx0c3Jjc2V0OiBlbGVtZW50LmF0dHIoXCJzcmNzZXRcIiksXG5cdFx0XHRcdGVsZW1lbnQ6IGVsZW1lbnRbMF1cblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9KTtcblxuXHR0b3RhbCA9IGFsbF9pbWFnZXMubGVuZ3RoO1xuXG5cdC8vIFN0YXJ0IHByZWxvYWRlciBvciBleGl0XG5cdGlmICh0b3RhbCA9PT0gMCkge1xuXHRcdHByZWxvYWRlcl9wZXJjZW50YWdlLmh0bWwoMTAwKTtcblx0XHRkb25lX2xvYWRpbmcoKTtcblx0fSBlbHNlIHtcblx0XHRpbWFnZXNfbG9vcCh0b3RhbCk7XG5cdH1cbn07XG59LHt9XSw4OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbmhlbHBlcnMgPSByZXF1aXJlKFwiLi9oZWxwZXJzLmpzXCIpO1xuXG52YXIgc2Nyb2xsYmFyX3dpZHRoID0gaGVscGVycy5nZXRTY3JvbGxiYXJXaWR0aCgpLFxuXHRzbGlkZXIsXG5cdGN1cnJlbnQsXG5cdHJlc2l6ZVRpbWVvdXQsXG5cdHJlc2l6ZURlbHRhID0gMTAwO1xuXG5mdW5jdGlvbiBpbml0KGNvbnRhaW5lciwgb3BlbkJ0biwgY2xvc2VCdG4sIG5leHRCdG4sIHByZXZCdG4pe1xuXHRzbGlkZXIgPSAkKGNvbnRhaW5lcik7XG5cblx0dmFyIG9wZW4gPSAkKG9wZW5CdG4pLFxuXHRcdGNsb3NlID0gc2xpZGVyLmZpbmQoY2xvc2VCdG4pLFxuXHRcdG5leHQgPSBzbGlkZXIuZmluZChuZXh0QnRuKSxcblx0XHRwcmV2ID0gc2xpZGVyLmZpbmQocHJldkJ0biksXG5cdFx0Ym9keSA9ICQoJ2h0bWwnKTtcblxuXHRvcGVuLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpe1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdGN1cnJlbnQgPSAkKHRoaXMpLmNsb3Nlc3QoJy5hbGJ1bS1pdGVtJyk7XG5cdFx0c2hvd1NsaWRlKGN1cnJlbnQpO1xuXG5cdFx0c2xpZGVyLnJlbW92ZUNsYXNzKFwiaGlkZVwiKS5hZGRDbGFzcyhcInNob3dcIik7XG5cdFx0Ym9keS5hZGRDbGFzcygnaGFzLW92ZXJmbG93LWhpZGRlbicpXG5cdFx0XHQuY3NzKHtcInBhZGRpbmctcmlnaHRcIiA6IHNjcm9sbGJhcl93aWR0aH0pO1xuXHR9KTtcblxuXHRjbG9zZS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKXtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0c2xpZGVyLmFkZENsYXNzKFwiaGlkZVwiKS5yZW1vdmVDbGFzcyhcInNob3dcIik7XG5cdFx0Ym9keS5yZW1vdmVDbGFzcygnaGFzLW92ZXJmbG93LWhpZGRlbicpXG5cdFx0XHQuY3NzKHtcInBhZGRpbmctcmlnaHRcIiA6IDB9KTtcblx0fSk7XG5cblx0bmV4dC5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKXtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0c2hvd05leHQoKTtcblx0fSk7XG5cblx0cHJldi5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKXtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0c2hvd1ByZXYoKTtcblx0fSk7XG5cbn07XG5cbmZ1bmN0aW9uIGFqdXN0SW1nSGVpZ2h0KCl7XG5cdC8vIEhlaWdodCBhbmltYXRpb25cblx0dmFyIHNsaWRlclBob3RvID0gc2xpZGVyLmZpbmQoJy5zbGlkZXJfX3Bob3RvJyksXG5cdFx0c2xpZGVIZWlnaHQgPSBzbGlkZXIuZmluZCgnLnNsaWRlcl9faW1nJykuaGVpZ2h0KCk7XG5cblx0c2xpZGVyUGhvdG8uYW5pbWF0ZSh7XG5cdFx0J2hlaWdodCc6IHNsaWRlSGVpZ2h0XG5cdH0sIDMwMCk7XG59XG5cbmZ1bmN0aW9uIHNob3dOZXh0KCl7XG5cdHZhciBuZXh0U2xpZGUgPSBjdXJyZW50Lm5leHQoJy5hbGJ1bS1pdGVtJyk7XG5cdGlmIChuZXh0U2xpZGUubGVuZ3RoKSB7XG5cdFx0c2hvd1NsaWRlKG5leHRTbGlkZSk7XG5cdFx0Y3VycmVudCA9IG5leHRTbGlkZTtcblx0fVxufTtcblxuZnVuY3Rpb24gc2hvd1ByZXYoKXtcblx0dmFyIHByZXZTbGlkZSA9IGN1cnJlbnQucHJldignLmFsYnVtLWl0ZW0nKTtcblx0aWYgKHByZXZTbGlkZS5sZW5ndGgpIHtcblx0XHRzaG93U2xpZGUocHJldlNsaWRlKTtcblx0XHRjdXJyZW50ID0gcHJldlNsaWRlO1xuXHR9XG59O1xuXG5mdW5jdGlvbiBzaG93U2xpZGUoX2l0ZW0pe1xuXHR2YXIgaW1nX3RodW1iID0gX2l0ZW0uZGF0YSgndGh1bWInKTtcblx0XHRpbWdfdGl0bGUgPSBfaXRlbS5kYXRhKCd0aXRsZScpLFxuXHRcdGltZ19saWtlcyA9IF9pdGVtLmRhdGEoJ2xpa2VzJyksXG5cdFx0aW1nX3VzZXJfbmFtZSA9IF9pdGVtLmRhdGEoJ3VzZXJfbmFtZScpLFxuXHRcdGltZ191c2VyX2F2YXRhciA9IF9pdGVtLmRhdGEoJ3VzZXJfYXZhdGFyJyksXG5cdFx0aW1nX2Rlc2MgPSBfaXRlbS5kYXRhKCdkZXNjJyksXG5cdFx0Y29tbWVudHNfaG9sZGVyID0gc2xpZGVyLmZpbmQoJy5jb21tZW50c19faG9sZGVyJyksXG5cdFx0aW1nX2NvbW1lbnRzID0gX2l0ZW0uZmluZCgnLmNvbW1lbnRzX19pdGVtJyk7XG5cblx0Ly8g0J7Rh9C40YnQtdC90LjQtSDQsdC70L7QutCwINC00LvRjyDQutC+0LzQvNC10L3RgtCw0YDQuNC10LJcblx0Y29tbWVudHNfaG9sZGVyLmh0bWwoJycpO1xuXG5cdC8vINCU0L7QsdCw0LLQu9C10L3QuNC1INC60L7QvNC80LXQvdGC0LDRgNC40LXQslxuXHRpbWdfY29tbWVudHMuZWFjaChmdW5jdGlvbihrZXksIHZhbHVlKXtcblx0XHRjb21tZW50c19ob2xkZXIuYXBwZW5kKHZhbHVlKTtcblx0fSk7XG5cblxuXHR2YXIgaW1nX2Rlc2MgPSBfaXRlbS5kYXRhKCdkZXNjJyk7XG5cblx0c2xpZGVyLmZpbmQoJy5zbGlkZXJfX2ltZycpLmF0dHIoJ3NyYycsIGltZ190aHVtYik7XG5cdHNsaWRlci5maW5kKCcuc2xpZGVyX190aXRsZScpLmh0bWwoaW1nX3RpdGxlKTtcblx0c2xpZGVyLmZpbmQoJy5saWtlc19fY291bnQnKS5odG1sKGltZ19saWtlcyk7XG5cdHNsaWRlci5maW5kKCcuc2xpZGVyX190ZXh0JykuaHRtbChpbWdfZGVzYyk7XG5cdHNsaWRlci5maW5kKCcuc2xpZGVyX19hdXRob3ItbmFtZScpLmh0bWwoaW1nX3VzZXJfbmFtZSk7XG5cdHNsaWRlci5maW5kKCcuc2xpZGVyX19hdXRob3ItcGhvdG8gaW1nJykuYXR0cignc3JjJywgaW1nX3VzZXJfYXZhdGFyKTtcblxuXHRhanVzdEltZ0hlaWdodCgpO1xufVxuXG4kKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCl7XG5cdGNsZWFyVGltZW91dChyZXNpemVUaW1lb3V0KTtcblx0cmVzaXplVGltZW91dCA9IHNldFRpbWVvdXQoYWp1c3RJbWdIZWlnaHQsIHJlc2l6ZURlbHRhKTtcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcblx0aW5pdCA6IGluaXQsXG5cdHNob3dOZXh0OiBzaG93TmV4dCxcblx0c2hvd1ByZXY6IHNob3dQcmV2XG59O1xuXG5cbn0se1wiLi9oZWxwZXJzLmpzXCI6NH1dfSx7fSxbMV0pO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
