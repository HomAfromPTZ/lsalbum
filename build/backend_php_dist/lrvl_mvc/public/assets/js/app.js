!function e(t,r,n){function a(o,s){if(!r[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(i)return i(o,!0);var d=new Error("Cannot find module '"+o+"'");throw d.code="MODULE_NOT_FOUND",d}var c=r[o]={exports:{}};t[o][0].call(c.exports,function(e){var r=t[o][1][e];return a(r?r:e)},c,c.exports,e,t,r,n)}return r[o].exports}for(var i="function"==typeof require&&require,o=0;o<n.length;o++)a(n[o]);return a}({1:[function(e,t,r){!function(t){"use strict";function r(e){e.preventDefault(),t(".photo-editing").slideUp(300),t(".photo-removing").slideDown(300)}function n(e){e.preventDefault(),t(".photo-removing").slideUp(300),t(".photo-editing").slideDown(300)}function a(e){e.preventDefault();var r=t(this).closest(".social__item");r.siblings().find(".social__form").hide(),r.find(".social__form").show()}function i(e){e.preventDefault(),t(this).closest(".social__form").hide()}var o=e("./modules/preloader.js"),s=e("./modules/modal.js"),l=e("./modules/slider.js"),d=e("./modules/animations.js"),c=e("./modules/ajax.js"),u=e("./modules/image_preview.js");if(t("#scene.axis").length&&t("#scene.axis").parallax({scalarX:3,scalarY:3,frictionX:.5,frictionY:.5}),d.fadePageOn("a.preload-link","#preloader",300),t.fn.animated=d.animateCss,t(".animated-test-container").animated("slideInRight"),t(".js-add-album").length&&s.init("#add-album-modal",".js-add-album",".js-close-modal"),t(".js-add-photos").length&&s.init("#add-photos-modal",".js-add-photos",".js-close-modal"),t(".js-edit-photo").length&&s.init("#edit-photo-modal",".js-edit-photo",".js-close-modal"),t(".js-edit-user").length&&s.init("#edit-user-modal",".js-edit-user",".js-close-modal"),t(".js-edit-user-header").length&&s.init("#edit-user-header",".js-edit-user-header",".js-close-header"),t(".js-edit-album-header").length&&s.init("#edit-album-header",".js-edit-album-header",".js-close-header"),t(".js-show-photo-removing").length&&t(".js-show-photo-removing").on("click",r),t(".js-hide-photo-removing").length&&t(".js-hide-photo-removing").on("click",n),t(".js-open-slider").length>0&&l.init("#slider",".js-open-slider",".js-close-slider",".js-slider-next",".js-slider-prev"),t(".js-open-social-form").length&&t(".js-open-social-form").on("click",a),t(".js-close-form").length&&t(".js-close-form").on("click",i),t("#flip-card").click(function(){t("body").addClass("card_flipped")}),t("#unflip-card").click(function(e){e.preventDefault(),t("body").removeClass("card_flipped")}),t("#show-recovery").click(function(e){e.preventDefault(),t("body").addClass("show_recovery")}),t("#hide-recovery").click(function(e){e.preventDefault(),t("body").removeClass("show_recovery")}),t("div#dropzone").length){var f=2;t("div#dropzone").dropzone({url:"/",maxFilesize:f})}o(),c.init(),u.init()}(jQuery)},{"./modules/ajax.js":2,"./modules/animations.js":3,"./modules/image_preview.js":5,"./modules/modal.js":6,"./modules/preloader.js":7,"./modules/slider.js":8}],2:[function(e,t,r){var n=function(){function e(){$("#edit-user-header").on("submit",function(e){e.preventDefault();var t=new FormData($(e.target)[0]);$.ajax({method:"POST",url:"/user/savedata",data:t,processData:!1,contentType:!1}).done(function(r){"success"==r.status&&(void 0!==r.background&&$(".main-page").css({backgroundImage:"url("+r.background+")"}),void 0!==r.avatar&&$("#user-avatar").attr("src",r.avatar),$(".user-info__name").text(t.get("name")),$(".user-info__desc").text(t.get("description")),$("#social__link_vk").attr("href",t.get("vk")),$("#social__link_fb").attr("href",t.get("facebook")),$("#social__link_tw").attr("href",t.get("twitter")),$("#social__link_gg").attr("href",t.get("google")),$("#social__link_email").attr("href","mailto:"+t.get("email"))),$(e.target).removeClass("show").addClass("hide"),$("body").removeClass("has-overflow-hidden")})}),$("#form-add-album").on("submit",function(e){e.preventDefault();var t=new FormData($(e.target)[0]);console.log("add-album"),$.ajax({method:"POST",url:"/album/save",data:t,processData:!1,contentType:!1}).done(function(e){console.log(e)})})}return{init:e}}();t.exports={init:n.init}},{}],3:[function(e,t,r){function n(e,t,r){$(document).on("click",e,function(e){var n=$(this).attr("href");if("#"!=n[0])return e.preventDefault(),$(t).fadeIn(r,function(){return document.location=null!=n?n:"/"})})}var a=function(e){$(this).each(function(){var t=$(this);t.css({opacity:0}).addClass("animated").waypoint(function(r){"down"===r&&t.addClass(e).css({opacity:1})},{offset:"90%"})})};t.exports={animateCss:a,fadePageOn:n}},{}],4:[function(e,t,r){var n=function(){var e={"max-height":"100px",overflow:"scroll",position:"absolute"},t=$("<div id='scroll_bar_check_A'></div>").css(e),r=$("<div id='scroll_bar_check_B'></div>"),n=$("<img src='/assets/img/force-scroll.png'/>"),a=0;return t.append(n).append(r),$("body").append(t),a=t.width()-r.width(),t.remove(),a},a=function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);var r=e.indexOf("Trident/");if(r>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var a=e.indexOf("Edge/");return a>0&&parseInt(e.substring(a+5,e.indexOf(".",a)),10)};t.exports={getScrollbarWidth:n,ieVersion:a}},{}],5:[function(e,t,r){var n=function(){function e(){$("#input_avatar").on("change",function(){var e=this,t=$("#preview_avatar");if(e.files&&e.files[0]){var r=new FileReader;r.onload=function(e){t.attr("src",e.target.result)},r.readAsDataURL(e.files[0])}}),$("#input_background").on("change",function(){var e=this,t=$("#bg-edit-user");if(e.files&&e.files[0]){var r=new FileReader;r.onload=function(e){t.css({backgroundImage:"url("+e.target.result+")"})},r.readAsDataURL(e.files[0])}})}return{init:e}}();t.exports={init:n.init}},{}],6:[function(e,t,r){function n(e,t,r){var n=$(e),a=$(t),i=n.find(r),o=$("body");a.on("click",function(e){e.preventDefault(),n.removeClass("hide").addClass("show"),o.addClass("has-overflow-hidden")}),i.on("click",function(e){e.preventDefault(),n.addClass("hide").removeClass("show"),o.removeClass("has-overflow-hidden")})}t.exports={init:n}},{}],7:[function(e,t,r){var n=$("#preloader"),a=$("#preloader__percentage"),i=["background","backgroundImage","listStyleImage","borderImage","borderCornerImage","cursor"],o=["srcset"],s=/url\(\s*(['"]?)(.*?)\1\s*\)/g,l=[],d=0,c=0,u=$("#preloader__img .bar__outer"),f=$("#preloader__img .bar__center"),m=$("#preloader__img .bar__inner"),h=Math.PI*(2*u.attr("r")),v=Math.PI*(2*f.attr("r")),p=Math.PI*(2*m.attr("r"));t.exports=function(){function e(){var e=Math.ceil((c+1)/d*100);if(c+=1,e=e>100?100:e,u.css({strokeDashoffset:(100-e)/100*h}),e>50&&f.css({strokeDashoffset:(100-e)/100*v}),100==e&&m.css({strokeDashoffset:(100-e)/100*p}),a.html(e),c===d)return t()}function t(){a.css({animation:"none"}),n.delay(700).fadeOut(700,function(){a.remove()})}function r(t){for(var r=0;r<t;r++){var n=new Image;n.onload=e,n.onerror=e,l[r].srcset&&(n.srcset=l[r].srcset),n.src=l[r].src}}$("*").each(function(){var e=$(this);e.is("img")&&e.attr("src")&&l.push({src:e.attr("src"),element:e[0]}),$.each(i,function(t,r){var n,a=e.css(r);return!a||(n=s.exec(a),void(n&&l.push({src:n[2],element:e[0]})))}),$.each(o,function(t,r){var n=e.attr(r);return!n||void l.push({src:e.attr("src"),srcset:e.attr("srcset"),element:e[0]})})}),d=l.length,0===d?(a.html(100),t()):r(d)}},{}],8:[function(e,t,r){function n(e,t,r,n,c){s=$(e);var u=$(t),f=s.find(r),m=s.find(n),h=s.find(c),v=$("html");u.on("click",function(e){e.preventDefault(),l=$(this).closest(".album-item"),o(l),s.removeClass("hide").addClass("show"),v.addClass("has-overflow-hidden").css({"padding-right":d})}),f.on("click",function(e){e.preventDefault(),s.addClass("hide").removeClass("show"),v.removeClass("has-overflow-hidden").css({"padding-right":0})}),m.on("click",function(e){e.preventDefault(),a()}),h.on("click",function(e){e.preventDefault(),i()})}function a(){var e=l.next(".album-item");e.length&&(o(e),l=e)}function i(){var e=l.prev(".album-item");e.length&&(o(e),l=e)}function o(e){var t=e.data("thumb");img_title=e.data("title"),img_likes=e.data("likes"),img_user_name=e.data("user_name"),img_user_avatar=e.data("user_avatar"),r=e.data("desc"),comments_holder=s.find(".comments__holder"),img_comments=e.find(".comments__item"),comments_holder.html(""),img_comments.each(function(e,t){comments_holder.append(t)});var r=e.data("desc");s.find(".slider__img").attr("src",t),s.find(".slider__title").html(img_title),s.find(".likes__count").html(img_likes),s.find(".slider__text").html(r),s.find(".slider__author-name").html(img_user_name),s.find(".slider__author-photo img").attr("src",img_user_avatar);var n=s.find(".slider__photo"),a=s.find(".slider__img").height();n.animate({height:a},300)}helpers=e("./helpers.js");var s,l,d=helpers.getScrollbarWidth();t.exports={init:n,showNext:a,showPrev:i}},{"./helpers.js":4}]},{},[1]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJlIiwidCIsIm4iLCJyIiwicyIsIm8iLCJ1IiwiYSIsInJlcXVpcmUiLCJpIiwiZiIsIkVycm9yIiwiY29kZSIsImwiLCJleHBvcnRzIiwiY2FsbCIsImxlbmd0aCIsIjEiLCJtb2R1bGUiLCIkIiwic2hvd1Bob3RvUmVtb3ZpbmdCbG9jayIsInByZXZlbnREZWZhdWx0Iiwic2xpZGVVcCIsInNsaWRlRG93biIsImhpZGVQaG90b1JlbW92aW5nQmxvY2siLCJzaG93U29jaWFsRm9ybSIsInNvY2lhbEl0ZW0iLCJ0aGlzIiwiY2xvc2VzdCIsInNpYmxpbmdzIiwiZmluZCIsImhpZGUiLCJzaG93IiwiaGlkZVNvY2lhbEZvcm0iLCJwcmVsb2FkZXIiLCJtb2RhbCIsInNsaWRlciIsImFuaW1hdGlvbnMiLCJzZXRBamF4UmVzcG9uY2UiLCJpbWFnZVByZXZpZXciLCJwYXJhbGxheCIsInNjYWxhclgiLCJzY2FsYXJZIiwiZnJpY3Rpb25YIiwiZnJpY3Rpb25ZIiwiZmFkZVBhZ2VPbiIsImZuIiwiYW5pbWF0ZWQiLCJhbmltYXRlQ3NzIiwiaW5pdCIsIm9uIiwiY2xpY2siLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwibWF4RmlsZVNpemVNYiIsImRyb3B6b25lIiwidXJsIiwibWF4RmlsZXNpemUiLCJqUXVlcnkiLCIuL21vZHVsZXMvYWpheC5qcyIsIi4vbW9kdWxlcy9hbmltYXRpb25zLmpzIiwiLi9tb2R1bGVzL2ltYWdlX3ByZXZpZXcuanMiLCIuL21vZHVsZXMvbW9kYWwuanMiLCIuL21vZHVsZXMvcHJlbG9hZGVyLmpzIiwiLi9tb2R1bGVzL3NsaWRlci5qcyIsIjIiLCJzZXRBamF4UmVzcG9uY2VzIiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsInRhcmdldCIsImFqYXgiLCJtZXRob2QiLCJkYXRhIiwicHJvY2Vzc0RhdGEiLCJjb250ZW50VHlwZSIsImRvbmUiLCJtc2ciLCJzdGF0dXMiLCJ1bmRlZmluZWQiLCJiYWNrZ3JvdW5kIiwiY3NzIiwiYmFja2dyb3VuZEltYWdlIiwiYXZhdGFyIiwiYXR0ciIsInRleHQiLCJnZXQiLCJjb25zb2xlIiwibG9nIiwiMyIsImxpbmtfc2VsZWN0b3IiLCJvdmVybGF5X3NlbGVjdG9yIiwidGltZSIsImRvY3VtZW50IiwiaHJlZiIsImZhZGVJbiIsImxvY2F0aW9uIiwiaW5fZWZmZWN0IiwiZWFjaCIsImVsZW0iLCJvcGFjaXR5Iiwid2F5cG9pbnQiLCJkaXIiLCJvZmZzZXQiLCI0IiwiZ2V0U2Nyb2xsYmFyV2lkdGgiLCJzdHlsZSIsIm1heC1oZWlnaHQiLCJvdmVyZmxvdyIsInBvc2l0aW9uIiwid3JhcHBlciIsImlubmVyIiwic3RyZXRjaGVyIiwic2Nyb2xsQmFyV2lkdGgiLCJhcHBlbmQiLCJ3aWR0aCIsInJlbW92ZSIsImllVmVyc2lvbiIsInVhIiwid2luZG93IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwibXNpZSIsImluZGV4T2YiLCJwYXJzZUludCIsInN1YnN0cmluZyIsInRyaWRlbnQiLCJydiIsImVkZ2UiLCI1IiwiaW5wdXQiLCJmaWxlcyIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCJyZXN1bHQiLCJyZWFkQXNEYXRhVVJMIiwiYmciLCI2IiwiY29udGFpbmVyIiwib3BlbkJ0biIsImNsb3NlQnRuIiwib3BlbiIsImNsb3NlIiwiYm9keSIsIjciLCJwcmVsb2FkZXJfY29udGFpbmVyIiwicHJlbG9hZGVyX3BlcmNlbnRhZ2UiLCJoYXNJbWFnZVByb3BlcnRpZXMiLCJoYXNJbWFnZUF0dHJpYnV0ZXMiLCJtYXRjaF91cmwiLCJhbGxfaW1hZ2VzIiwidG90YWwiLCJjb3VudCIsImNpcmNsZV9vIiwiY2lyY2xlX2MiLCJjaXJjbGVfaSIsImxlbmd0aF9vIiwiTWF0aCIsIlBJIiwibGVuZ3RoX2MiLCJsZW5ndGhfaSIsImltZ19sb2FkZWQiLCJwZXJjZW50YWdlIiwiY2VpbCIsInN0cm9rZURhc2hvZmZzZXQiLCJodG1sIiwiZG9uZV9sb2FkaW5nIiwiYW5pbWF0aW9uIiwiZGVsYXkiLCJmYWRlT3V0IiwiaW1hZ2VzX2xvb3AiLCJ0ZXN0X2ltYWdlIiwiSW1hZ2UiLCJvbmVycm9yIiwic3Jjc2V0Iiwic3JjIiwiZWxlbWVudCIsImlzIiwicHVzaCIsInByb3BlcnR5IiwibWF0Y2giLCJwcm9wZXJ0eVZhbHVlIiwiZXhlYyIsImF0dHJpYnV0ZSIsImF0dHJpYnV0ZVZhbHVlIiwiOCIsIm5leHRCdG4iLCJwcmV2QnRuIiwibmV4dCIsInByZXYiLCJjdXJyZW50Iiwic2hvd1NsaWRlIiwicGFkZGluZy1yaWdodCIsInNjcm9sbGJhcl93aWR0aCIsInNob3dOZXh0Iiwic2hvd1ByZXYiLCJuZXh0U2xpZGUiLCJwcmV2U2xpZGUiLCJfaXRlbSIsImltZ190aHVtYiIsImltZ190aXRsZSIsImltZ19saWtlcyIsImltZ191c2VyX25hbWUiLCJpbWdfdXNlcl9hdmF0YXIiLCJpbWdfZGVzYyIsImNvbW1lbnRzX2hvbGRlciIsImltZ19jb21tZW50cyIsImtleSIsInZhbHVlIiwic2xpZGVyUGhvdG8iLCJzbGlkZUhlaWdodCIsImhlaWdodCIsImFuaW1hdGUiLCJoZWxwZXJzIiwiLi9oZWxwZXJzLmpzIl0sIm1hcHBpbmdzIjoiQ0FBQSxRQUFVQSxHQUFFQyxFQUFFQyxFQUFFQyxHQUFHLFFBQVNDLEdBQUVDLEVBQUVDLEdBQUcsSUFBSUosRUFBRUcsR0FBRyxDQUFDLElBQUlKLEVBQUVJLEdBQUcsQ0FBQyxHQUFJRSxHQUFrQixrQkFBVEMsVUFBcUJBLE9BQVEsS0FBSUYsR0FBR0MsRUFBRSxNQUFPQSxHQUFFRixHQUFFLEVBQUksSUFBR0ksRUFBRSxNQUFPQSxHQUFFSixHQUFFLEVBQUksSUFBSUssR0FBRSxHQUFJQyxPQUFNLHVCQUF1Qk4sRUFBRSxJQUFLLE1BQU1LLEdBQUVFLEtBQUssbUJBQW1CRixFQUFFLEdBQUlHLEdBQUVYLEVBQUVHLElBQUlTLFdBQVliLEdBQUVJLEdBQUcsR0FBR1UsS0FBS0YsRUFBRUMsUUFBUSxTQUFTZCxHQUFHLEdBQUlFLEdB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QUFLdUMsR0FDbEN4SyxFQUFPTixLQUFLLHdCQUF3QnVJLEtBQUtxQyxlQUN6Q3RLLEVBQU9OLEtBQUssNkJBQTZCcUQsS0FBSyxNQUFPd0gsZ0JBSXJELElBQUlNLEdBQWM3SyxFQUFPTixLQUFLLGtCQUM3Qm9MLEVBQWM5SyxFQUFPTixLQUFLLGdCQUFnQnFMLFFBRTNDRixHQUFZRyxTQUNYRCxPQUFVRCxHQUNSLEtBaEdKRyxRQUFVN00sRUFBUSxlQUVsQixJQUNDNEIsR0FDQTBKLEVBRkdHLEVBQWtCb0IsUUFBUTdHLG1CQWlHOUJ0RixHQUFPSixTQUNObUMsS0FBT0EsRUFDUGlKLFNBQVVBLEVBQ1ZDLFNBQVVBLEtBSVJtQixlQUFlLFNBQVMiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkoezE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uKCQpIHtcclxuXHRcInVzZSBzdHJpY3RcIjtcclxuXHJcblx0dmFyIHByZWxvYWRlciA9IHJlcXVpcmUoXCIuL21vZHVsZXMvcHJlbG9hZGVyLmpzXCIpLFxyXG5cdFx0Ly8gaGVscGVycyA9IHJlcXVpcmUoXCIuL21vZHVsZXMvaGVscGVycy5qc1wiKSxcclxuXHRcdG1vZGFsID0gcmVxdWlyZShcIi4vbW9kdWxlcy9tb2RhbC5qc1wiKSxcclxuXHRcdHNsaWRlciA9IHJlcXVpcmUoXCIuL21vZHVsZXMvc2xpZGVyLmpzXCIpLFxyXG5cdFx0YW5pbWF0aW9ucyA9IHJlcXVpcmUoXCIuL21vZHVsZXMvYW5pbWF0aW9ucy5qc1wiKSxcclxuXHRcdHNldEFqYXhSZXNwb25jZSA9IHJlcXVpcmUoXCIuL21vZHVsZXMvYWpheC5qc1wiKSxcclxuXHRcdGltYWdlUHJldmlldyA9IHJlcXVpcmUoXCIuL21vZHVsZXMvaW1hZ2VfcHJldmlldy5qc1wiKTtcclxuXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0Ly8gQWRhcHRpdmUgYnJlYWtwb2ludHNcclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHQvLyB2YXIgc2Nyb2xsYmFyX3dpZHRoID0gaGVscGVycy5nZXRTY3JvbGxiYXJXaWR0aCgpLFxyXG5cdC8vIFx0c2NyZWVuX3NpemVzID0ge1xyXG5cdC8vIFx0XHRtb2JpbGUgOiA0ODAgLSBzY3JvbGxiYXJfd2lkdGgsXHJcblx0Ly8gXHRcdHRhYmxldCA6IDc2OCAtIHNjcm9sbGJhcl93aWR0aCxcclxuXHQvLyBcdFx0bGltaXQgOiAyMDAwIC0gc2Nyb2xsYmFyX3dpZHRoXHJcblx0Ly8gXHR9O1xyXG5cclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHQvLyBQYXJhbGxheFxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuXHQvLyBNYWluIHBhZ2UgbW91c2UgcGFyYWxsYXhcclxuXHRpZigkKFwiI3NjZW5lLmF4aXNcIikubGVuZ3RoKXtcclxuXHRcdCQoXCIjc2NlbmUuYXhpc1wiKS5wYXJhbGxheCh7XHJcblx0XHRcdHNjYWxhclg6IDMsXHJcblx0XHRcdHNjYWxhclk6IDMsXHJcblx0XHRcdGZyaWN0aW9uWDogMC41LFxyXG5cdFx0XHRmcmljdGlvblk6IDAuNVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHQvLyBBbmltYXRpb25zIGV4YW1wbGVcclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHRhbmltYXRpb25zLmZhZGVQYWdlT24oXCJhLnByZWxvYWQtbGlua1wiLCBcIiNwcmVsb2FkZXJcIiwgMzAwKTtcclxuXHJcblx0JC5mbi5hbmltYXRlZCA9IGFuaW1hdGlvbnMuYW5pbWF0ZUNzcztcclxuXHQvLyBFeGFtcGxlXHJcblx0JChcIi5hbmltYXRlZC10ZXN0LWNvbnRhaW5lclwiKS5hbmltYXRlZChcInNsaWRlSW5SaWdodFwiKTtcclxuXHJcblxyXG5cclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHQvLyBJbml0IEFkZCBBbGJ1bSBNb2RhbFxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdGlmICgkKFwiLmpzLWFkZC1hbGJ1bVwiKS5sZW5ndGgpIHtcclxuXHRcdG1vZGFsLmluaXQoXCIjYWRkLWFsYnVtLW1vZGFsXCIsIFwiLmpzLWFkZC1hbGJ1bVwiLCBcIi5qcy1jbG9zZS1tb2RhbFwiKTtcclxuXHR9XHJcblxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdC8vIEluaXQgQWRkIFBob3RvcyBNb2RhbFxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdGlmICgkKFwiLmpzLWFkZC1waG90b3NcIikubGVuZ3RoKSB7XHJcblx0XHRtb2RhbC5pbml0KFwiI2FkZC1waG90b3MtbW9kYWxcIiwgXCIuanMtYWRkLXBob3Rvc1wiLCBcIi5qcy1jbG9zZS1tb2RhbFwiKTtcclxuXHR9XHJcblxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdC8vIEluaXQgRWRpdCBQaG90byBNb2RhbFxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdGlmICgkKFwiLmpzLWVkaXQtcGhvdG9cIikubGVuZ3RoKSB7XHJcblx0XHRtb2RhbC5pbml0KFwiI2VkaXQtcGhvdG8tbW9kYWxcIiwgXCIuanMtZWRpdC1waG90b1wiLCBcIi5qcy1jbG9zZS1tb2RhbFwiKTtcclxuXHR9XHJcblxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdC8vIEluaXQgRWRpdCBVc2VyIE1vZGFsXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0aWYgKCQoXCIuanMtZWRpdC11c2VyXCIpLmxlbmd0aCkge1xyXG5cdFx0bW9kYWwuaW5pdChcIiNlZGl0LXVzZXItbW9kYWxcIiwgXCIuanMtZWRpdC11c2VyXCIsIFwiLmpzLWNsb3NlLW1vZGFsXCIpO1xyXG5cdH1cclxuXHJcblxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdC8vIEluaXQgRWRpdCBVc2VyIE1vZGFsIChpbiBIZWFkZXIpXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0aWYgKCQoXCIuanMtZWRpdC11c2VyLWhlYWRlclwiKS5sZW5ndGgpIHtcclxuXHRcdG1vZGFsLmluaXQoXCIjZWRpdC11c2VyLWhlYWRlclwiLCBcIi5qcy1lZGl0LXVzZXItaGVhZGVyXCIsIFwiLmpzLWNsb3NlLWhlYWRlclwiKTtcclxuXHR9XHJcblxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdC8vIEluaXQgRWRpdCBBbGJ1bSBNb2RhbCAoaW4gSGVhZGVyKVxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdGlmICgkKFwiLmpzLWVkaXQtYWxidW0taGVhZGVyXCIpLmxlbmd0aCkge1xyXG5cdFx0bW9kYWwuaW5pdChcIiNlZGl0LWFsYnVtLWhlYWRlclwiLCBcIi5qcy1lZGl0LWFsYnVtLWhlYWRlclwiLCBcIi5qcy1jbG9zZS1oZWFkZXJcIik7XHJcblx0fVxyXG5cclxuXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0Ly8gRWRpdCBVc2VyIE1vZGFsIC0gRGVsZXRlIFBob3RvXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0ZnVuY3Rpb24gc2hvd1Bob3RvUmVtb3ZpbmdCbG9jayhlKSB7XHJcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHQkKFwiLnBob3RvLWVkaXRpbmdcIikuc2xpZGVVcCgzMDApO1xyXG5cdFx0JChcIi5waG90by1yZW1vdmluZ1wiKS5zbGlkZURvd24oMzAwKTtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIGhpZGVQaG90b1JlbW92aW5nQmxvY2soZSkge1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0JChcIi5waG90by1yZW1vdmluZ1wiKS5zbGlkZVVwKDMwMCk7XHJcblx0XHQkKFwiLnBob3RvLWVkaXRpbmdcIikuc2xpZGVEb3duKDMwMCk7XHJcblx0fVxyXG5cclxuXHRpZiAoJChcIi5qcy1zaG93LXBob3RvLXJlbW92aW5nXCIpLmxlbmd0aCkge1xyXG5cdFx0JChcIi5qcy1zaG93LXBob3RvLXJlbW92aW5nXCIpLm9uKFwiY2xpY2tcIiwgc2hvd1Bob3RvUmVtb3ZpbmdCbG9jayk7XHJcblx0fVxyXG5cclxuXHRpZiAoJChcIi5qcy1oaWRlLXBob3RvLXJlbW92aW5nXCIpLmxlbmd0aCkge1xyXG5cdFx0JChcIi5qcy1oaWRlLXBob3RvLXJlbW92aW5nXCIpLm9uKFwiY2xpY2tcIiwgaGlkZVBob3RvUmVtb3ZpbmdCbG9jayk7XHJcblx0fVxyXG5cclxuXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0Ly8gSW5pdCBFZGl0IEFsYnVtIE1vZGFsIChpbiBIZWFkZXIpXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0aWYgKCQoXCIuanMtb3Blbi1zbGlkZXJcIikubGVuZ3RoID4gMCkge1xyXG5cdFx0c2xpZGVyLmluaXQoXCIjc2xpZGVyXCIsIFwiLmpzLW9wZW4tc2xpZGVyXCIsIFwiLmpzLWNsb3NlLXNsaWRlclwiLCBcIi5qcy1zbGlkZXItbmV4dFwiLCBcIi5qcy1zbGlkZXItcHJldlwiKTtcclxuXHR9XHJcblxyXG5cclxuXHJcblxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdC8vIFNob3cgU29jaWFsIEl0ZW1zIEZvcm1zXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0ZnVuY3Rpb24gc2hvd1NvY2lhbEZvcm0oZSkge1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0dmFyIHNvY2lhbEl0ZW0gPSAgJCh0aGlzKS5jbG9zZXN0KFwiLnNvY2lhbF9faXRlbVwiKTtcclxuXHRcdHNvY2lhbEl0ZW0uc2libGluZ3MoKS5maW5kKFwiLnNvY2lhbF9fZm9ybVwiKS5oaWRlKCk7XHJcblx0XHRzb2NpYWxJdGVtLmZpbmQoXCIuc29jaWFsX19mb3JtXCIpLnNob3coKTtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIGhpZGVTb2NpYWxGb3JtKGUpIHtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdCQodGhpcykuY2xvc2VzdChcIi5zb2NpYWxfX2Zvcm1cIikuaGlkZSgpO1xyXG5cdH1cclxuXHJcblx0aWYgKCQoXCIuanMtb3Blbi1zb2NpYWwtZm9ybVwiKS5sZW5ndGgpIHtcclxuXHRcdCQoXCIuanMtb3Blbi1zb2NpYWwtZm9ybVwiKS5vbihcImNsaWNrXCIsIHNob3dTb2NpYWxGb3JtKTtcclxuXHR9XHJcblx0aWYgKCQoXCIuanMtY2xvc2UtZm9ybVwiKS5sZW5ndGgpIHtcclxuXHRcdCQoXCIuanMtY2xvc2UtZm9ybVwiKS5vbihcImNsaWNrXCIsIGhpZGVTb2NpYWxGb3JtKTtcclxuXHR9XHJcblxyXG5cclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHQvLyBMb2dpbiBjYXJkIGZsaXBcclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHQkKFwiI2ZsaXAtY2FyZFwiKS5jbGljayhmdW5jdGlvbigpIHtcclxuXHRcdCQoXCJib2R5XCIpLmFkZENsYXNzKFwiY2FyZF9mbGlwcGVkXCIpO1xyXG5cdH0pO1xyXG5cclxuXHQkKFwiI3VuZmxpcC1jYXJkXCIpLmNsaWNrKGZ1bmN0aW9uKGUpIHtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdCQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwiY2FyZF9mbGlwcGVkXCIpO1xyXG5cdH0pO1xyXG5cclxuXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0Ly8gTG9naW4gc2hvdyBSZWNvdmVyeSBwYXNzd29yZCBDYXJkXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0JChcIiNzaG93LXJlY292ZXJ5XCIpLmNsaWNrKGZ1bmN0aW9uKGUpIHtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdCQoXCJib2R5XCIpLmFkZENsYXNzKFwic2hvd19yZWNvdmVyeVwiKTtcclxuXHR9KTtcclxuXHJcblx0JChcIiNoaWRlLXJlY292ZXJ5XCIpLmNsaWNrKGZ1bmN0aW9uKGUpIHtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdCQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwic2hvd19yZWNvdmVyeVwiKTtcclxuXHR9KTtcclxuXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0Ly8gRHJvcHpvbmUgKEFkZCBwaG90b3MpXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5cdGlmICgkKFwiZGl2I2Ryb3B6b25lXCIpLmxlbmd0aCkge1xyXG5cclxuXHRcdHZhciBtYXhGaWxlU2l6ZU1iID0gMjtcclxuXHJcblx0XHQkKFwiZGl2I2Ryb3B6b25lXCIpLmRyb3B6b25lKHtcclxuXHRcdFx0dXJsOiBcIi9cIiAsXHJcblx0XHRcdG1heEZpbGVzaXplOiBtYXhGaWxlU2l6ZU1iXHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cclxuXHRwcmVsb2FkZXIoKTtcclxuXHJcblx0c2V0QWpheFJlc3BvbmNlLmluaXQoKTtcclxuXHRpbWFnZVByZXZpZXcuaW5pdCgpO1xyXG5cclxufSkoalF1ZXJ5KTtcbn0se1wiLi9tb2R1bGVzL2FqYXguanNcIjoyLFwiLi9tb2R1bGVzL2FuaW1hdGlvbnMuanNcIjozLFwiLi9tb2R1bGVzL2ltYWdlX3ByZXZpZXcuanNcIjo1LFwiLi9tb2R1bGVzL21vZGFsLmpzXCI6NixcIi4vbW9kdWxlcy9wcmVsb2FkZXIuanNcIjo3LFwiLi9tb2R1bGVzL3NsaWRlci5qc1wiOjh9XSwyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8qKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuKiAtLS0tLSDQo9GB0YLQsNC90L7QstC60LAgYWpheC3Qt9Cw0L/RgNC+0YHQvtCyIC0tLS0tLS0tXHJcbiogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cclxuXHJcbnZhciBzZXRBamF4UmVzcG9uY2VzID0gKGZ1bmN0aW9uKCkge1xyXG5cclxuICBmdW5jdGlvbiBpbml0KCkge1xyXG5cclxuICAgIC8vINCg0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40LUg0LTQsNC90L3Ri9GFINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xyXG4gICAgJCgnI2VkaXQtdXNlci1oZWFkZXInKS5vbignc3VibWl0JywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoJChlLnRhcmdldClbMF0pO1xyXG5cclxuICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgdXJsOiBcIi91c2VyL3NhdmVkYXRhXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IGZvcm1EYXRhLFxyXG4gICAgICAgICAgICBwcm9jZXNzRGF0YTogZmFsc2UsXHJcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBmYWxzZVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5kb25lKGZ1bmN0aW9uIChtc2cpIHtcclxuLy8gY29uc29sZS5sb2cobXNnKTtcclxuXHJcbiAgICAgICAgICAgIGlmKG1zZy5zdGF0dXMgPT0gJ3N1Y2Nlc3MnKSB7XHJcbiAgICAgICAgICAgICAgaWYobXNnLmJhY2tncm91bmQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgJCgnLm1haW4tcGFnZScpLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZTogXCJ1cmwoXCIrbXNnLmJhY2tncm91bmQrXCIpXCJcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBpZihtc2cuYXZhdGFyICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICQoJyN1c2VyLWF2YXRhcicpLmF0dHIoJ3NyYycsIG1zZy5hdmF0YXIpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAkKCcudXNlci1pbmZvX19uYW1lJykudGV4dChmb3JtRGF0YS5nZXQoJ25hbWUnKSk7XHJcbiAgICAgICAgICAgICAgJCgnLnVzZXItaW5mb19fZGVzYycpLnRleHQoZm9ybURhdGEuZ2V0KCdkZXNjcmlwdGlvbicpKTtcclxuICAgICAgICAgICAgICAkKCcjc29jaWFsX19saW5rX3ZrJykuYXR0cignaHJlZicsIGZvcm1EYXRhLmdldCgndmsnKSk7XHJcbiAgICAgICAgICAgICAgJCgnI3NvY2lhbF9fbGlua19mYicpLmF0dHIoJ2hyZWYnLCBmb3JtRGF0YS5nZXQoJ2ZhY2Vib29rJykpO1xyXG4gICAgICAgICAgICAgICQoJyNzb2NpYWxfX2xpbmtfdHcnKS5hdHRyKCdocmVmJywgZm9ybURhdGEuZ2V0KCd0d2l0dGVyJykpO1xyXG4gICAgICAgICAgICAgICQoJyNzb2NpYWxfX2xpbmtfZ2cnKS5hdHRyKCdocmVmJywgZm9ybURhdGEuZ2V0KCdnb29nbGUnKSk7XHJcbiAgICAgICAgICAgICAgJCgnI3NvY2lhbF9fbGlua19lbWFpbCcpLmF0dHIoJ2hyZWYnLCBcIm1haWx0bzpcIitmb3JtRGF0YS5nZXQoJ2VtYWlsJykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICQoZS50YXJnZXQpLnJlbW92ZUNsYXNzKCdzaG93JykuYWRkQ2xhc3MoJ2hpZGUnKTtcclxuICAgICAgICAgICAgJCgnYm9keScpLnJlbW92ZUNsYXNzKCdoYXMtb3ZlcmZsb3ctaGlkZGVuJyk7XHJcbiAgICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vINCU0L7QsdCw0LLQu9C10L3QuNC1INCw0LvRjNCx0L7QvNCwXHJcbiAgICAkKCcjZm9ybS1hZGQtYWxidW0nKS5vbignc3VibWl0JywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoJChlLnRhcmdldClbMF0pO1xyXG5jb25zb2xlLmxvZygnYWRkLWFsYnVtJyk7XHJcbiAgICAgICQuYWpheCh7XHJcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICB1cmw6IFwiL2FsYnVtL3NhdmVcIixcclxuICAgICAgICBkYXRhOiBmb3JtRGF0YSxcclxuICAgICAgICBwcm9jZXNzRGF0YTogZmFsc2UsXHJcbiAgICAgICAgY29udGVudFR5cGU6IGZhbHNlXHJcbiAgICAgIH0pXHJcbiAgICAgIC5kb25lKGZ1bmN0aW9uIChtc2cpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhtc2cpO1xyXG4gICAgICB9KVxyXG4gICAgfSlcclxuXHJcbiAgfVxyXG4gIFxyXG4gIHJldHVybiB7XHJcbiAgICBpbml0OiBpbml0XHJcbiAgfVxyXG59KCkpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgaW5pdDogc2V0QWpheFJlc3BvbmNlcy5pbml0XHJcbn07XG59LHt9XSwzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBBbmltYXRlIGVsZW1lbnRzIG9uIHNjcm9sbC4gQmFzZWQgb24gd2F5cG9pbnRzLmpzXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG52YXIgYW5pbWF0ZUNzcyA9IGZ1bmN0aW9uIChpbl9lZmZlY3QpIHtcclxuXHQkKHRoaXMpLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgZWxlbSA9ICQodGhpcyk7XHJcblx0XHRlbGVtLmNzcyh7b3BhY2l0eTowfSlcclxuXHRcdFx0LmFkZENsYXNzKFwiYW5pbWF0ZWRcIilcclxuXHRcdFx0LndheXBvaW50KGZ1bmN0aW9uKGRpcikge1xyXG5cdFx0XHRcdGlmIChkaXIgPT09IFwiZG93blwiKSB7XHJcblx0XHRcdFx0XHRlbGVtLmFkZENsYXNzKGluX2VmZmVjdCkuY3NzKHtvcGFjaXR5OjF9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRvZmZzZXQ6IFwiOTAlXCJcclxuXHRcdFx0fSk7XHJcblx0fSk7XHJcbn07XHJcblxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gU2hvdyBvd2VybGF5IGxheWVyIHdoZW4gc3BlY2lmaWVkIGxpbmsgaGFzIGJlZW4gY2xpY2tlZFxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5mdW5jdGlvbiBmYWRlUGFnZU9uIChsaW5rX3NlbGVjdG9yLCBvdmVybGF5X3NlbGVjdG9yLCB0aW1lKXtcclxuXHQkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsIGxpbmtfc2VsZWN0b3IsIGZ1bmN0aW9uKGUpIHtcclxuXHRcdHZhciBocmVmID0gJCh0aGlzKS5hdHRyKFwiaHJlZlwiKTtcclxuXHRcdGlmKGhyZWZbMF0hPVwiI1wiKXtcclxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRcdFx0cmV0dXJuICQob3ZlcmxheV9zZWxlY3RvcilcclxuXHRcdFx0XHQuZmFkZUluKHRpbWUsIGZ1bmN0aW9uKCl7XHJcblx0XHRcdFx0XHRyZXR1cm4gZG9jdW1lbnQubG9jYXRpb24gPSBocmVmICE9IG51bGwgPyBocmVmIDogXCIvXCI7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHR9KTtcclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG5cdGFuaW1hdGVDc3MgOiBhbmltYXRlQ3NzLFxyXG5cdGZhZGVQYWdlT24gOiBmYWRlUGFnZU9uXHJcbn07XG59LHt9XSw0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBDaGVjayBicm93c2VyIHNjcm9sbGJhciB3aWR0aFxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxudmFyIGdldFNjcm9sbGJhcldpZHRoID0gZnVuY3Rpb24gKCl7XHJcblx0dmFyIHN0eWxlID0ge1wibWF4LWhlaWdodFwiOlwiMTAwcHhcIiwgXCJvdmVyZmxvd1wiOlwic2Nyb2xsXCIsIFwicG9zaXRpb25cIjpcImFic29sdXRlXCJ9LFxyXG5cdFx0d3JhcHBlciA9ICQoXCI8ZGl2IGlkPSdzY3JvbGxfYmFyX2NoZWNrX0EnPjwvZGl2PlwiKS5jc3Moc3R5bGUpLFxyXG5cdFx0aW5uZXIgPSAkKFwiPGRpdiBpZD0nc2Nyb2xsX2Jhcl9jaGVja19CJz48L2Rpdj5cIiksXHJcblx0XHRzdHJldGNoZXIgPSAkKFwiPGltZyBzcmM9Jy9hc3NldHMvaW1nL2ZvcmNlLXNjcm9sbC5wbmcnLz5cIiksXHJcblx0XHRzY3JvbGxCYXJXaWR0aCA9IDA7XHJcblxyXG5cdHdyYXBwZXIuYXBwZW5kKHN0cmV0Y2hlcikuYXBwZW5kKGlubmVyKTtcclxuXHQkKFwiYm9keVwiKS5hcHBlbmQod3JhcHBlcik7XHJcblxyXG5cdHNjcm9sbEJhcldpZHRoID0gd3JhcHBlci53aWR0aCgpLWlubmVyLndpZHRoKCk7XHJcblx0d3JhcHBlci5yZW1vdmUoKTtcclxuXHJcblx0cmV0dXJuIHNjcm9sbEJhcldpZHRoO1xyXG59O1xyXG5cclxuXHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gQ2hlY2sgSUUgdmVyc2lvblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxudmFyIGllVmVyc2lvbiA9IGZ1bmN0aW9uICgpIHtcclxuXHR2YXIgdWEgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDtcclxuXHJcblx0dmFyIG1zaWUgPSB1YS5pbmRleE9mKFwiTVNJRSBcIik7XHJcblx0aWYgKG1zaWUgPiAwKSB7XHJcblx0XHQvLyBJRSAxMCBvciBvbGRlciA9PiByZXR1cm4gdmVyc2lvbiBudW1iZXJcclxuXHRcdHJldHVybiBwYXJzZUludCh1YS5zdWJzdHJpbmcobXNpZSArIDUsIHVhLmluZGV4T2YoXCIuXCIsIG1zaWUpKSwgMTApO1xyXG5cdH1cclxuXHJcblx0dmFyIHRyaWRlbnQgPSB1YS5pbmRleE9mKFwiVHJpZGVudC9cIik7XHJcblx0aWYgKHRyaWRlbnQgPiAwKSB7XHJcblx0XHQvLyBJRSAxMSA9PiByZXR1cm4gdmVyc2lvbiBudW1iZXJcclxuXHRcdHZhciBydiA9IHVhLmluZGV4T2YoXCJydjpcIik7XHJcblx0XHRyZXR1cm4gcGFyc2VJbnQodWEuc3Vic3RyaW5nKHJ2ICsgMywgdWEuaW5kZXhPZihcIi5cIiwgcnYpKSwgMTApO1xyXG5cdH1cclxuXHJcblx0dmFyIGVkZ2UgPSB1YS5pbmRleE9mKFwiRWRnZS9cIik7XHJcblx0aWYgKGVkZ2UgPiAwKSB7XHJcblx0XHQvLyBFZGdlIChJRSAxMispID0+IHJldHVybiB2ZXJzaW9uIG51bWJlclxyXG5cdFx0cmV0dXJuIHBhcnNlSW50KHVhLnN1YnN0cmluZyhlZGdlICsgNSwgdWEuaW5kZXhPZihcIi5cIiwgZWRnZSkpLCAxMCk7XHJcblx0fVxyXG5cclxuXHQvLyBvdGhlciBicm93c2VyXHJcblx0cmV0dXJuIGZhbHNlO1xyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcblx0Z2V0U2Nyb2xsYmFyV2lkdGggOiBnZXRTY3JvbGxiYXJXaWR0aCxcclxuXHRpZVZlcnNpb24gOiBpZVZlcnNpb25cclxufVxufSx7fV0sNTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vKiogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqIC0tLS0tINCf0L7QtNC60LvRjtGH0LXQvdC40LUg0L/RgNC10LTQv9GA0L7RgdC80L7RgtGA0LAg0YTQvtGC0L4g0Lgg0YTQvtC90LAgLS0tLS0tLS1cclxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xyXG5cclxudmFyIGltYWdlUHJldmlldyA9IChmdW5jdGlvbigpIHtcclxuXHJcbiAgZnVuY3Rpb24gaW5pdCgpIHtcclxuXHJcbiAgICAvLyBBdmF0YXIgcHJldmlld1xyXG4gICAgJCgnI2lucHV0X2F2YXRhcicpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbigpe1xyXG4gICAgICB2YXIgaW5wdXQgPSB0aGlzLFxyXG4gICAgICAgICAgYXZhdGFyID0gJCgnI3ByZXZpZXdfYXZhdGFyJyk7XHJcblxyXG4gICAgICBpZiAoaW5wdXQuZmlsZXMgJiYgaW5wdXQuZmlsZXNbMF0pIHtcclxuICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuXHJcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgYXZhdGFyLmF0dHIoXCJzcmNcIiwgZS50YXJnZXQucmVzdWx0KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChpbnB1dC5maWxlc1swXSk7XHJcblxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBCYWNrZ3JvdW5kIHByZXZpZXdcclxuICAgICQoJyNpbnB1dF9iYWNrZ3JvdW5kJykub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCl7XHJcbiAgICAgIHZhciBpbnB1dCA9IHRoaXMsXHJcbiAgICAgICAgICBiZyA9ICQoJyNiZy1lZGl0LXVzZXInKTtcclxuXHJcbiAgICAgIGlmIChpbnB1dC5maWxlcyAmJiBpbnB1dC5maWxlc1swXSkge1xyXG4gICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG5cclxuICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICBiZy5jc3Moe1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IFwidXJsKFwiKyBlLnRhcmdldC5yZXN1bHQgK1wiKVwiXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChpbnB1dC5maWxlc1swXSk7XHJcblxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBpbml0OiBpbml0XHJcbiAgfVxyXG59KCkpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgaW5pdDogaW1hZ2VQcmV2aWV3LmluaXRcclxufTtcbn0se31dLDY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuZnVuY3Rpb24gaW5pdChjb250YWluZXIsIG9wZW5CdG4sIGNsb3NlQnRuKXtcclxuXHR2YXIgbW9kYWwgPSAkKGNvbnRhaW5lcik7XHJcblx0dmFyIG9wZW4gPSAkKG9wZW5CdG4pO1xyXG5cdHZhciBjbG9zZSA9IG1vZGFsLmZpbmQoY2xvc2VCdG4pO1xyXG5cdHZhciBib2R5ID0gJCgnYm9keScpO1xyXG5cclxuXHRvcGVuLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpe1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0bW9kYWwucmVtb3ZlQ2xhc3MoXCJoaWRlXCIpLmFkZENsYXNzKFwic2hvd1wiKTtcclxuXHRcdGJvZHkuYWRkQ2xhc3MoXCJoYXMtb3ZlcmZsb3ctaGlkZGVuXCIpO1xyXG5cdH0pO1xyXG5cclxuXHRjbG9zZS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKXtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdG1vZGFsLmFkZENsYXNzKFwiaGlkZVwiKS5yZW1vdmVDbGFzcyhcInNob3dcIik7XHJcblx0XHRib2R5LnJlbW92ZUNsYXNzKCdoYXMtb3ZlcmZsb3ctaGlkZGVuJyk7XHJcblx0fSk7XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuXHRpbml0IDogaW5pdFxyXG59O1xyXG5cclxuXG59LHt9XSw3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBQcmVsb2FkZXIgd2l0aCBwZXJjZW50YWdlIGJ5IGltYWdlIGNvdW50XHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG52YXJcdHByZWxvYWRlcl9jb250YWluZXIgPSAkKFwiI3ByZWxvYWRlclwiKSxcclxuXHRwcmVsb2FkZXJfcGVyY2VudGFnZSA9ICQoXCIjcHJlbG9hZGVyX19wZXJjZW50YWdlXCIpLFxyXG5cdGhhc0ltYWdlUHJvcGVydGllcyA9IFtcImJhY2tncm91bmRcIiwgXCJiYWNrZ3JvdW5kSW1hZ2VcIiwgXCJsaXN0U3R5bGVJbWFnZVwiLCBcImJvcmRlckltYWdlXCIsIFwiYm9yZGVyQ29ybmVySW1hZ2VcIiwgXCJjdXJzb3JcIl0sXHJcblx0aGFzSW1hZ2VBdHRyaWJ1dGVzID0gW1wic3Jjc2V0XCJdLFxyXG5cdG1hdGNoX3VybCA9IC91cmxcXChcXHMqKFsnXCJdPykoLio/KVxcMVxccypcXCkvZyxcclxuXHRhbGxfaW1hZ2VzID0gW10sXHJcblx0dG90YWwgPSAwLFxyXG5cdGNvdW50ID0gMDtcclxuXHJcbi8vIEFuaW1hdGUgaW5jbHVkZWQgU1ZHIGNpcmNsZXMgcHJlbG9hZGVyXHJcbnZhciBjaXJjbGVfbyA9ICQoXCIjcHJlbG9hZGVyX19pbWcgLmJhcl9fb3V0ZXJcIiksXHJcblx0Y2lyY2xlX2MgPSAkKFwiI3ByZWxvYWRlcl9faW1nIC5iYXJfX2NlbnRlclwiKSxcclxuXHRjaXJjbGVfaSA9ICQoXCIjcHJlbG9hZGVyX19pbWcgLmJhcl9faW5uZXJcIiksXHJcblx0bGVuZ3RoX28gPSBNYXRoLlBJKihjaXJjbGVfby5hdHRyKFwiclwiKSAqIDIpLFxyXG5cdGxlbmd0aF9jID0gTWF0aC5QSSooY2lyY2xlX2MuYXR0cihcInJcIikgKiAyKSxcclxuXHRsZW5ndGhfaSA9IE1hdGguUEkqKGNpcmNsZV9pLmF0dHIoXCJyXCIpICogMik7XHJcblxyXG5cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcHJlbG9hZGVyKCkge1xyXG5cclxuXHRmdW5jdGlvbiBpbWdfbG9hZGVkKCl7XHJcblx0XHR2YXIgcGVyY2VudGFnZSA9IE1hdGguY2VpbCggKGNvdW50KzEpIC8gdG90YWwgKiAxMDAgKTtcclxuXHJcblx0XHRjb3VudCArPSAxO1xyXG5cdFx0cGVyY2VudGFnZSA9IHBlcmNlbnRhZ2UgPiAxMDAgPyAxMDAgOiBwZXJjZW50YWdlO1xyXG5cclxuXHRcdC8vIERyYXcgb2Zmc2V0c1xyXG5cdFx0Ly8gMXN0IGNpcmNsZVxyXG5cdFx0Y2lyY2xlX28uY3NzKHtzdHJva2VEYXNob2Zmc2V0OiAoKDEwMC1wZXJjZW50YWdlKS8xMDApKmxlbmd0aF9vIH0pO1xyXG5cclxuXHRcdC8vIHdoZW4gdG8gc3RhcnQgMm5kIGNpcmNsZVxyXG5cdFx0aWYocGVyY2VudGFnZSA+IDUwKSB7XHJcblx0XHRcdGNpcmNsZV9jLmNzcyh7c3Ryb2tlRGFzaG9mZnNldDogKCgxMDAtcGVyY2VudGFnZSkvMTAwKSpsZW5ndGhfYyB9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyB3aGVuIHRvIHN0YXJ0IDNyZCBjaXJjbGVcclxuXHRcdGlmKHBlcmNlbnRhZ2UgPT0gMTAwKSB7XHJcblx0XHRcdGNpcmNsZV9pLmNzcyh7c3Ryb2tlRGFzaG9mZnNldDogKCgxMDAtcGVyY2VudGFnZSkvMTAwKSpsZW5ndGhfaSB9KTtcclxuXHRcdH1cclxuXHJcblx0XHRwcmVsb2FkZXJfcGVyY2VudGFnZS5odG1sKHBlcmNlbnRhZ2UpO1xyXG5cclxuXHRcdGlmKGNvdW50ID09PSB0b3RhbCl7XHJcblx0XHRcdHJldHVybiBkb25lX2xvYWRpbmcoKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIGRvbmVfbG9hZGluZygpe1xyXG5cdFx0cHJlbG9hZGVyX3BlcmNlbnRhZ2UuY3NzKHtcImFuaW1hdGlvblwiOlwibm9uZVwifSk7XHJcblx0XHRwcmVsb2FkZXJfY29udGFpbmVyLmRlbGF5KDcwMCkuZmFkZU91dCg3MDAsIGZ1bmN0aW9uKCl7XHJcblx0XHRcdC8vIENhbGxiYWNrcywgZS5nLjpcclxuXHRcdFx0cHJlbG9hZGVyX3BlcmNlbnRhZ2UucmVtb3ZlKCk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIGltYWdlc19sb29wICh0b3RhbCkge1xyXG5cdFx0Zm9yKHZhciBpPTA7IGk8dG90YWw7IGkrKyl7XHJcblx0XHRcdHZhciB0ZXN0X2ltYWdlID0gbmV3IEltYWdlKCk7XHJcblxyXG5cdFx0XHR0ZXN0X2ltYWdlLm9ubG9hZCA9IGltZ19sb2FkZWQ7XHJcblx0XHRcdHRlc3RfaW1hZ2Uub25lcnJvciA9IGltZ19sb2FkZWQ7XHJcblxyXG5cdFx0XHRpZiAoYWxsX2ltYWdlc1tpXS5zcmNzZXQpIHtcclxuXHRcdFx0XHR0ZXN0X2ltYWdlLnNyY3NldCA9IGFsbF9pbWFnZXNbaV0uc3Jjc2V0O1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR0ZXN0X2ltYWdlLnNyYyA9IGFsbF9pbWFnZXNbaV0uc3JjO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gR2V0IGFsbCBpbWFnZXNcclxuXHQkKFwiKlwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBlbGVtZW50ID0gJCh0aGlzKTtcclxuXHJcblx0XHRpZiAoZWxlbWVudC5pcyhcImltZ1wiKSAmJiBlbGVtZW50LmF0dHIoXCJzcmNcIikpIHtcclxuXHRcdFx0YWxsX2ltYWdlcy5wdXNoKHtcclxuXHRcdFx0XHRzcmM6IGVsZW1lbnQuYXR0cihcInNyY1wiKSxcclxuXHRcdFx0XHRlbGVtZW50OiBlbGVtZW50WzBdXHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdCQuZWFjaChoYXNJbWFnZVByb3BlcnRpZXMsIGZ1bmN0aW9uIChpLCBwcm9wZXJ0eSkge1xyXG5cdFx0XHR2YXIgcHJvcGVydHlWYWx1ZSA9IGVsZW1lbnQuY3NzKHByb3BlcnR5KTtcclxuXHRcdFx0dmFyIG1hdGNoO1xyXG5cclxuXHRcdFx0aWYgKCFwcm9wZXJ0eVZhbHVlKSB7XHJcblx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdG1hdGNoID0gbWF0Y2hfdXJsLmV4ZWMocHJvcGVydHlWYWx1ZSk7XHJcblx0XHRcdFxyXG5cdFx0XHRpZiAobWF0Y2gpIHtcclxuXHRcdFx0XHRhbGxfaW1hZ2VzLnB1c2goe1xyXG5cdFx0XHRcdFx0c3JjOiBtYXRjaFsyXSxcclxuXHRcdFx0XHRcdGVsZW1lbnQ6IGVsZW1lbnRbMF1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0JC5lYWNoKGhhc0ltYWdlQXR0cmlidXRlcywgZnVuY3Rpb24gKGksIGF0dHJpYnV0ZSkge1xyXG5cdFx0XHR2YXIgYXR0cmlidXRlVmFsdWUgPSBlbGVtZW50LmF0dHIoYXR0cmlidXRlKTtcclxuXHJcblx0XHRcdGlmICghYXR0cmlidXRlVmFsdWUpIHtcclxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0YWxsX2ltYWdlcy5wdXNoKHtcclxuXHRcdFx0XHRzcmM6IGVsZW1lbnQuYXR0cihcInNyY1wiKSxcclxuXHRcdFx0XHRzcmNzZXQ6IGVsZW1lbnQuYXR0cihcInNyY3NldFwiKSxcclxuXHRcdFx0XHRlbGVtZW50OiBlbGVtZW50WzBdXHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0fSk7XHJcblxyXG5cdHRvdGFsID0gYWxsX2ltYWdlcy5sZW5ndGg7XHJcblxyXG5cdC8vIFN0YXJ0IHByZWxvYWRlciBvciBleGl0XHJcblx0aWYgKHRvdGFsID09PSAwKSB7XHJcblx0XHRwcmVsb2FkZXJfcGVyY2VudGFnZS5odG1sKDEwMCk7XHJcblx0XHRkb25lX2xvYWRpbmcoKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0aW1hZ2VzX2xvb3AodG90YWwpO1xyXG5cdH1cclxufTtcbn0se31dLDg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuaGVscGVycyA9IHJlcXVpcmUoXCIuL2hlbHBlcnMuanNcIik7XHJcblxyXG52YXIgc2Nyb2xsYmFyX3dpZHRoID0gaGVscGVycy5nZXRTY3JvbGxiYXJXaWR0aCgpLFxyXG5cdHNsaWRlcixcclxuXHRjdXJyZW50O1xyXG5cclxuZnVuY3Rpb24gaW5pdChjb250YWluZXIsIG9wZW5CdG4sIGNsb3NlQnRuLCBuZXh0QnRuLCBwcmV2QnRuKXtcclxuXHRzbGlkZXIgPSAkKGNvbnRhaW5lcik7XHJcblxyXG5cdHZhciBvcGVuID0gJChvcGVuQnRuKSxcclxuXHRcdGNsb3NlID0gc2xpZGVyLmZpbmQoY2xvc2VCdG4pLFxyXG5cdFx0bmV4dCA9IHNsaWRlci5maW5kKG5leHRCdG4pLFxyXG5cdFx0cHJldiA9IHNsaWRlci5maW5kKHByZXZCdG4pLFxyXG5cdFx0Ym9keSA9ICQoJ2h0bWwnKTtcclxuXHJcblx0b3Blbi5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKXtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcblx0XHRjdXJyZW50ID0gJCh0aGlzKS5jbG9zZXN0KCcuYWxidW0taXRlbScpO1xyXG5cdFx0c2hvd1NsaWRlKGN1cnJlbnQpO1xyXG5cclxuXHRcdHNsaWRlci5yZW1vdmVDbGFzcyhcImhpZGVcIikuYWRkQ2xhc3MoXCJzaG93XCIpO1xyXG5cdFx0Ym9keS5hZGRDbGFzcygnaGFzLW92ZXJmbG93LWhpZGRlbicpXHJcblx0XHRcdC5jc3Moe1wicGFkZGluZy1yaWdodFwiIDogc2Nyb2xsYmFyX3dpZHRofSk7XHJcblx0fSk7XHJcblxyXG5cdGNsb3NlLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpe1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0c2xpZGVyLmFkZENsYXNzKFwiaGlkZVwiKS5yZW1vdmVDbGFzcyhcInNob3dcIik7XHJcblx0XHRib2R5LnJlbW92ZUNsYXNzKCdoYXMtb3ZlcmZsb3ctaGlkZGVuJylcclxuXHRcdFx0LmNzcyh7XCJwYWRkaW5nLXJpZ2h0XCIgOiAwfSk7XHJcblx0fSk7XHJcblxyXG5cdG5leHQub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZSl7XHJcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRzaG93TmV4dCgpO1xyXG5cdH0pO1xyXG5cclxuXHRwcmV2Lm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpe1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0c2hvd1ByZXYoKTtcclxuXHR9KTtcclxuXHJcbn07XHJcblxyXG5mdW5jdGlvbiBzaG93TmV4dCgpe1xyXG5cdHZhciBuZXh0U2xpZGUgPSBjdXJyZW50Lm5leHQoJy5hbGJ1bS1pdGVtJyk7XHJcblx0aWYgKG5leHRTbGlkZS5sZW5ndGgpIHtcclxuXHRcdHNob3dTbGlkZShuZXh0U2xpZGUpO1xyXG5cdFx0Y3VycmVudCA9IG5leHRTbGlkZTtcclxuXHR9XHJcbn07XHJcblxyXG5mdW5jdGlvbiBzaG93UHJldigpe1xyXG5cdHZhciBwcmV2U2xpZGUgPSBjdXJyZW50LnByZXYoJy5hbGJ1bS1pdGVtJyk7XHJcblx0aWYgKHByZXZTbGlkZS5sZW5ndGgpIHtcclxuXHRcdHNob3dTbGlkZShwcmV2U2xpZGUpO1xyXG5cdFx0Y3VycmVudCA9IHByZXZTbGlkZTtcclxuXHR9XHJcbn07XHJcblxyXG5mdW5jdGlvbiBzaG93U2xpZGUoX2l0ZW0pe1xyXG5cdHZhciBpbWdfdGh1bWIgPSBfaXRlbS5kYXRhKCd0aHVtYicpO1xyXG5cdFx0aW1nX3RpdGxlID0gX2l0ZW0uZGF0YSgndGl0bGUnKSxcclxuXHRcdGltZ19saWtlcyA9IF9pdGVtLmRhdGEoJ2xpa2VzJyksXHJcblx0XHRpbWdfdXNlcl9uYW1lID0gX2l0ZW0uZGF0YSgndXNlcl9uYW1lJyksXHJcblx0XHRpbWdfdXNlcl9hdmF0YXIgPSBfaXRlbS5kYXRhKCd1c2VyX2F2YXRhcicpLFxyXG5cdFx0aW1nX2Rlc2MgPSBfaXRlbS5kYXRhKCdkZXNjJyksXHJcblx0XHRjb21tZW50c19ob2xkZXIgPSBzbGlkZXIuZmluZCgnLmNvbW1lbnRzX19ob2xkZXInKSxcclxuXHRcdGltZ19jb21tZW50cyA9IF9pdGVtLmZpbmQoJy5jb21tZW50c19faXRlbScpO1xyXG5cclxuXHQvLyDQntGH0LjRidC10L3QuNC1INCx0LvQvtC60LAg0LTQu9GPINC60L7QvNC80LXQvdGC0LDRgNC40LXQslxyXG5cdGNvbW1lbnRzX2hvbGRlci5odG1sKCcnKTtcclxuXHJcblx0Ly8g0JTQvtCx0LDQstC70LXQvdC40LUg0LrQvtC80LzQtdC90YLQsNGA0LjQtdCyXHJcblx0aW1nX2NvbW1lbnRzLmVhY2goZnVuY3Rpb24oa2V5LCB2YWx1ZSl7XHJcblx0XHRjb21tZW50c19ob2xkZXIuYXBwZW5kKHZhbHVlKTtcclxuXHR9KTtcclxuXHJcblxyXG5cdHZhciBpbWdfZGVzYyA9IF9pdGVtLmRhdGEoJ2Rlc2MnKTtcclxuXHJcblx0c2xpZGVyLmZpbmQoJy5zbGlkZXJfX2ltZycpLmF0dHIoJ3NyYycsIGltZ190aHVtYik7XHJcblx0c2xpZGVyLmZpbmQoJy5zbGlkZXJfX3RpdGxlJykuaHRtbChpbWdfdGl0bGUpO1xyXG5cdHNsaWRlci5maW5kKCcubGlrZXNfX2NvdW50JykuaHRtbChpbWdfbGlrZXMpO1xyXG5cdHNsaWRlci5maW5kKCcuc2xpZGVyX190ZXh0JykuaHRtbChpbWdfZGVzYyk7XHJcblx0c2xpZGVyLmZpbmQoJy5zbGlkZXJfX2F1dGhvci1uYW1lJykuaHRtbChpbWdfdXNlcl9uYW1lKTtcclxuXHRzbGlkZXIuZmluZCgnLnNsaWRlcl9fYXV0aG9yLXBob3RvIGltZycpLmF0dHIoJ3NyYycsIGltZ191c2VyX2F2YXRhcik7XHJcblxyXG5cclxuXHQvLyBIZWlnaHQgYW5pbWF0aW9uXHJcblx0dmFyIHNsaWRlclBob3RvID0gc2xpZGVyLmZpbmQoJy5zbGlkZXJfX3Bob3RvJyksXHJcblx0XHRzbGlkZUhlaWdodCA9IHNsaWRlci5maW5kKCcuc2xpZGVyX19pbWcnKS5oZWlnaHQoKTtcclxuXHJcblx0c2xpZGVyUGhvdG8uYW5pbWF0ZSh7XHJcblx0XHQnaGVpZ2h0Jzogc2xpZGVIZWlnaHRcclxuXHR9LCAzMDApO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuXHRpbml0IDogaW5pdCxcclxuXHRzaG93TmV4dDogc2hvd05leHQsXHJcblx0c2hvd1ByZXY6IHNob3dQcmV2XHJcbn07XHJcblxyXG5cbn0se1wiLi9oZWxwZXJzLmpzXCI6NH1dfSx7fSxbMV0pO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
