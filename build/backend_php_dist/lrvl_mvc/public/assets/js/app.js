!function e(t,i,n){function o(s,r){if(!i[s]){if(!t[s]){var l="function"==typeof require&&require;if(!r&&l)return l(s,!0);if(a)return a(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var c=i[s]={exports:{}};t[s][0].call(c.exports,function(e){var i=t[s][1][e];return o(i?i:e)},c,c.exports,e,t,i,n)}return i[s].exports}for(var a="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(e,t,i){!function(t){"use strict";function i(e){e.preventDefault(),t(this).closest(".hm-modal__content").find(".editing-block").slideUp(300),t(this).closest(".hm-modal__content").find(".removing-block").slideDown(300)}function n(e){e.preventDefault(),t(this).closest(".hm-modal__content").find(".removing-block").slideUp(300),t(this).closest(".hm-modal__content").find(".editing-block").slideDown(300)}function o(e){e.preventDefault();var i=t(this).closest(".social-links__item");i.siblings().find(".social-links__form").hide(),i.find(".social-links__form").show()}function a(e){e.preventDefault(),t(this).closest(".social-links__form").hide()}var s=e("./modules/infinite_preloader.js"),r=e("./modules/modal.js"),l=e("./modules/slider.js"),d=e("./modules/animations.js"),c=e("./modules/ajax.js"),u=e("./modules/image_preview.js");if(t("#scene.axis").length&&t("#scene.axis").parallax({scalarX:3,scalarY:3,frictionX:.5,frictionY:.5}),t("#go-up").click(function(){t("html, body").stop().animate({scrollTop:0},700,"swing")}),d.fadePageOn("a.preload-link","#preloader",300),t.fn.animated=d.animateCss,t(".album-item").animated("fadeIn"),t(".photo-item").animated("fadeIn"),t(".js-add-album").length&&r.init("#add-album-modal",".js-add-album",".js-close-modal"),t(".js-edit-album").length&&r.init("#edit-album-modal",".js-edit-album",".js-close-modal"),t(".js-add-photos").length&&r.init("#add-photos-modal",".js-add-photos",".js-close-modal"),t(".js-edit-photo").length&&r.init("#edit-photo-modal",".js-edit-photo",".js-close-modal"),t(".js-edit-user").length&&r.init("#edit-user-modal",".js-edit-user",".js-close-modal"),t(".js-edit-user-header").length&&r.init("#edit-user-header",".js-edit-user-header",".js-close-header"),t(".js-edit-album-header").length&&r.init("#edit-album-header",".js-edit-album-header",".js-close-header"),t(".js-show-removing-block").length&&t(".js-show-removing-block").on("click",i),t(".js-hide-removing-block").length&&t(".js-hide-removing-block").on("click",n),t(".js-open-slider").length&&l.init("#slider",".js-open-slider",".js-close-slider",".js-slider-next",".js-slider-prev"),t(".js-open-social-form").length&&t(".js-open-social-form").on("click",o),t(".js-close-form").length&&t(".js-close-form").on("click",a),t("#flip-card").click(function(){t("body").addClass("card_flipped")}),t("#unflip-card").click(function(e){e.preventDefault(),t("body").removeClass("card_flipped")}),t("#show-recovery").click(function(e){e.preventDefault(),t("body").addClass("show_recovery")}),t("#hide-recovery").click(function(e){e.preventDefault(),t("body").removeClass("show_recovery")}),t("#dropzone").length){var f=t("#dropzone"),m=t("#fail-area"),h=t("#fail-dropzone");f.dropzone({url:"/photo/save",maxFilesize:2,addRemoveLinks:!0,dictDefaultMessage:"",dictFallbackMessage:"Ваш браузер не поддерживает загрузку файлов через drag'n'drop.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"Превышен размер {{maxFilesize}}мб",dictInvalidFileType:"Выбран неверный формат изображений",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Отменить загрузку",dictCancelUploadConfirmation:"Вы уверены что хотите отменить загрузку?",dictRemoveFile:"",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"Вы не можете загрузить больше файлов."}),f.on("DOMSubtreeModified",function(){f.find(".dz-error").length&&m.removeClass("is-hidden"),f.find(".dz-error").each(function(e,t){h.append(t)})}),h.on("DOMSubtreeModified",function(){t(this).html()||m.addClass("is-hidden")})}s(),c.init(),u.init()}(jQuery)},{"./modules/ajax.js":2,"./modules/animations.js":3,"./modules/image_preview.js":5,"./modules/infinite_preloader.js":6,"./modules/modal.js":7,"./modules/slider.js":8}],2:[function(e,t,i){var n=function(){function e(){$("#edit-user-header").on("submit",function(e){e.preventDefault();var t=new FormData($(e.target)[0]);$.ajax({method:"POST",url:"/user/savedata",data:t,processData:!1,contentType:!1}).done(function(i){"success"==i.status&&(void 0!==i.background&&$(".main-page").css({backgroundImage:"url("+i.background+")"}),void 0!==i.avatar&&$("#user-avatar").attr("src",i.avatar),$(".user-info__name").text(t.get("name")),$(".user-info__desc").text(t.get("description")),$("#social__link_vk").attr("href",t.get("vk")),$("#social__link_fb").attr("href",t.get("facebook")),$("#social__link_tw").attr("href",t.get("twitter")),$("#social__link_gg").attr("href",t.get("google")),$("#social__link_email").attr("href","mailto:"+t.get("email"))),$(e.target).removeClass("show").addClass("hide"),$("body").removeClass("has-overflow-hidden")})}),$("#form-add-album").on("submit",function(e){e.preventDefault();var t=new FormData($(e.target)[0]);console.log("add-album"),$.ajax({method:"POST",url:"/album/save",data:t,processData:!1,contentType:!1}).done(function(e){console.log(e)})})}return{init:e}}();t.exports={init:n.init}},{}],3:[function(e,t,i){function n(e,t,i){$(document).on("click",e,function(e){var n=$(this).attr("href");if("#"!=n[0])return e.preventDefault(),$(t).fadeIn(i,function(){return document.location=null!=n?n:"/"})})}var o=function(e){$(this).each(function(){var t=$(this);t.css({opacity:0}).addClass("animated").waypoint(function(i){"down"===i&&t.addClass(e).css({opacity:1})},{offset:"90%"})})};t.exports={animateCss:o,fadePageOn:n}},{}],4:[function(e,t,i){var n=function(){var e={"max-height":"100px",overflow:"scroll",position:"absolute"},t=$("<div id='scroll_bar_check_A'></div>").css(e),i=$("<div id='scroll_bar_check_B'></div>"),n=$("<img src='/assets/img/force-scroll.png'/>"),o=0;return t.append(n).append(i),$("body").append(t),o=t.width()-i.width(),t.remove(),o},o=function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);var i=e.indexOf("Trident/");if(i>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var o=e.indexOf("Edge/");return o>0&&parseInt(e.substring(o+5,e.indexOf(".",o)),10)};t.exports={getScrollbarWidth:n,ieVersion:o}},{}],5:[function(e,t,i){var n=function(){function e(){$("#input_avatar").on("change",function(){var e=this,t=$("#preview_avatar");if(e.files&&e.files[0]){var i=new FileReader;i.onload=function(e){t.attr("src",e.target.result)},i.readAsDataURL(e.files[0])}}),$("#input_background").on("change",function(){var e=this,t=$("#bg-edit-user");if(e.files&&e.files[0]){var i=new FileReader;i.onload=function(e){t.css({backgroundImage:"url("+e.target.result+")"})},i.readAsDataURL(e.files[0])}})}return{init:e}}();t.exports={init:n.init}},{}],6:[function(e,t,i){var n=$("#preloader"),o=$("#preloader__percentage"),a=["background","backgroundImage","listStyleImage","borderImage","borderCornerImage","cursor"],s=["srcset"],r=/url\(\s*(['"]?)(.*?)\1\s*\)/g,l=[],d=0,c=0;t.exports=function(){function e(){var e=Math.ceil((c+1)/d*100);if(c+=1,e=e>100?100:e,o.html(e),c===d)return t()}function t(){o.css({animation:"none"}),n.delay(700).fadeOut(700,function(){o.remove()})}function i(t){for(var i=0;i<t;i++){var n=new Image;n.onload=e,n.onerror=e,l[i].srcset&&(n.srcset=l[i].srcset),n.src=l[i].src}}$("*").each(function(){var e=$(this);e.is("img")&&e.attr("src")&&l.push({src:e.attr("src"),element:e[0]}),$.each(a,function(t,i){var n,o=e.css(i);return!o||(n=r.exec(o),void(n&&l.push({src:n[2],element:e[0]})))}),$.each(s,function(t,i){var n=e.attr(i);return!n||void l.push({src:e.attr("src"),srcset:e.attr("srcset"),element:e[0]})})}),d=l.length,0===d?(o.html(100),t()):i(d)}},{}],7:[function(e,t,i){function n(e,t,i){var n=$(e),o=$(t),a=n.find(i),s=$("body");o.on("click",function(e){e.preventDefault(),n.removeClass("hide").addClass("show"),s.addClass("has-overflow-hidden")}),a.on("click",function(e){e.preventDefault(),n.addClass("hide").removeClass("show"),s.removeClass("has-overflow-hidden")})}t.exports={init:n}},{}],8:[function(e,t,i){function n(e,t,i,n,o){l=$(e);var c=$(t),f=l.find(i),m=l.find(n),h=l.find(o),v=$("html");c.on("click",function(e){e.preventDefault(),d=$(this).closest(".photo-item"),r(d),l.removeClass("hide").addClass("show"),v.addClass("has-overflow-hidden").css({"padding-right":u})}),f.on("click",function(e){e.preventDefault(),l.addClass("hide").removeClass("show"),v.removeClass("has-overflow-hidden").css({"padding-right":0})}),m.on("click",function(e){e.preventDefault(),a()}),h.on("click",function(e){e.preventDefault(),s()})}function o(){var e=l.find(".slider__photo"),t=l.find(".slider__img").height();e.animate({height:t},300)}function a(){var e=d.next(".photo-item");e.length&&(r(e),d=e)}function s(){var e=d.prev(".photo-item");e.length&&(r(e),d=e)}function r(e){var t=e.data("thumb");img_title=e.data("title"),img_likes=e.data("likes"),img_user_name=e.data("user_name"),img_user_avatar=e.data("user_avatar"),i=e.data("desc"),comments_holder=l.find(".comments__holder"),img_comments=e.find(".comments__item"),comments_holder.html(""),img_comments.each(function(e,t){comments_holder.append(t)});var i=e.data("desc");l.find(".slider__img").attr("src",t),l.find(".slider__title").html(img_title),l.find(".likes__count").html(img_likes),l.find(".slider__text").html(i),l.find(".slider__author-name").html(img_user_name),l.find(".slider__author-photo img").attr("src",img_user_avatar),o()}helpers=e("./helpers.js");var l,d,c,u=helpers.getScrollbarWidth(),f=100;$(window).resize(function(){clearTimeout(c),c=setTimeout(o,f)}),t.exports={init:n,showNext:a,showPrev:s}},{"./helpers.js":4}]},{},[1]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJlIiwidCIsIm4iLCJyIiwicyIsIm8iLCJ1IiwiYSIsInJlcXVpcmUiLCJpIiwiZiIsIkVycm9yIiwiY29kZSIsImwiLCJleHBvcnRzIiwiY2FsbCIsImxlbmd0aCIsIjEiLCJtb2R1bGUiLCIkIiwic2hvd1JlbW92aW5nQmxvY2siLCJwcmV2ZW50RGVmYXVsdCIsInRoaXMiLCJjbG9zZXN0IiwiZmluZCIsInNsaWRlVXAiLCJzbGlkZURvd24iLCJoaWRlUmVtb3ZpbmdCbG9jayIsInNob3dTb2NpYWxGb3JtIiwic29jaWFsSXRlbSIsInNpYmxpbmdzIiwiaGlkZSIsInNob3ciLCJoaWRlU29jaWFsRm9ybSIsInByZWxvYWRlciIsIm1vZGFsIiwic2xpZGVyIiwiYW5pbWF0aW9ucyIsInNldEFqYXhSZXNwb25jZSIsImltYWdlUHJldmlldyIsInBhcmFsbGF4Iiwic2NhbGFyWCIsInNjYWxhclkiLCJmcmljdGlvblgiLCJmcmljdGlvblkiLCJjbGljayIsInN0b3AiLCJhbmltYXRlIiwic2Nyb2xsVG9wIiwiZmFkZVBhZ2VPbiIsImZuIiwiYW5pbWF0ZWQiLCJhbmltYXRlQ3NzIiwiaW5pdCIsIm9uIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsIiRkcm9wem9uZSIsIiRmYWlsQXJlYSIsIiRmYWlsRHJvcHpvbmUiLCJkcm9wem9uZSIsInVybCIsIm1heEZpbGVzaXplIiwiYWRkUmVtb3ZlTGlua3MiLCJkaWN0RGVmYXVsdE1lc3NhZ2UiLCJkaWN0RmFsbGJhY2tNZXNzYWdlIiwiZGljdEZhbGxiYWNrVGV4dCIsImRpY3RGaWxlVG9vQmlnIiwiZGljdEludmFsaWRGaWxlVHlwZSIsImRpY3RSZXNwb25zZUVycm9yIiwiZGljdENhbmNlbFVwbG9hZCIsImRpY3RDYW5jZWxVcGxvYWRDb25maXJtYXRpb24iLCJkaWN0UmVtb3ZlRmlsZSIsImRpY3RSZW1vdmVGaWxlQ29uZmlybWF0aW9uIiwiZGljdE1heEZpbGVzRXhjZWVkZWQiLCJlYWNoIiwia2V5IiwidmFsdWUiLCJhcHBlbmQiLCJodG1sIiwialF1ZXJ5IiwiLi9tb2R1bGVzL2FqYXguanMiLCIuL21vZHVsZXMvYW5pbWF0aW9ucy5qcyIsIi4vbW9kdWxlcy9pbWFnZV9wcmV2aWV3LmpzIiwiLi9tb2R1bGVzL2luZmluaXRlX3ByZWxvYWRlci5qcyIsIi4vbW9kdWxlcy9tb2RhbC5qcyIsIi4vbW9kdWxlcy9zbGlkZXIuanMiLCIyIiwic2V0QWpheFJlc3BvbmNlcyIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJ0YXJnZXQiLCJhamF4IiwibWV0aG9kIiwiZGF0YSIsInByb2Nlc3NEYXRhIiwiY29udGVudFR5cGUiLCJkb25lIiwibXNnIiwic3RhdHVzIiwidW5kZWZpbmVkIiwiYmFja2dyb3VuZCIsImNzcyIsImJhY2tncm91bmRJbWFnZSIsImF2YXRhciIsImF0dHIiLCJ0ZXh0IiwiZ2V0IiwiY29uc29sZSIsImxvZyIsIjMiLCJsaW5rX3NlbGVjdG9yIiwib3ZlcmxheV9zZWxlY3RvciIsInRpbWUiLCJkb2N1bWVudCIsImhyZWYiLCJmYWRlSW4iLCJsb2NhdGlvbiIsImluX2VmZmVjdCIsImVsZW0iLCJvcGFjaXR5Iiwid2F5cG9pbnQiLCJkaXIiLCJvZmZzZXQiLCI0IiwiZ2V0U2Nyb2xsYmFyV2lkdGgiLCJzdHlsZSIsIm1heC1oZWlnaHQiLCJvdmVyZmxvdyIsInBvc2l0aW9uIiwid3JhcHBlciIsImlubmVyIiwic3RyZXRjaGVyIiwic2Nyb2xsQmFyV2lkdGgiLCJ3aWR0aCIsInJlbW92ZSIsImllVmVyc2lvbiIsInVhIiwid2luZG93IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwibXNpZSIsImluZGV4T2YiLCJwYXJzZUludCIsInN1YnN0cmluZyIsInRyaWRlbnQiLCJydiIsImVkZ2UiLCI1IiwiaW5wdXQiLCJmaWxlcyIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCJyZXN1bHQiLCJyZWFkQXNEYXRhVVJMIiwiYmciLCI2IiwicHJlbG9hZGVyX2NvbnRhaW5lciIsInByZWxvYWRlcl9wZXJjZW50YWdlIiwiaGFzSW1hZ2VQcm9wZXJ0aWVzIiwiaGFzSW1hZ2VBdHRyaWJ1dGVzIiwibWF0Y2hfdXJsIiwiYWxsX2ltYWdlcyIsInRvdGFsIiwiY291bnQiLCJpbWdfbG9hZGVkIiwicGVyY2VudGFnZSIsIk1hdGgiLCJjZWlsIiwiZG9uZV9sb2FkaW5nIiwiYW5pbWF0aW9uIiwiZGVsYXkiLCJmYWRlT3V0IiwiaW1hZ2VzX2xvb3AiLCJ0ZXN0X2ltYWdlIiwiSW1hZ2UiLCJvbmVycm9yIiwic3Jjc2V0Iiwic3JjIiwiZWxlbWVudCIsImlzIiwicHVzaCIsInByb3BlcnR5IiwibWF0Y2giLCJwcm9wZXJ0eVZhbHVlIiwiZXhlYyIsImF0dHJpYnV0ZSIsImF0dHJpYnV0ZVZhbHVlIiwiNyIsImNvbnRhaW5lciIsIm9wZW5CdG4iLCJjbG9zZUJ0biIsIm9wZW4iLCJjbG9zZSIsImJvZHkiLCI4IiwibmV4dEJ0biIsInByZXZCdG4iLCJuZXh0IiwicHJldiIsImN1cnJlbnQiLCJzaG93U2xpZGUiLCJwYWRkaW5nLXJpZ2h0Iiwic2Nyb2xsYmFyX3dpZHRoIiwic2hvd05leHQiLCJzaG93UHJldiIsImFqdXN0SW1nSGVpZ2h0Iiwic2xpZGVyUGhvdG8iLCJzbGlkZUhlaWdodCIsImhlaWdodCIsIm5leHRTbGlkZSIsInByZXZTbGlkZSIsIl9pdGVtIiwiaW1nX3RodW1iIiwiaW1nX3RpdGxlIiwiaW1nX2xpa2VzIiwiaW1nX3VzZXJfbmFtZSIsImltZ191c2VyX2F2YXRhciIsImltZ19kZXNjIiwiY29tbWVudHNfaG9sZGVyIiwiaW1nX2NvbW1lbnRzIiwiaGVscGVycyIsInJlc2l6ZVRpbWVvdXQiLCJyZXNpemVEZWx0YSIsInJlc2l6ZSIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCIuL2hlbHBlcnMuanMiXSwibWFwcGluZ3MiOiJDQUFBLFFBQVVBLEdBQUVDLEVBQUVDLEVBQUVDLEdBQUcsUUFBU0MsR0FBRUMsRUFBRUMsR0FBRyxJQUFJSixF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QU8sV0FDaEJDLGFBQWFILEdBQ2JBLEVBQWdCSSxXQUFXcEIsRUFBZ0JpQixLQUc1QzlNLEVBQU9KLFNBQ051QyxLQUFPQSxFQUNQd0osU0FBVUEsRUFDVkMsU0FBVUEsS0FJUnNCLGVBQWUsU0FBUyIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSh7MTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4oZnVuY3Rpb24oJCkge1xyXG5cdFwidXNlIHN0cmljdFwiO1xyXG5cclxuXHR2YXIgcHJlbG9hZGVyID0gcmVxdWlyZShcIi4vbW9kdWxlcy9pbmZpbml0ZV9wcmVsb2FkZXIuanNcIiksXHJcblx0XHQvLyBoZWxwZXJzID0gcmVxdWlyZShcIi4vbW9kdWxlcy9oZWxwZXJzLmpzXCIpLFxyXG5cdFx0bW9kYWwgPSByZXF1aXJlKFwiLi9tb2R1bGVzL21vZGFsLmpzXCIpLFxyXG5cdFx0c2xpZGVyID0gcmVxdWlyZShcIi4vbW9kdWxlcy9zbGlkZXIuanNcIiksXHJcblx0XHRhbmltYXRpb25zID0gcmVxdWlyZShcIi4vbW9kdWxlcy9hbmltYXRpb25zLmpzXCIpLFxyXG5cdFx0c2V0QWpheFJlc3BvbmNlID0gcmVxdWlyZShcIi4vbW9kdWxlcy9hamF4LmpzXCIpLFxyXG5cdFx0aW1hZ2VQcmV2aWV3ID0gcmVxdWlyZShcIi4vbW9kdWxlcy9pbWFnZV9wcmV2aWV3LmpzXCIpO1xyXG5cclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHQvLyBBZGFwdGl2ZSBicmVha3BvaW50c1xyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdC8vIHZhciBzY3JvbGxiYXJfd2lkdGggPSBoZWxwZXJzLmdldFNjcm9sbGJhcldpZHRoKCksXHJcblx0Ly8gXHRzY3JlZW5fc2l6ZXMgPSB7XHJcblx0Ly8gXHRcdG1vYmlsZSA6IDQ4MCAtIHNjcm9sbGJhcl93aWR0aCxcclxuXHQvLyBcdFx0dGFibGV0IDogNzY4IC0gc2Nyb2xsYmFyX3dpZHRoLFxyXG5cdC8vIFx0XHRsaW1pdCA6IDIwMDAgLSBzY3JvbGxiYXJfd2lkdGhcclxuXHQvLyBcdH07XHJcblxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdC8vIFBhcmFsbGF4XHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5cdC8vIE1haW4gcGFnZSBtb3VzZSBwYXJhbGxheFxyXG5cdGlmKCQoXCIjc2NlbmUuYXhpc1wiKS5sZW5ndGgpe1xyXG5cdFx0JChcIiNzY2VuZS5heGlzXCIpLnBhcmFsbGF4KHtcclxuXHRcdFx0c2NhbGFyWDogMyxcclxuXHRcdFx0c2NhbGFyWTogMyxcclxuXHRcdFx0ZnJpY3Rpb25YOiAwLjUsXHJcblx0XHRcdGZyaWN0aW9uWTogMC41XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHQvLyBGb290ZXIgc2Nyb2xsIGJ1dHRvblxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdCQoXCIjZ28tdXBcIikuY2xpY2soZnVuY3Rpb24oKXtcclxuXHRcdCQoXCJodG1sLCBib2R5XCIpLnN0b3AoKS5hbmltYXRlKHtcclxuXHRcdFx0c2Nyb2xsVG9wOiAwXHJcblx0XHR9LCA3MDAsIFwic3dpbmdcIik7XHJcblx0fSk7XHJcblxyXG5cclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHQvLyBBbmltYXRpb25zIGV4YW1wbGVcclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHRhbmltYXRpb25zLmZhZGVQYWdlT24oXCJhLnByZWxvYWQtbGlua1wiLCBcIiNwcmVsb2FkZXJcIiwgMzAwKTtcclxuXHJcblx0JC5mbi5hbmltYXRlZCA9IGFuaW1hdGlvbnMuYW5pbWF0ZUNzcztcclxuXHQkKFwiLmFsYnVtLWl0ZW1cIikuYW5pbWF0ZWQoXCJmYWRlSW5cIik7XHJcblx0JChcIi5waG90by1pdGVtXCIpLmFuaW1hdGVkKFwiZmFkZUluXCIpO1xyXG5cclxuXHJcblxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdC8vIEluaXQgQWRkIEFsYnVtIE1vZGFsXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0aWYgKCQoXCIuanMtYWRkLWFsYnVtXCIpLmxlbmd0aCkge1xyXG5cdFx0bW9kYWwuaW5pdChcIiNhZGQtYWxidW0tbW9kYWxcIiwgXCIuanMtYWRkLWFsYnVtXCIsIFwiLmpzLWNsb3NlLW1vZGFsXCIpO1xyXG5cdH1cclxuXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0Ly8gSW5pdCBFZGl0IEFsYnVtIE1vZGFsXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0aWYgKCQoXCIuanMtZWRpdC1hbGJ1bVwiKS5sZW5ndGgpIHtcclxuXHRcdG1vZGFsLmluaXQoXCIjZWRpdC1hbGJ1bS1tb2RhbFwiLCBcIi5qcy1lZGl0LWFsYnVtXCIsIFwiLmpzLWNsb3NlLW1vZGFsXCIpO1xyXG5cdH1cclxuXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0Ly8gSW5pdCBBZGQgUGhvdG9zIE1vZGFsXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0aWYgKCQoXCIuanMtYWRkLXBob3Rvc1wiKS5sZW5ndGgpIHtcclxuXHRcdG1vZGFsLmluaXQoXCIjYWRkLXBob3Rvcy1tb2RhbFwiLCBcIi5qcy1hZGQtcGhvdG9zXCIsIFwiLmpzLWNsb3NlLW1vZGFsXCIpO1xyXG5cdH1cclxuXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0Ly8gSW5pdCBFZGl0IFBob3RvIE1vZGFsXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0aWYgKCQoXCIuanMtZWRpdC1waG90b1wiKS5sZW5ndGgpIHtcclxuXHRcdG1vZGFsLmluaXQoXCIjZWRpdC1waG90by1tb2RhbFwiLCBcIi5qcy1lZGl0LXBob3RvXCIsIFwiLmpzLWNsb3NlLW1vZGFsXCIpO1xyXG5cdH1cclxuXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0Ly8gSW5pdCBFZGl0IFVzZXIgTW9kYWxcclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHRpZiAoJChcIi5qcy1lZGl0LXVzZXJcIikubGVuZ3RoKSB7XHJcblx0XHRtb2RhbC5pbml0KFwiI2VkaXQtdXNlci1tb2RhbFwiLCBcIi5qcy1lZGl0LXVzZXJcIiwgXCIuanMtY2xvc2UtbW9kYWxcIik7XHJcblx0fVxyXG5cclxuXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0Ly8gSW5pdCBFZGl0IFVzZXIgTW9kYWwgKGluIEhlYWRlcilcclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHRpZiAoJChcIi5qcy1lZGl0LXVzZXItaGVhZGVyXCIpLmxlbmd0aCkge1xyXG5cdFx0bW9kYWwuaW5pdChcIiNlZGl0LXVzZXItaGVhZGVyXCIsIFwiLmpzLWVkaXQtdXNlci1oZWFkZXJcIiwgXCIuanMtY2xvc2UtaGVhZGVyXCIpO1xyXG5cdH1cclxuXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0Ly8gSW5pdCBFZGl0IEFsYnVtIE1vZGFsIChpbiBIZWFkZXIpXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0aWYgKCQoXCIuanMtZWRpdC1hbGJ1bS1oZWFkZXJcIikubGVuZ3RoKSB7XHJcblx0XHRtb2RhbC5pbml0KFwiI2VkaXQtYWxidW0taGVhZGVyXCIsIFwiLmpzLWVkaXQtYWxidW0taGVhZGVyXCIsIFwiLmpzLWNsb3NlLWhlYWRlclwiKTtcclxuXHR9XHJcblxyXG5cclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHQvLyBFZGl0IFVzZXIgTW9kYWwgLSBEZWxldGUgUGhvdG9cclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHRmdW5jdGlvbiBzaG93UmVtb3ZpbmdCbG9jayhlKSB7XHJcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHQkKHRoaXMpLmNsb3Nlc3QoXCIuaG0tbW9kYWxfX2NvbnRlbnRcIikuZmluZChcIi5lZGl0aW5nLWJsb2NrXCIpLnNsaWRlVXAoMzAwKTtcclxuXHRcdCQodGhpcykuY2xvc2VzdChcIi5obS1tb2RhbF9fY29udGVudFwiKS5maW5kKFwiLnJlbW92aW5nLWJsb2NrXCIpLnNsaWRlRG93bigzMDApO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gaGlkZVJlbW92aW5nQmxvY2soZSkge1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0JCh0aGlzKS5jbG9zZXN0KFwiLmhtLW1vZGFsX19jb250ZW50XCIpLmZpbmQoXCIucmVtb3ZpbmctYmxvY2tcIikuc2xpZGVVcCgzMDApO1xyXG5cdFx0JCh0aGlzKS5jbG9zZXN0KFwiLmhtLW1vZGFsX19jb250ZW50XCIpLmZpbmQoXCIuZWRpdGluZy1ibG9ja1wiKS5zbGlkZURvd24oMzAwKTtcclxuXHR9XHJcblxyXG5cdGlmICgkKFwiLmpzLXNob3ctcmVtb3ZpbmctYmxvY2tcIikubGVuZ3RoKSB7XHJcblx0XHQkKFwiLmpzLXNob3ctcmVtb3ZpbmctYmxvY2tcIikub24oXCJjbGlja1wiLCBzaG93UmVtb3ZpbmdCbG9jayk7XHJcblx0fVxyXG5cclxuXHRpZiAoJChcIi5qcy1oaWRlLXJlbW92aW5nLWJsb2NrXCIpLmxlbmd0aCkge1xyXG5cdFx0JChcIi5qcy1oaWRlLXJlbW92aW5nLWJsb2NrXCIpLm9uKFwiY2xpY2tcIiwgaGlkZVJlbW92aW5nQmxvY2spO1xyXG5cdH1cclxuXHJcblxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdC8vIEluaXQgRWRpdCBBbGJ1bSBNb2RhbCAoaW4gSGVhZGVyKVxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdGlmICgkKFwiLmpzLW9wZW4tc2xpZGVyXCIpLmxlbmd0aCkge1xyXG5cdFx0c2xpZGVyLmluaXQoXCIjc2xpZGVyXCIsIFwiLmpzLW9wZW4tc2xpZGVyXCIsIFwiLmpzLWNsb3NlLXNsaWRlclwiLCBcIi5qcy1zbGlkZXItbmV4dFwiLCBcIi5qcy1zbGlkZXItcHJldlwiKTtcclxuXHR9XHJcblxyXG5cclxuXHJcblxyXG5cdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdC8vIFNob3cgU29jaWFsIEl0ZW1zIEZvcm1zXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0ZnVuY3Rpb24gc2hvd1NvY2lhbEZvcm0oZSkge1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0dmFyIHNvY2lhbEl0ZW0gPSAgJCh0aGlzKS5jbG9zZXN0KFwiLnNvY2lhbC1saW5rc19faXRlbVwiKTtcclxuXHRcdHNvY2lhbEl0ZW0uc2libGluZ3MoKS5maW5kKFwiLnNvY2lhbC1saW5rc19fZm9ybVwiKS5oaWRlKCk7XHJcblx0XHRzb2NpYWxJdGVtLmZpbmQoXCIuc29jaWFsLWxpbmtzX19mb3JtXCIpLnNob3coKTtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIGhpZGVTb2NpYWxGb3JtKGUpIHtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdCQodGhpcykuY2xvc2VzdChcIi5zb2NpYWwtbGlua3NfX2Zvcm1cIikuaGlkZSgpO1xyXG5cdH1cclxuXHJcblx0aWYgKCQoXCIuanMtb3Blbi1zb2NpYWwtZm9ybVwiKS5sZW5ndGgpIHtcclxuXHRcdCQoXCIuanMtb3Blbi1zb2NpYWwtZm9ybVwiKS5vbihcImNsaWNrXCIsIHNob3dTb2NpYWxGb3JtKTtcclxuXHR9XHJcblx0aWYgKCQoXCIuanMtY2xvc2UtZm9ybVwiKS5sZW5ndGgpIHtcclxuXHRcdCQoXCIuanMtY2xvc2UtZm9ybVwiKS5vbihcImNsaWNrXCIsIGhpZGVTb2NpYWxGb3JtKTtcclxuXHR9XHJcblxyXG5cclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHQvLyBMb2dpbiBjYXJkIGZsaXBcclxuXHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHQkKFwiI2ZsaXAtY2FyZFwiKS5jbGljayhmdW5jdGlvbigpIHtcclxuXHRcdCQoXCJib2R5XCIpLmFkZENsYXNzKFwiY2FyZF9mbGlwcGVkXCIpO1xyXG5cdH0pO1xyXG5cclxuXHQkKFwiI3VuZmxpcC1jYXJkXCIpLmNsaWNrKGZ1bmN0aW9uKGUpIHtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdCQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwiY2FyZF9mbGlwcGVkXCIpO1xyXG5cdH0pO1xyXG5cclxuXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0Ly8gTG9naW4gc2hvdyBSZWNvdmVyeSBwYXNzd29yZCBDYXJkXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0JChcIiNzaG93LXJlY292ZXJ5XCIpLmNsaWNrKGZ1bmN0aW9uKGUpIHtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdCQoXCJib2R5XCIpLmFkZENsYXNzKFwic2hvd19yZWNvdmVyeVwiKTtcclxuXHR9KTtcclxuXHJcblx0JChcIiNoaWRlLXJlY292ZXJ5XCIpLmNsaWNrKGZ1bmN0aW9uKGUpIHtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdCQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwic2hvd19yZWNvdmVyeVwiKTtcclxuXHR9KTtcclxuXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0Ly8gRHJvcHpvbmUgKEFkZCBwaG90b3MpXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5cdGlmICgkKFwiI2Ryb3B6b25lXCIpLmxlbmd0aCkge1xyXG5cclxuXHRcdHZhciAkZHJvcHpvbmUgPSAkKFwiI2Ryb3B6b25lXCIpO1xyXG5cdFx0dmFyICRmYWlsQXJlYSA9ICQoXCIjZmFpbC1hcmVhXCIpO1xyXG5cdFx0dmFyICRmYWlsRHJvcHpvbmUgPSAkKFwiI2ZhaWwtZHJvcHpvbmVcIik7XHJcblxyXG5cdFx0JGRyb3B6b25lLmRyb3B6b25lKHtcclxuXHRcdFx0dXJsOiBcIi9waG90by9zYXZlXCIsXHJcblx0XHRcdG1heEZpbGVzaXplOiAyLFxyXG5cdFx0XHRhZGRSZW1vdmVMaW5rczogdHJ1ZSxcclxuXHRcdFx0ZGljdERlZmF1bHRNZXNzYWdlOiBcIlwiLFxyXG5cdFx0XHRkaWN0RmFsbGJhY2tNZXNzYWdlOiBcItCS0LDRiCDQsdGA0LDRg9C30LXRgCDQvdC1INC/0L7QtNC00LXRgNC20LjQstCw0LXRgiDQt9Cw0LPRgNGD0LfQutGDINGE0LDQudC70L7QsiDRh9C10YDQtdC3IGRyYWcnbidkcm9wLlwiLFxyXG5cdFx0XHRkaWN0RmFsbGJhY2tUZXh0OiBcIlBsZWFzZSB1c2UgdGhlIGZhbGxiYWNrIGZvcm0gYmVsb3cgdG8gdXBsb2FkIHlvdXIgZmlsZXMgbGlrZSBpbiB0aGUgb2xkZW4gZGF5cy5cIixcclxuXHRcdFx0ZGljdEZpbGVUb29CaWc6IFwi0J/RgNC10LLRi9GI0LXQvSDRgNCw0LfQvNC10YAge3ttYXhGaWxlc2l6ZX190LzQsVwiLFxyXG5cdFx0XHRkaWN0SW52YWxpZEZpbGVUeXBlOiBcItCS0YvQsdGA0LDQvSDQvdC10LLQtdGA0L3Ri9C5INGE0L7RgNC80LDRgiDQuNC30L7QsdGA0LDQttC10L3QuNC5XCIsXHJcblx0XHRcdGRpY3RSZXNwb25zZUVycm9yOiBcIlNlcnZlciByZXNwb25kZWQgd2l0aCB7e3N0YXR1c0NvZGV9fSBjb2RlLlwiLFxyXG5cdFx0XHRkaWN0Q2FuY2VsVXBsb2FkOiBcItCe0YLQvNC10L3QuNGC0Ywg0LfQsNCz0YDRg9C30LrRg1wiLFxyXG5cdFx0XHRkaWN0Q2FuY2VsVXBsb2FkQ29uZmlybWF0aW9uOiBcItCS0Ysg0YPQstC10YDQtdC90Ysg0YfRgtC+INGF0L7RgtC40YLQtSDQvtGC0LzQtdC90LjRgtGMINC30LDQs9GA0YPQt9C60YM/XCIsXHJcblx0XHRcdGRpY3RSZW1vdmVGaWxlOiBcIlwiLFxyXG5cdFx0XHRkaWN0UmVtb3ZlRmlsZUNvbmZpcm1hdGlvbjogbnVsbCxcclxuXHRcdFx0ZGljdE1heEZpbGVzRXhjZWVkZWQ6IFwi0JLRiyDQvdC1INC80L7QttC10YLQtSDQt9Cw0LPRgNGD0LfQuNGC0Ywg0LHQvtC70YzRiNC1INGE0LDQudC70L7Qsi5cIlxyXG5cdFx0fSk7XHJcblxyXG5cclxuXHJcblx0XHQkZHJvcHpvbmUub24oXCJET01TdWJ0cmVlTW9kaWZpZWRcIiwgZnVuY3Rpb24oKXtcclxuXHJcblx0XHRcdC8vIHNob3cgZmFpbC1kcm9wem9uZSB3aGVuIHNvbWUgZXJyb3JlZCB0aHVtYiBhcHBlYXJlZFxyXG5cdFx0XHRpZiAoJGRyb3B6b25lLmZpbmQoXCIuZHotZXJyb3JcIikubGVuZ3RoKSB7XHJcblx0XHRcdFx0JGZhaWxBcmVhLnJlbW92ZUNsYXNzKFwiaXMtaGlkZGVuXCIpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBtb3ZlIGV2ZXJ5IGVycm9yZWQgdGh1bWIgdG8gZmFpbC1kcm9wem9uZVxyXG5cdFx0XHQkZHJvcHpvbmUuZmluZChcIi5kei1lcnJvclwiKS5lYWNoKGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcclxuXHRcdFx0XHQkZmFpbERyb3B6b25lLmFwcGVuZCh2YWx1ZSk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIGhpZGUgZmFpbC1kcm9wem9uZSB3aGVuIHRoZXJlIGlzIG5vdGhpbmcgaW5zaWRlXHJcblx0XHQkZmFpbERyb3B6b25lLm9uKFwiRE9NU3VidHJlZU1vZGlmaWVkXCIsIGZ1bmN0aW9uKCl7XHJcblx0XHRcdGlmICghJCh0aGlzKS5odG1sKCkpIHtcclxuXHRcdFx0XHQkZmFpbEFyZWEuYWRkQ2xhc3MoXCJpcy1oaWRkZW5cIik7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0cHJlbG9hZGVyKCk7XHJcblxyXG5cdHNldEFqYXhSZXNwb25jZS5pbml0KCk7XHJcblx0aW1hZ2VQcmV2aWV3LmluaXQoKTtcclxuXHJcbn0pKGpRdWVyeSk7XG59LHtcIi4vbW9kdWxlcy9hamF4LmpzXCI6MixcIi4vbW9kdWxlcy9hbmltYXRpb25zLmpzXCI6MyxcIi4vbW9kdWxlcy9pbWFnZV9wcmV2aWV3LmpzXCI6NSxcIi4vbW9kdWxlcy9pbmZpbml0ZV9wcmVsb2FkZXIuanNcIjo2LFwiLi9tb2R1bGVzL21vZGFsLmpzXCI6NyxcIi4vbW9kdWxlcy9zbGlkZXIuanNcIjo4fV0sMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vKiogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiogLS0tLS0g0KPRgdGC0LDQvdC+0LLQutCwIGFqYXgt0LfQsNC/0YDQvtGB0L7QsiAtLS0tLS0tLVxyXG4qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXHJcblxyXG52YXIgc2V0QWpheFJlc3BvbmNlcyA9IChmdW5jdGlvbigpIHtcclxuXHJcbiAgZnVuY3Rpb24gaW5pdCgpIHtcclxuXHJcbiAgICAvLyDQoNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNC1INC00LDQvdC90YvRhSDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cclxuICAgICQoJyNlZGl0LXVzZXItaGVhZGVyJykub24oJ3N1Ym1pdCcsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCQoZS50YXJnZXQpWzBdKTtcclxuXHJcbiAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIHVybDogXCIvdXNlci9zYXZlZGF0YVwiLFxyXG4gICAgICAgICAgICBkYXRhOiBmb3JtRGF0YSxcclxuICAgICAgICAgICAgcHJvY2Vzc0RhdGE6IGZhbHNlLFxyXG4gICAgICAgICAgICBjb250ZW50VHlwZTogZmFsc2VcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuZG9uZShmdW5jdGlvbiAobXNnKSB7XHJcbi8vIGNvbnNvbGUubG9nKG1zZyk7XHJcblxyXG4gICAgICAgICAgICBpZihtc2cuc3RhdHVzID09ICdzdWNjZXNzJykge1xyXG4gICAgICAgICAgICAgIGlmKG1zZy5iYWNrZ3JvdW5kICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICQoJy5tYWluLXBhZ2UnKS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IFwidXJsKFwiK21zZy5iYWNrZ3JvdW5kK1wiKVwiXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgaWYobXNnLmF2YXRhciAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAkKCcjdXNlci1hdmF0YXInKS5hdHRyKCdzcmMnLCBtc2cuYXZhdGFyKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgJCgnLnVzZXItaW5mb19fbmFtZScpLnRleHQoZm9ybURhdGEuZ2V0KCduYW1lJykpO1xyXG4gICAgICAgICAgICAgICQoJy51c2VyLWluZm9fX2Rlc2MnKS50ZXh0KGZvcm1EYXRhLmdldCgnZGVzY3JpcHRpb24nKSk7XHJcbiAgICAgICAgICAgICAgJCgnI3NvY2lhbF9fbGlua192aycpLmF0dHIoJ2hyZWYnLCBmb3JtRGF0YS5nZXQoJ3ZrJykpO1xyXG4gICAgICAgICAgICAgICQoJyNzb2NpYWxfX2xpbmtfZmInKS5hdHRyKCdocmVmJywgZm9ybURhdGEuZ2V0KCdmYWNlYm9vaycpKTtcclxuICAgICAgICAgICAgICAkKCcjc29jaWFsX19saW5rX3R3JykuYXR0cignaHJlZicsIGZvcm1EYXRhLmdldCgndHdpdHRlcicpKTtcclxuICAgICAgICAgICAgICAkKCcjc29jaWFsX19saW5rX2dnJykuYXR0cignaHJlZicsIGZvcm1EYXRhLmdldCgnZ29vZ2xlJykpO1xyXG4gICAgICAgICAgICAgICQoJyNzb2NpYWxfX2xpbmtfZW1haWwnKS5hdHRyKCdocmVmJywgXCJtYWlsdG86XCIrZm9ybURhdGEuZ2V0KCdlbWFpbCcpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkKGUudGFyZ2V0KS5yZW1vdmVDbGFzcygnc2hvdycpLmFkZENsYXNzKCdoaWRlJyk7XHJcbiAgICAgICAgICAgICQoJ2JvZHknKS5yZW1vdmVDbGFzcygnaGFzLW92ZXJmbG93LWhpZGRlbicpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyDQlNC+0LHQsNCy0LvQtdC90LjQtSDQsNC70YzQsdC+0LzQsFxyXG4gICAgJCgnI2Zvcm0tYWRkLWFsYnVtJykub24oJ3N1Ym1pdCcsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCQoZS50YXJnZXQpWzBdKTtcclxuY29uc29sZS5sb2coJ2FkZC1hbGJ1bScpO1xyXG4gICAgICAkLmFqYXgoe1xyXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgdXJsOiBcIi9hbGJ1bS9zYXZlXCIsXHJcbiAgICAgICAgZGF0YTogZm9ybURhdGEsXHJcbiAgICAgICAgcHJvY2Vzc0RhdGE6IGZhbHNlLFxyXG4gICAgICAgIGNvbnRlbnRUeXBlOiBmYWxzZVxyXG4gICAgICB9KVxyXG4gICAgICAuZG9uZShmdW5jdGlvbiAobXNnKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2cobXNnKTtcclxuICAgICAgfSlcclxuICAgIH0pXHJcblxyXG4gIH1cclxuICBcclxuICByZXR1cm4ge1xyXG4gICAgaW5pdDogaW5pdFxyXG4gIH1cclxufSgpKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gIGluaXQ6IHNldEFqYXhSZXNwb25jZXMuaW5pdFxyXG59O1xufSx7fV0sMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gQW5pbWF0ZSBlbGVtZW50cyBvbiBzY3JvbGwuIEJhc2VkIG9uIHdheXBvaW50cy5qc1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxudmFyIGFuaW1hdGVDc3MgPSBmdW5jdGlvbiAoaW5fZWZmZWN0KSB7XHJcblx0JCh0aGlzKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIGVsZW0gPSAkKHRoaXMpO1xyXG5cdFx0ZWxlbS5jc3Moe29wYWNpdHk6MH0pXHJcblx0XHRcdC5hZGRDbGFzcyhcImFuaW1hdGVkXCIpXHJcblx0XHRcdC53YXlwb2ludChmdW5jdGlvbihkaXIpIHtcclxuXHRcdFx0XHRpZiAoZGlyID09PSBcImRvd25cIikge1xyXG5cdFx0XHRcdFx0ZWxlbS5hZGRDbGFzcyhpbl9lZmZlY3QpLmNzcyh7b3BhY2l0eToxfSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0b2Zmc2V0OiBcIjkwJVwiXHJcblx0XHRcdH0pO1xyXG5cdH0pO1xyXG59O1xyXG5cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFNob3cgb3dlcmxheSBsYXllciB3aGVuIHNwZWNpZmllZCBsaW5rIGhhcyBiZWVuIGNsaWNrZWRcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuZnVuY3Rpb24gZmFkZVBhZ2VPbiAobGlua19zZWxlY3Rvciwgb3ZlcmxheV9zZWxlY3RvciwgdGltZSl7XHJcblx0JChkb2N1bWVudCkub24oXCJjbGlja1wiLCBsaW5rX3NlbGVjdG9yLCBmdW5jdGlvbihlKSB7XHJcblx0XHR2YXIgaHJlZiA9ICQodGhpcykuYXR0cihcImhyZWZcIik7XHJcblx0XHRpZihocmVmWzBdIT1cIiNcIil7XHJcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcblx0XHRcdHJldHVybiAkKG92ZXJsYXlfc2VsZWN0b3IpXHJcblx0XHRcdFx0LmZhZGVJbih0aW1lLCBmdW5jdGlvbigpe1xyXG5cdFx0XHRcdFx0cmV0dXJuIGRvY3VtZW50LmxvY2F0aW9uID0gaHJlZiAhPSBudWxsID8gaHJlZiA6IFwiL1wiO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0fSk7XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuXHRhbmltYXRlQ3NzIDogYW5pbWF0ZUNzcyxcclxuXHRmYWRlUGFnZU9uIDogZmFkZVBhZ2VPblxyXG59O1xufSx7fV0sNDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gQ2hlY2sgYnJvd3NlciBzY3JvbGxiYXIgd2lkdGhcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbnZhciBnZXRTY3JvbGxiYXJXaWR0aCA9IGZ1bmN0aW9uICgpe1xyXG5cdHZhciBzdHlsZSA9IHtcIm1heC1oZWlnaHRcIjpcIjEwMHB4XCIsIFwib3ZlcmZsb3dcIjpcInNjcm9sbFwiLCBcInBvc2l0aW9uXCI6XCJhYnNvbHV0ZVwifSxcclxuXHRcdHdyYXBwZXIgPSAkKFwiPGRpdiBpZD0nc2Nyb2xsX2Jhcl9jaGVja19BJz48L2Rpdj5cIikuY3NzKHN0eWxlKSxcclxuXHRcdGlubmVyID0gJChcIjxkaXYgaWQ9J3Njcm9sbF9iYXJfY2hlY2tfQic+PC9kaXY+XCIpLFxyXG5cdFx0c3RyZXRjaGVyID0gJChcIjxpbWcgc3JjPScvYXNzZXRzL2ltZy9mb3JjZS1zY3JvbGwucG5nJy8+XCIpLFxyXG5cdFx0c2Nyb2xsQmFyV2lkdGggPSAwO1xyXG5cclxuXHR3cmFwcGVyLmFwcGVuZChzdHJldGNoZXIpLmFwcGVuZChpbm5lcik7XHJcblx0JChcImJvZHlcIikuYXBwZW5kKHdyYXBwZXIpO1xyXG5cclxuXHRzY3JvbGxCYXJXaWR0aCA9IHdyYXBwZXIud2lkdGgoKS1pbm5lci53aWR0aCgpO1xyXG5cdHdyYXBwZXIucmVtb3ZlKCk7XHJcblxyXG5cdHJldHVybiBzY3JvbGxCYXJXaWR0aDtcclxufTtcclxuXHJcblxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIENoZWNrIElFIHZlcnNpb25cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbnZhciBpZVZlcnNpb24gPSBmdW5jdGlvbiAoKSB7XHJcblx0dmFyIHVhID0gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQ7XHJcblxyXG5cdHZhciBtc2llID0gdWEuaW5kZXhPZihcIk1TSUUgXCIpO1xyXG5cdGlmIChtc2llID4gMCkge1xyXG5cdFx0Ly8gSUUgMTAgb3Igb2xkZXIgPT4gcmV0dXJuIHZlcnNpb24gbnVtYmVyXHJcblx0XHRyZXR1cm4gcGFyc2VJbnQodWEuc3Vic3RyaW5nKG1zaWUgKyA1LCB1YS5pbmRleE9mKFwiLlwiLCBtc2llKSksIDEwKTtcclxuXHR9XHJcblxyXG5cdHZhciB0cmlkZW50ID0gdWEuaW5kZXhPZihcIlRyaWRlbnQvXCIpO1xyXG5cdGlmICh0cmlkZW50ID4gMCkge1xyXG5cdFx0Ly8gSUUgMTEgPT4gcmV0dXJuIHZlcnNpb24gbnVtYmVyXHJcblx0XHR2YXIgcnYgPSB1YS5pbmRleE9mKFwicnY6XCIpO1xyXG5cdFx0cmV0dXJuIHBhcnNlSW50KHVhLnN1YnN0cmluZyhydiArIDMsIHVhLmluZGV4T2YoXCIuXCIsIHJ2KSksIDEwKTtcclxuXHR9XHJcblxyXG5cdHZhciBlZGdlID0gdWEuaW5kZXhPZihcIkVkZ2UvXCIpO1xyXG5cdGlmIChlZGdlID4gMCkge1xyXG5cdFx0Ly8gRWRnZSAoSUUgMTIrKSA9PiByZXR1cm4gdmVyc2lvbiBudW1iZXJcclxuXHRcdHJldHVybiBwYXJzZUludCh1YS5zdWJzdHJpbmcoZWRnZSArIDUsIHVhLmluZGV4T2YoXCIuXCIsIGVkZ2UpKSwgMTApO1xyXG5cdH1cclxuXHJcblx0Ly8gb3RoZXIgYnJvd3NlclxyXG5cdHJldHVybiBmYWxzZTtcclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG5cdGdldFNjcm9sbGJhcldpZHRoIDogZ2V0U2Nyb2xsYmFyV2lkdGgsXHJcblx0aWVWZXJzaW9uIDogaWVWZXJzaW9uXHJcbn1cbn0se31dLDU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuLyoqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiAtLS0tLSDQn9C+0LTQutC70Y7Rh9C10L3QuNC1INC/0YDQtdC00L/RgNC+0YHQvNC+0YLRgNCwINGE0L7RgtC+INC4INGE0L7QvdCwIC0tLS0tLS0tXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cclxuXHJcbnZhciBpbWFnZVByZXZpZXcgPSAoZnVuY3Rpb24oKSB7XHJcblxyXG4gIGZ1bmN0aW9uIGluaXQoKSB7XHJcblxyXG4gICAgLy8gQXZhdGFyIHByZXZpZXdcclxuICAgICQoJyNpbnB1dF9hdmF0YXInKS5vbignY2hhbmdlJywgZnVuY3Rpb24oKXtcclxuICAgICAgdmFyIGlucHV0ID0gdGhpcyxcclxuICAgICAgICAgIGF2YXRhciA9ICQoJyNwcmV2aWV3X2F2YXRhcicpO1xyXG5cclxuICAgICAgaWYgKGlucHV0LmZpbGVzICYmIGlucHV0LmZpbGVzWzBdKSB7XHJcbiAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcblxyXG4gICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbihlKXtcclxuICAgICAgICAgIGF2YXRhci5hdHRyKFwic3JjXCIsIGUudGFyZ2V0LnJlc3VsdCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoaW5wdXQuZmlsZXNbMF0pO1xyXG5cclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gQmFja2dyb3VuZCBwcmV2aWV3XHJcbiAgICAkKCcjaW5wdXRfYmFja2dyb3VuZCcpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbigpe1xyXG4gICAgICB2YXIgaW5wdXQgPSB0aGlzLFxyXG4gICAgICAgICAgYmcgPSAkKCcjYmctZWRpdC11c2VyJyk7XHJcblxyXG4gICAgICBpZiAoaW5wdXQuZmlsZXMgJiYgaW5wdXQuZmlsZXNbMF0pIHtcclxuICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuXHJcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgYmcuY3NzKHtcclxuICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlOiBcInVybChcIisgZS50YXJnZXQucmVzdWx0ICtcIilcIlxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoaW5wdXQuZmlsZXNbMF0pO1xyXG5cclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgaW5pdDogaW5pdFxyXG4gIH1cclxufSgpKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gIGluaXQ6IGltYWdlUHJldmlldy5pbml0XHJcbn07XG59LHt9XSw2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBQcmVsb2FkZXIgd2l0aCBwZXJjZW50YWdlIGJ5IGltYWdlIGNvdW50XHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG52YXJcdHByZWxvYWRlcl9jb250YWluZXIgPSAkKFwiI3ByZWxvYWRlclwiKSxcclxuXHRwcmVsb2FkZXJfcGVyY2VudGFnZSA9ICQoXCIjcHJlbG9hZGVyX19wZXJjZW50YWdlXCIpLFxyXG5cdGhhc0ltYWdlUHJvcGVydGllcyA9IFtcImJhY2tncm91bmRcIiwgXCJiYWNrZ3JvdW5kSW1hZ2VcIiwgXCJsaXN0U3R5bGVJbWFnZVwiLCBcImJvcmRlckltYWdlXCIsIFwiYm9yZGVyQ29ybmVySW1hZ2VcIiwgXCJjdXJzb3JcIl0sXHJcblx0aGFzSW1hZ2VBdHRyaWJ1dGVzID0gW1wic3Jjc2V0XCJdLFxyXG5cdG1hdGNoX3VybCA9IC91cmxcXChcXHMqKFsnXCJdPykoLio/KVxcMVxccypcXCkvZyxcclxuXHRhbGxfaW1hZ2VzID0gW10sXHJcblx0dG90YWwgPSAwLFxyXG5cdGNvdW50ID0gMDtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcHJlbG9hZGVyKCkge1xyXG5cclxuXHRmdW5jdGlvbiBpbWdfbG9hZGVkKCl7XHJcblx0XHR2YXIgcGVyY2VudGFnZSA9IE1hdGguY2VpbCggKGNvdW50KzEpIC8gdG90YWwgKiAxMDAgKTtcclxuXHRcdGNvdW50ICs9IDE7XHJcblx0XHRwZXJjZW50YWdlID0gcGVyY2VudGFnZSA+IDEwMCA/IDEwMCA6IHBlcmNlbnRhZ2U7XHJcblx0XHRwcmVsb2FkZXJfcGVyY2VudGFnZS5odG1sKHBlcmNlbnRhZ2UpO1xyXG5cclxuXHRcdGlmKGNvdW50ID09PSB0b3RhbCl7XHJcblx0XHRcdHJldHVybiBkb25lX2xvYWRpbmcoKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIGRvbmVfbG9hZGluZygpe1xyXG5cdFx0cHJlbG9hZGVyX3BlcmNlbnRhZ2UuY3NzKHtcImFuaW1hdGlvblwiOlwibm9uZVwifSk7XHJcblx0XHRwcmVsb2FkZXJfY29udGFpbmVyLmRlbGF5KDcwMCkuZmFkZU91dCg3MDAsIGZ1bmN0aW9uKCl7XHJcblx0XHRcdC8vIENhbGxiYWNrcywgZS5nLjpcclxuXHRcdFx0cHJlbG9hZGVyX3BlcmNlbnRhZ2UucmVtb3ZlKCk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIGltYWdlc19sb29wICh0b3RhbCkge1xyXG5cdFx0Zm9yKHZhciBpPTA7IGk8dG90YWw7IGkrKyl7XHJcblx0XHRcdHZhciB0ZXN0X2ltYWdlID0gbmV3IEltYWdlKCk7XHJcblxyXG5cdFx0XHR0ZXN0X2ltYWdlLm9ubG9hZCA9IGltZ19sb2FkZWQ7XHJcblx0XHRcdHRlc3RfaW1hZ2Uub25lcnJvciA9IGltZ19sb2FkZWQ7XHJcblxyXG5cdFx0XHRpZiAoYWxsX2ltYWdlc1tpXS5zcmNzZXQpIHtcclxuXHRcdFx0XHR0ZXN0X2ltYWdlLnNyY3NldCA9IGFsbF9pbWFnZXNbaV0uc3Jjc2V0O1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR0ZXN0X2ltYWdlLnNyYyA9IGFsbF9pbWFnZXNbaV0uc3JjO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gR2V0IGFsbCBpbWFnZXNcclxuXHQkKFwiKlwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBlbGVtZW50ID0gJCh0aGlzKTtcclxuXHJcblx0XHRpZiAoZWxlbWVudC5pcyhcImltZ1wiKSAmJiBlbGVtZW50LmF0dHIoXCJzcmNcIikpIHtcclxuXHRcdFx0YWxsX2ltYWdlcy5wdXNoKHtcclxuXHRcdFx0XHRzcmM6IGVsZW1lbnQuYXR0cihcInNyY1wiKSxcclxuXHRcdFx0XHRlbGVtZW50OiBlbGVtZW50WzBdXHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdCQuZWFjaChoYXNJbWFnZVByb3BlcnRpZXMsIGZ1bmN0aW9uIChpLCBwcm9wZXJ0eSkge1xyXG5cdFx0XHR2YXIgcHJvcGVydHlWYWx1ZSA9IGVsZW1lbnQuY3NzKHByb3BlcnR5KTtcclxuXHRcdFx0dmFyIG1hdGNoO1xyXG5cclxuXHRcdFx0aWYgKCFwcm9wZXJ0eVZhbHVlKSB7XHJcblx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdG1hdGNoID0gbWF0Y2hfdXJsLmV4ZWMocHJvcGVydHlWYWx1ZSk7XHJcblx0XHRcdFxyXG5cdFx0XHRpZiAobWF0Y2gpIHtcclxuXHRcdFx0XHRhbGxfaW1hZ2VzLnB1c2goe1xyXG5cdFx0XHRcdFx0c3JjOiBtYXRjaFsyXSxcclxuXHRcdFx0XHRcdGVsZW1lbnQ6IGVsZW1lbnRbMF1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0JC5lYWNoKGhhc0ltYWdlQXR0cmlidXRlcywgZnVuY3Rpb24gKGksIGF0dHJpYnV0ZSkge1xyXG5cdFx0XHR2YXIgYXR0cmlidXRlVmFsdWUgPSBlbGVtZW50LmF0dHIoYXR0cmlidXRlKTtcclxuXHJcblx0XHRcdGlmICghYXR0cmlidXRlVmFsdWUpIHtcclxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0YWxsX2ltYWdlcy5wdXNoKHtcclxuXHRcdFx0XHRzcmM6IGVsZW1lbnQuYXR0cihcInNyY1wiKSxcclxuXHRcdFx0XHRzcmNzZXQ6IGVsZW1lbnQuYXR0cihcInNyY3NldFwiKSxcclxuXHRcdFx0XHRlbGVtZW50OiBlbGVtZW50WzBdXHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0fSk7XHJcblxyXG5cdHRvdGFsID0gYWxsX2ltYWdlcy5sZW5ndGg7XHJcblxyXG5cdC8vIFN0YXJ0IHByZWxvYWRlciBvciBleGl0XHJcblx0aWYgKHRvdGFsID09PSAwKSB7XHJcblx0XHRwcmVsb2FkZXJfcGVyY2VudGFnZS5odG1sKDEwMCk7XHJcblx0XHRkb25lX2xvYWRpbmcoKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0aW1hZ2VzX2xvb3AodG90YWwpO1xyXG5cdH1cclxufTtcbn0se31dLDc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuZnVuY3Rpb24gaW5pdChjb250YWluZXIsIG9wZW5CdG4sIGNsb3NlQnRuKXtcclxuXHR2YXIgbW9kYWwgPSAkKGNvbnRhaW5lcik7XHJcblx0dmFyIG9wZW4gPSAkKG9wZW5CdG4pO1xyXG5cdHZhciBjbG9zZSA9IG1vZGFsLmZpbmQoY2xvc2VCdG4pO1xyXG5cdHZhciBib2R5ID0gJCgnYm9keScpO1xyXG5cclxuXHRvcGVuLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpe1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0bW9kYWwucmVtb3ZlQ2xhc3MoXCJoaWRlXCIpLmFkZENsYXNzKFwic2hvd1wiKTtcclxuXHRcdGJvZHkuYWRkQ2xhc3MoXCJoYXMtb3ZlcmZsb3ctaGlkZGVuXCIpO1xyXG5cdH0pO1xyXG5cclxuXHRjbG9zZS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKXtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdG1vZGFsLmFkZENsYXNzKFwiaGlkZVwiKS5yZW1vdmVDbGFzcyhcInNob3dcIik7XHJcblx0XHRib2R5LnJlbW92ZUNsYXNzKCdoYXMtb3ZlcmZsb3ctaGlkZGVuJyk7XHJcblx0fSk7XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuXHRpbml0IDogaW5pdFxyXG59O1xyXG5cclxuXG59LHt9XSw4OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbmhlbHBlcnMgPSByZXF1aXJlKFwiLi9oZWxwZXJzLmpzXCIpO1xyXG5cclxudmFyIHNjcm9sbGJhcl93aWR0aCA9IGhlbHBlcnMuZ2V0U2Nyb2xsYmFyV2lkdGgoKSxcclxuXHRzbGlkZXIsXHJcblx0Y3VycmVudCxcclxuXHRyZXNpemVUaW1lb3V0LFxyXG5cdHJlc2l6ZURlbHRhID0gMTAwO1xyXG5cclxuZnVuY3Rpb24gaW5pdChjb250YWluZXIsIG9wZW5CdG4sIGNsb3NlQnRuLCBuZXh0QnRuLCBwcmV2QnRuKXtcclxuXHRzbGlkZXIgPSAkKGNvbnRhaW5lcik7XHJcblxyXG5cdHZhciBvcGVuID0gJChvcGVuQnRuKSxcclxuXHRcdGNsb3NlID0gc2xpZGVyLmZpbmQoY2xvc2VCdG4pLFxyXG5cdFx0bmV4dCA9IHNsaWRlci5maW5kKG5leHRCdG4pLFxyXG5cdFx0cHJldiA9IHNsaWRlci5maW5kKHByZXZCdG4pLFxyXG5cdFx0Ym9keSA9ICQoJ2h0bWwnKTtcclxuXHJcblx0b3Blbi5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKXtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcblx0XHRjdXJyZW50ID0gJCh0aGlzKS5jbG9zZXN0KCcucGhvdG8taXRlbScpO1xyXG5cdFx0c2hvd1NsaWRlKGN1cnJlbnQpO1xyXG5cclxuXHRcdHNsaWRlci5yZW1vdmVDbGFzcyhcImhpZGVcIikuYWRkQ2xhc3MoXCJzaG93XCIpO1xyXG5cdFx0Ym9keS5hZGRDbGFzcygnaGFzLW92ZXJmbG93LWhpZGRlbicpXHJcblx0XHRcdC5jc3Moe1wicGFkZGluZy1yaWdodFwiIDogc2Nyb2xsYmFyX3dpZHRofSk7XHJcblx0fSk7XHJcblxyXG5cdGNsb3NlLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpe1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0c2xpZGVyLmFkZENsYXNzKFwiaGlkZVwiKS5yZW1vdmVDbGFzcyhcInNob3dcIik7XHJcblx0XHRib2R5LnJlbW92ZUNsYXNzKCdoYXMtb3ZlcmZsb3ctaGlkZGVuJylcclxuXHRcdFx0LmNzcyh7XCJwYWRkaW5nLXJpZ2h0XCIgOiAwfSk7XHJcblx0fSk7XHJcblxyXG5cdG5leHQub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZSl7XHJcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRzaG93TmV4dCgpO1xyXG5cdH0pO1xyXG5cclxuXHRwcmV2Lm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpe1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0c2hvd1ByZXYoKTtcclxuXHR9KTtcclxuXHJcbn07XHJcblxyXG5mdW5jdGlvbiBhanVzdEltZ0hlaWdodCgpe1xyXG5cdC8vIEhlaWdodCBhbmltYXRpb25cclxuXHR2YXIgc2xpZGVyUGhvdG8gPSBzbGlkZXIuZmluZCgnLnNsaWRlcl9fcGhvdG8nKSxcclxuXHRcdHNsaWRlSGVpZ2h0ID0gc2xpZGVyLmZpbmQoJy5zbGlkZXJfX2ltZycpLmhlaWdodCgpO1xyXG5cclxuXHRzbGlkZXJQaG90by5hbmltYXRlKHtcclxuXHRcdCdoZWlnaHQnOiBzbGlkZUhlaWdodFxyXG5cdH0sIDMwMCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNob3dOZXh0KCl7XHJcblx0dmFyIG5leHRTbGlkZSA9IGN1cnJlbnQubmV4dCgnLnBob3RvLWl0ZW0nKTtcclxuXHRpZiAobmV4dFNsaWRlLmxlbmd0aCkge1xyXG5cdFx0c2hvd1NsaWRlKG5leHRTbGlkZSk7XHJcblx0XHRjdXJyZW50ID0gbmV4dFNsaWRlO1xyXG5cdH1cclxufTtcclxuXHJcbmZ1bmN0aW9uIHNob3dQcmV2KCl7XHJcblx0dmFyIHByZXZTbGlkZSA9IGN1cnJlbnQucHJldignLnBob3RvLWl0ZW0nKTtcclxuXHRpZiAocHJldlNsaWRlLmxlbmd0aCkge1xyXG5cdFx0c2hvd1NsaWRlKHByZXZTbGlkZSk7XHJcblx0XHRjdXJyZW50ID0gcHJldlNsaWRlO1xyXG5cdH1cclxufTtcclxuXHJcbmZ1bmN0aW9uIHNob3dTbGlkZShfaXRlbSl7XHJcblx0dmFyIGltZ190aHVtYiA9IF9pdGVtLmRhdGEoJ3RodW1iJyk7XHJcblx0XHRpbWdfdGl0bGUgPSBfaXRlbS5kYXRhKCd0aXRsZScpLFxyXG5cdFx0aW1nX2xpa2VzID0gX2l0ZW0uZGF0YSgnbGlrZXMnKSxcclxuXHRcdGltZ191c2VyX25hbWUgPSBfaXRlbS5kYXRhKCd1c2VyX25hbWUnKSxcclxuXHRcdGltZ191c2VyX2F2YXRhciA9IF9pdGVtLmRhdGEoJ3VzZXJfYXZhdGFyJyksXHJcblx0XHRpbWdfZGVzYyA9IF9pdGVtLmRhdGEoJ2Rlc2MnKSxcclxuXHRcdGNvbW1lbnRzX2hvbGRlciA9IHNsaWRlci5maW5kKCcuY29tbWVudHNfX2hvbGRlcicpLFxyXG5cdFx0aW1nX2NvbW1lbnRzID0gX2l0ZW0uZmluZCgnLmNvbW1lbnRzX19pdGVtJyk7XHJcblxyXG5cdC8vINCe0YfQuNGJ0LXQvdC40LUg0LHQu9C+0LrQsCDQtNC70Y8g0LrQvtC80LzQtdC90YLQsNGA0LjQtdCyXHJcblx0Y29tbWVudHNfaG9sZGVyLmh0bWwoJycpO1xyXG5cclxuXHQvLyDQlNC+0LHQsNCy0LvQtdC90LjQtSDQutC+0LzQvNC10L3RgtCw0YDQuNC10LJcclxuXHRpbWdfY29tbWVudHMuZWFjaChmdW5jdGlvbihrZXksIHZhbHVlKXtcclxuXHRcdGNvbW1lbnRzX2hvbGRlci5hcHBlbmQodmFsdWUpO1xyXG5cdH0pO1xyXG5cclxuXHJcblx0dmFyIGltZ19kZXNjID0gX2l0ZW0uZGF0YSgnZGVzYycpO1xyXG5cclxuXHRzbGlkZXIuZmluZCgnLnNsaWRlcl9faW1nJykuYXR0cignc3JjJywgaW1nX3RodW1iKTtcclxuXHRzbGlkZXIuZmluZCgnLnNsaWRlcl9fdGl0bGUnKS5odG1sKGltZ190aXRsZSk7XHJcblx0c2xpZGVyLmZpbmQoJy5saWtlc19fY291bnQnKS5odG1sKGltZ19saWtlcyk7XHJcblx0c2xpZGVyLmZpbmQoJy5zbGlkZXJfX3RleHQnKS5odG1sKGltZ19kZXNjKTtcclxuXHRzbGlkZXIuZmluZCgnLnNsaWRlcl9fYXV0aG9yLW5hbWUnKS5odG1sKGltZ191c2VyX25hbWUpO1xyXG5cdHNsaWRlci5maW5kKCcuc2xpZGVyX19hdXRob3ItcGhvdG8gaW1nJykuYXR0cignc3JjJywgaW1nX3VzZXJfYXZhdGFyKTtcclxuXHJcblx0YWp1c3RJbWdIZWlnaHQoKTtcclxufVxyXG5cclxuJCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbigpe1xyXG5cdGNsZWFyVGltZW91dChyZXNpemVUaW1lb3V0KTtcclxuXHRyZXNpemVUaW1lb3V0ID0gc2V0VGltZW91dChhanVzdEltZ0hlaWdodCwgcmVzaXplRGVsdGEpO1xyXG59KTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG5cdGluaXQgOiBpbml0LFxyXG5cdHNob3dOZXh0OiBzaG93TmV4dCxcclxuXHRzaG93UHJldjogc2hvd1ByZXZcclxufTtcclxuXHJcblxufSx7XCIuL2hlbHBlcnMuanNcIjo0fV19LHt9LFsxXSk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
